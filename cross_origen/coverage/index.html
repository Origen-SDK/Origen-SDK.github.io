<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Chume crossorigen release</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_yellow.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2021-05-25T12:52:36-05:00">2021-05-25T12:52:36-05:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="yellow">
  88.48%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         52.56
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>8</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>625</b> relevant lines,
    <span class="green"><b>553</b> lines covered</span> and
    <span class="red"><b>72</b> lines missed. </span>
    (<span class="yellow">
  88.48%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#cc845be1ef90ccd7d839030535fe1999ca035934" class="src_link" title="lib/cross_origen.rb">lib/cross_origen.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.48 %</td>
            <td class="cell--number">121</td>
            <td class="cell--number">62</td>
            <td class="cell--number">53</td>
            <td class="cell--number">9</td>
            <td class="cell--number">4.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#2126b762f18f25a2dff040a7575a6dd6f64c2a37" class="src_link" title="lib/cross_origen/cmsis_svd.rb">lib/cross_origen/cmsis_svd.rb</a></td>
            <td class="green strong cell--number t-file__coverage">97.85 %</td>
            <td class="cell--number">155</td>
            <td class="cell--number">93</td>
            <td class="cell--number">91</td>
            <td class="cell--number">2</td>
            <td class="cell--number">39.10</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#05a7798bf45dc0036c553fc495b6adaaeb198c21" class="src_link" title="lib/cross_origen/design_sync.rb">lib/cross_origen/design_sync.rb</a></td>
            <td class="red strong cell--number t-file__coverage">26.67 %</td>
            <td class="cell--number">54</td>
            <td class="cell--number">30</td>
            <td class="cell--number">8</td>
            <td class="cell--number">22</td>
            <td class="cell--number">0.27</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#565c5085632e29bff51ebb804b7f382365586f67" class="src_link" title="lib/cross_origen/headers.rb">lib/cross_origen/headers.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">21</td>
            <td class="cell--number">10</td>
            <td class="cell--number">10</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8c39ff2fb96741956fc05f7baf9d237b2b9d339e" class="src_link" title="lib/cross_origen/ip_xact.rb">lib/cross_origen/ip_xact.rb</a></td>
            <td class="green strong cell--number t-file__coverage">91.13 %</td>
            <td class="cell--number">532</td>
            <td class="cell--number">248</td>
            <td class="cell--number">226</td>
            <td class="cell--number">22</td>
            <td class="cell--number">29.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#49071407f081fc08a7723cef6e0f1490e0c7e007" class="src_link" title="lib/cross_origen/ralf.rb">lib/cross_origen/ralf.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">15</td>
            <td class="cell--number">7</td>
            <td class="cell--number">7</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8385f39f0655c4c2e64db4c251e01a9461b05bc2" class="src_link" title="lib/cross_origen/xml_doc.rb">lib/cross_origen/xml_doc.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">84.68 %</td>
            <td class="cell--number">252</td>
            <td class="cell--number">111</td>
            <td class="cell--number">94</td>
            <td class="cell--number">17</td>
            <td class="cell--number">189.25</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#eb4cf64008d9e907e5805873e92b1d9c6f4c9003" class="src_link" title="lib/cross_origen_dev/dut.rb">lib/cross_origen_dev/dut.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">121</td>
            <td class="cell--number">64</td>
            <td class="cell--number">64</td>
            <td class="cell--number">0</td>
            <td class="cell--number">9.97</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.21.2
        and simplecov-html v0.12.3<br/>
        using test
      </div>

      <div class="source_files">
      
        <div class="source_table" id="cc845be1ef90ccd7d839030535fe1999ca035934">
  <div class="header">
    <h3>lib/cross_origen.rb</h3>
    <h4>
      <span class="yellow">
  85.48%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>62</b> relevant lines.
      <span class="green"><b>53</b> lines covered</span> and
      <span class="red"><b>9</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;origen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;../config/application.rb&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :XMLDoc,       &#39;cross_origen/xml_doc&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :Headers,      &#39;cross_origen/headers&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :Ralf,         &#39;cross_origen/ralf&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :IpXact,       &#39;cross_origen/ip_xact&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :DesignSync,   &#39;cross_origen/design_sync&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :CMSISSVD,     &#39;cross_origen/cmsis_svd&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  # Basic object that is used to capture imported data and then export/save</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # it to Origen format</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include Origen::Model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  # Returns true if the --refresh switch was passed to the current Origen command</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.refresh?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="20">
            <span class="hits">15</span>
            

            

            <code class="ruby">    @refresh || false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.include_timestamp?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="24">
            <span class="hits">4</span>
            

            

            <code class="ruby">    instance_variable_defined?(:@include_timestamp) ? @include_timestamp : true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.include_timestamp=(val)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="28">
            <span class="hits">19</span>
            

            

            <code class="ruby">    @include_timestamp = val</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def instance_respond_to?(method_name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">    public_methods.include?(method_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_import(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    options = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="37">
            <span class="hits">19</span>
            

            

            <code class="ruby">      include_timestamp: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    }.merge(options)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="39">
            <span class="hits">19</span>
            

            

            <code class="ruby">    CrossOrigen.include_timestamp = options[:include_timestamp]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="40">
            <span class="hits">19</span>
            

            

            <code class="ruby">    file = cr_file(options)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="41">
            <span class="hits">19</span>
            

            

            <code class="ruby">    cr_translator(file, options).import(file, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def to_ralf(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cr_ralf.owner_to_ralf(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def to_ip_xact(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="49">
            <span class="hits">4</span>
            

            

            <code class="ruby">    cr_ip_xact.owner_to_xml(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">  alias_method :to_ipxact, :to_ip_xact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def to_header(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cr_headers.owner_to_header(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">  # Tries the given methods and returns the first one to return a value,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">  # ultimately returns nil if no value is found.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_try(*methods)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="60">
            <span class="hits">2</span>
            

            

            <code class="ruby">    methods.each do |method|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="61">
            <span class="hits">3</span>
            

            

            <code class="ruby">      if self.respond_to?(method)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="62">
            <span class="hits">2</span>
            

            

            <code class="ruby">        val = send(method)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="63">
            <span class="hits">2</span>
            

            

            <code class="ruby">        return val if val</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">  # Returns an instance of the DesignSync interface</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_design_sync</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="71">
            
            

            

            <code class="ruby">    @cr_design_sync ||= DesignSync.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_headers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @cr_headers ||= Headers.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_ralf</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @cr_ralf ||= Ralf.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_ip_xact</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="83">
            <span class="hits">22</span>
            

            

            <code class="ruby">    @cr_ip_xact ||= IpXact.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_cmsis_svd</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="87">
            <span class="hits">2</span>
            

            

            <code class="ruby">    @cr_cmsis_svd ||= CMSISSVD.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">  # Returns an instance of the translator for the format of the given file</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_translator(file, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="94">
            <span class="hits">19</span>
            

            

            <code class="ruby">    snippet = IO.read(file, 2000)  # Read first 2000 characters</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="95">
            <span class="hits">19</span>
            

            

            <code class="ruby">    case snippet</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">    when /spiritconsortium/</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="97">
            <span class="hits">17</span>
            

            

            <code class="ruby">      cr_ip_xact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">    when /CMSIS-SVD.xsd/</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="99">
            <span class="hits">2</span>
            

            

            <code class="ruby">      cr_cmsis_svd</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      # Give IP-XACT another opportunity if it looks like partial IP-XACT doc</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">      if snippet =~ /&lt;spirit:register&gt;/</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">        options[:fragment] = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        cr_ip_xact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="106">
            
            

            

            <code class="ruby">        fail &quot;Unknown file format for file: #{file}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">  # Returns a local path to the given file defined by the options.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cr_file(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="113">
            <span class="hits">19</span>
            

            

            <code class="ruby">    if options[:path]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="114">
            <span class="hits">19</span>
            

            

            <code class="ruby">      options[:path]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="115">
            
            

            

            <code class="ruby">    elsif options[:vault]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">      cr_design_sync.fetch(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="118">
            
            

            

            <code class="ruby">      fail &#39;You must supply a :path or :vault option pointing to the import file!&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2126b762f18f25a2dff040a7575a6dd6f64c2a37">
  <div class="header">
    <h3>lib/cross_origen/cmsis_svd.rb</h3>
    <h4>
      <span class="green">
  97.85%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>93</b> relevant lines.
      <span class="green"><b>91</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class CMSISSVD &lt; XMLDoc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def import(file, options = {}) # rubocop:disable CyclomaticComplexity</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="4">
            <span class="hits">2</span>
            

            

            <code class="ruby">      filename = Pathname.new(file).basename(&#39;.*&#39;).to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="6">
            <span class="hits">2</span>
            

            

            <code class="ruby">      unless options[:refresh] || CrossOrigen.refresh?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="7">
            
            

            

            <code class="ruby">        return if owner.import(filename, allow_missing: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="10">
            <span class="hits">2</span>
            

            

            <code class="ruby">      model = CrossOrigen::Model.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="12">
            <span class="hits">2</span>
            

            

            <code class="ruby">      doc(file, options) do |doc|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="13">
            <span class="hits">2</span>
            

            

            <code class="ruby">        peripherals = peripherals(doc)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="14">
            <span class="hits">8</span>
            

            

            <code class="ruby">        groups = peripherals.values.map { |v| v[:group] }.uniq</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="16">
            <span class="hits">4</span>
            

            

            <code class="ruby">        groups.each { |group| model.sub_block group }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="18">
            <span class="hits">2</span>
            

            

            <code class="ruby">        peripherals.each do |name, attrs|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="19">
            <span class="hits">6</span>
            

            

            <code class="ruby">          base = attrs[:group] ? model.send(attrs[:group]) : model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="20">
            <span class="hits">6</span>
            

            

            <code class="ruby">          block = base.sub_block name, base_address: attrs[:base_address]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="22">
            <span class="hits">6</span>
            

            

            <code class="ruby">          if attrs[:parent]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="23">
            <span class="hits">4</span>
            

            

            <code class="ruby">            add_registers(block, find_peripheral_by_name(doc, attrs[:parent]))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="25">
            <span class="hits">6</span>
            

            

            <code class="ruby">          add_registers(block, find_peripheral_by_name(doc, name))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="28">
            <span class="hits">2</span>
            

            

            <code class="ruby">      model.export(filename, include_timestamp: CrossOrigen.include_timestamp?)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="29">
            <span class="hits">2</span>
            

            

            <code class="ruby">      owner.import(filename)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def add_registers(model, peripheral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="35">
            <span class="hits">10</span>
            

            

            <code class="ruby">      peripheral.xpath(&#39;registers/register&#39;).each do |r|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="36">
            <span class="hits">48</span>
            

            

            <code class="ruby">        name = extract(r, &#39;name&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="37">
            <span class="hits">48</span>
            

            

            <code class="ruby">        di = extract(r, &#39;dim&#39;, format: :integer)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="38">
            <span class="hits">48</span>
            

            

            <code class="ruby">        dim = !!di</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="39">
            <span class="hits">48</span>
            

            

            <code class="ruby">        if dim</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="40">
            <span class="hits">6</span>
            

            

            <code class="ruby">          dinc = extract(r, &#39;dimIncrement&#39;, format: :integer)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="41">
            <span class="hits">6</span>
            

            

            <code class="ruby">          dvals = extract(r, &#39;dimIndex&#39;).split(&#39;,&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="42" data-linenumber="43">
            <span class="hits">42</span>
            

            

            <code class="ruby">          di = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="45">
            <span class="hits">48</span>
            

            

            <code class="ruby">        offset = extract(r, &#39;addressOffset&#39;, format: :integer, hex: true)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="46">
            <span class="hits">48</span>
            

            

            <code class="ruby">        size = extract(r, &#39;size&#39;, format: :integer)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="47">
            <span class="hits">48</span>
            

            

            <code class="ruby">        reset = extract(r, &#39;resetValue&#39;, format: :integer, hex: true)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="48">
            <span class="hits">48</span>
            

            

            <code class="ruby">        desc = (extract(r, &#39;description&#39;) || &#39;&#39;).gsub(&quot;&#39;&quot;, %q(\\\&#39;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="48" data-linenumber="50">
            <span class="hits">48</span>
            

            

            <code class="ruby">        di.times do |i|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="66" data-linenumber="51">
            <span class="hits">66</span>
            

            

            <code class="ruby">          if dim</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="52">
            <span class="hits">24</span>
            

            

            <code class="ruby">            n = name.sub(&#39;[%s]&#39;, dvals[i])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="53">
            <span class="hits">24</span>
            

            

            <code class="ruby">            addr = offset + (i * dinc)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="42" data-linenumber="55">
            <span class="hits">42</span>
            

            

            <code class="ruby">            n = name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="42" data-linenumber="56">
            <span class="hits">42</span>
            

            

            <code class="ruby">            addr = offset</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">          opts = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="66" data-linenumber="59">
            <span class="hits">66</span>
            

            

            <code class="ruby">            size:        size,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">            description: desc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="66" data-linenumber="62">
            <span class="hits">66</span>
            

            

            <code class="ruby">          opts[:reset] = reset if reset</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="66" data-linenumber="63">
            <span class="hits">66</span>
            

            

            <code class="ruby">          reg_name = n.downcase.symbolize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">          # The register could already exist if it was added by a parent peripheral definition and now it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">          # is redefined/overridden by a descendent peripheral</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="66" data-linenumber="66">
            <span class="hits">66</span>
            

            

            <code class="ruby">          model.del_reg(reg_name) if model.has_reg?(reg_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="66" data-linenumber="67">
            <span class="hits">66</span>
            

            

            <code class="ruby">          model.reg reg_name, addr, opts do |reg|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="66" data-linenumber="68">
            <span class="hits">66</span>
            

            

            <code class="ruby">            r.xpath(&#39;fields/field&#39;).each do |b|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="69">
            <span class="hits">120</span>
            

            

            <code class="ruby">              bn = extract(b, &#39;name&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="70">
            <span class="hits">120</span>
            

            

            <code class="ruby">              unless bn == &#39;RESERVED&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="71">
            <span class="hits">120</span>
            

            

            <code class="ruby">                bn = bn.to_s.downcase.symbolize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="72">
            <span class="hits">120</span>
            

            

            <code class="ruby">                lsb = extract(b, &#39;lsb&#39;, format: :integer)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="73">
            <span class="hits">120</span>
            

            

            <code class="ruby">                msb = extract(b, &#39;msb&#39;, format: :integer)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="74">
            <span class="hits">120</span>
            

            

            <code class="ruby">                unless lsb</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="75">
            <span class="hits">120</span>
            

            

            <code class="ruby">                  lsb = extract(b, &#39;bitOffset&#39;, format: :integer)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="76">
            <span class="hits">120</span>
            

            

            <code class="ruby">                  if lsb</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">                    msb = lsb + extract(b, &#39;msb&#39;, format: :integer) - 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">                  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="80">
            <span class="hits">120</span>
            

            

            <code class="ruby">                unless lsb</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="81">
            <span class="hits">120</span>
            

            

            <code class="ruby">                  range = extract(b, &#39;bitRange&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="82">
            <span class="hits">120</span>
            

            

            <code class="ruby">                  range =~ /\[(\d+):(\d+)\]/</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="83">
            <span class="hits">120</span>
            

            

            <code class="ruby">                  lsb = Regexp.last_match(2).to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="84">
            <span class="hits">120</span>
            

            

            <code class="ruby">                  msb = Regexp.last_match(1).to_i</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="86">
            <span class="hits">120</span>
            

            

            <code class="ruby">                access = extract(b, &#39;access&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="87">
            <span class="hits">120</span>
            

            

            <code class="ruby">                desc = (extract(r, &#39;description&#39;) || &#39;&#39;).gsub(&quot;&#39;&quot;, %q(\\\&#39;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="88">
            <span class="hits">120</span>
            

            

            <code class="ruby">                case access</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">                when &#39;read-only&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="90">
            <span class="hits">18</span>
            

            

            <code class="ruby">                  ac = :ro</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">                else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="102" data-linenumber="92">
            <span class="hits">102</span>
            

            

            <code class="ruby">                  ac = :rw</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="94">
            <span class="hits">120</span>
            

            

            <code class="ruby">                if lsb == msb</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="95">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  reg.bit lsb, bn, access: ac, description: desc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">                else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="97">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  reg.bit msb..lsb, bn, access: ac, description: desc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def find_peripheral_by_name(doc, pname)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="107">
            <span class="hits">10</span>
            

            

            <code class="ruby">      doc.xpath(&#39;device/peripherals/peripheral&#39;).find do |peripheral|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="108">
            <span class="hits">16</span>
            

            

            <code class="ruby">        pname == name(peripheral)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def clean_name(name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="113">
            <span class="hits">32</span>
            

            

            <code class="ruby">      name = name.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="114">
            <span class="hits">32</span>
            

            

            <code class="ruby">      unless name.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="115">
            <span class="hits">28</span>
            

            

            <code class="ruby">        name.downcase.symbolize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def name(peripheral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="120">
            <span class="hits">22</span>
            

            

            <code class="ruby">      clean_name(fetch(peripheral.xpath(&#39;name&#39;), get_text: true))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def group_name(peripheral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="124">
            <span class="hits">6</span>
            

            

            <code class="ruby">      clean_name(fetch(peripheral.xpath(&#39;groupName&#39;), get_text: true))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def parent(peripheral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="128">
            <span class="hits">6</span>
            

            

            <code class="ruby">      a = peripheral.attributes[&#39;derivedFrom&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="129">
            <span class="hits">6</span>
            

            

            <code class="ruby">      a ? clean_name(a.value) : nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def base_address(peripheral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="133">
            <span class="hits">6</span>
            

            

            <code class="ruby">      extract(peripheral, &#39;baseAddress&#39;, format: :integer, hex: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def peripherals(doc)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="137">
            <span class="hits">2</span>
            

            

            <code class="ruby">      peripherals = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="138">
            <span class="hits">2</span>
            

            

            <code class="ruby">      doc.xpath(&#39;device/peripherals/peripheral&#39;).each do |peripheral|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="139">
            <span class="hits">6</span>
            

            

            <code class="ruby">        peripherals[name(peripheral)] = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">          group:        group_name(peripheral),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">          parent:       parent(peripheral),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">          base_address: base_address(peripheral)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      # Inherit missing values from parents...</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="146">
            <span class="hits">2</span>
            

            

            <code class="ruby">      p = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="147">
            <span class="hits">2</span>
            

            

            <code class="ruby">      peripherals.each do |k, v|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="148">
            <span class="hits">6</span>
            

            

            <code class="ruby">        v[:group] ||= peripherals[v[:parent]][:group]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="149">
            <span class="hits">6</span>
            

            

            <code class="ruby">        v[:base_address] ||= peripherals[v[:parent]][:base_address]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="150">
            <span class="hits">6</span>
            

            

            <code class="ruby">        p[k] = v</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="152">
            <span class="hits">2</span>
            

            

            <code class="ruby">      p</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="05a7798bf45dc0036c553fc495b6adaaeb198c21">
  <div class="header">
    <h3>lib/cross_origen/design_sync.rb</h3>
    <h4>
      <span class="red">
  26.67%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>30</b> relevant lines.
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>22</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  # Driver for talking to DesignSync</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class DesignSync</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    require &#39;digest/sha1&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">    # Returns the object that included the CrossOrigen module</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(owner)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="10">
            
            

            

            <code class="ruby">      @owner = owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def driver</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="14">
            
            

            

            <code class="ruby">      @driver ||= Origen::Utility::DesignSync.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    # Returns a full path to the Design Sync import (cache) directory</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def import_dir</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">      return @import_dir if @import_dir</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">      @import_dir = &quot;#{Origen.app.workspace_manager.imports_directory}/design_sync&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">      FileUtils.mkdir_p(@import_dir) unless File.exist?(@import_dir)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">      @import_dir</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    # This will be called if the user has supplied a :vault in the rs_import options. The corresponding</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    # version of the file will be returned from the cache if it already exists locally, otherwise it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    # will be imported.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    # This method returns a full path to the local cache copy of the file.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def fetch(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">      unless options[:version]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">        puts &#39;You must supply a :version number (or tag) when importing data from Design Sync&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">        exit 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="35">
            
            

            

            <code class="ruby">      v = options[:vault]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">      f = v.split(&#39;/&#39;).last</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">      vault = v.sub(/\/#{f}$/, &#39;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      # Consider that similarly named files could exist in different vaults, so attach</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      # a representation of the vault to the filename</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">      vault_hash = Digest::SHA1.hexdigest(vault)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">      dir = &quot;#{import_dir}/#{vault_hash}-#{f}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">      file = &quot;#{dir}/#{options[:version]}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">      if f =~ /.*\.(.*)/</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">        file += &quot;.#{Regexp.last_match[1]}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">      if !File.exist?(file) || options[:force]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">        FileUtils.mkdir_p(dir) unless File.exist?(dir)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">        driver.import(f, vault, options[:version], dir)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">        FileUtils.mv(&quot;#{dir}/#{f}&quot;, file)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">      file</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="565c5085632e29bff51ebb804b7f382365586f67">
  <div class="header">
    <h3>lib/cross_origen/headers.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>10</b> relevant lines.
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Headers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">    # Returns the object that included the CrossOrigen module</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(owner)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @owner = owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    # Returns a string representing the owner as a C header</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def owner_to_header(_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">      Origen.compile(&quot;#{path_to_templates}/headers/default.h.erb&quot;, scope: owner)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def path_to_templates</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      &quot;#{File.expand_path(File.dirname(__FILE__))}/../../templates&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8c39ff2fb96741956fc05f7baf9d237b2b9d339e">
  <div class="header">
    <h3>lib/cross_origen/ip_xact.rb</h3>
    <h4>
      <span class="green">
  91.13%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>248</b> relevant lines.
      <span class="green"><b>226</b> lines covered</span> and
      <span class="red"><b>22</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class IpXact &lt; XMLDoc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    AddressSpace = Struct.new(:name, :range, :width)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    MemoryMaps = Struct.new(:name, :address_blocks)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    AddressBlock = Struct.new(:name, :base_address, :range, :width)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # Create a shorthand way to reference Origen Core&#39;s Bit ACCESS_CODES</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @@access_hash = Origen::Registers::Bit.const_get(:ACCESS_CODES)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # Import/reader that currently only supports creating registers and bit fields</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def import(file, options = {}) # rubocop:disable CyclomaticComplexity</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="14">
            <span class="hits">17</span>
            

            

            <code class="ruby">      require &#39;kramdown&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="16">
            <span class="hits">17</span>
            

            

            <code class="ruby">      filename = Pathname.new(file).basename(&#39;.*&#39;).to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="18">
            <span class="hits">17</span>
            

            

            <code class="ruby">      unless options[:refresh] || CrossOrigen.refresh?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="19">
            <span class="hits">15</span>
            

            

            <code class="ruby">        return if owner.import(filename, allow_missing: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="22">
            <span class="hits">2</span>
            

            

            <code class="ruby">      model = CrossOrigen::Model.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="24">
            <span class="hits">2</span>
            

            

            <code class="ruby">      address_spaces = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="26">
            <span class="hits">2</span>
            

            

            <code class="ruby">      doc(file, options) do |doc|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="27">
            <span class="hits">2</span>
            

            

            <code class="ruby">        doc.xpath(&#39;//spirit:addressSpaces/spirit:addressSpace&#39;).each do |addr_space|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">          name = fetch addr_space.at_xpath(&#39;spirit:name&#39;), downcase: true, to_sym: true, get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">          range = fetch addr_space.at_xpath(&#39;spirit:range&#39;), get_text: true, to_dec: true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">          width = fetch addr_space.at_xpath(&#39;spirit:width&#39;), get_text: true, to_i: true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">          address_spaces[name] = AddressSpace.new(name, range, width)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="33">
            <span class="hits">2</span>
            

            

            <code class="ruby">        open_memory_map(doc) do |mem_map|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="34">
            <span class="hits">2</span>
            

            

            <code class="ruby">          if mem_map</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="35">
            <span class="hits">2</span>
            

            

            <code class="ruby">            mem_map_name = fetch mem_map.at_xpath(&#39;spirit:name&#39;), downcase: true, to_sym: true, get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="36">
            <span class="hits">2</span>
            

            

            <code class="ruby">            if mem_map_name.to_s.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">              mem_map_obj = model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="39">
            <span class="hits">2</span>
            

            

            <code class="ruby">              model.sub_block mem_map_name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="40">
            <span class="hits">2</span>
            

            

            <code class="ruby">              mem_map_obj = model.send(mem_map_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="42">
            <span class="hits">2</span>
            

            

            <code class="ruby">            addr_blocks = mem_map.xpath(&#39;spirit:addressBlock&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">            mem_map_obj = model</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">            addr_blocks = doc.xpath(&#39;//spirit:addressBlock&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="47">
            <span class="hits">2</span>
            

            

            <code class="ruby">          addr_blocks.each do |addr_block|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="48">
            <span class="hits">2</span>
            

            

            <code class="ruby">            name = fetch addr_block.at_xpath(&#39;spirit:name&#39;), downcase: true, to_sym: true, get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="49">
            <span class="hits">2</span>
            

            

            <code class="ruby">            base_address = fetch addr_block.at_xpath(&#39;spirit:baseAddress&#39;), get_text: true, to_dec: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="50">
            <span class="hits">2</span>
            

            

            <code class="ruby">            range = fetch addr_block.at_xpath(&#39;spirit:range&#39;), get_text: true, to_dec: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="51">
            <span class="hits">2</span>
            

            

            <code class="ruby">            width = fetch addr_block.at_xpath(&#39;spirit:width&#39;), get_text: true, to_i: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="52">
            <span class="hits">2</span>
            

            

            <code class="ruby">            if name.to_s.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="53">
            <span class="hits">2</span>
            

            

            <code class="ruby">              addr_block_obj = mem_map_obj</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">              mem_map_obj.sub_block name, base_address: base_address, range: range, lau: width</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">              addr_block_obj = mem_map_obj.send(name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="58">
            <span class="hits">2</span>
            

            

            <code class="ruby">            addr_block.xpath(&#39;spirit:register&#39;).each do |register|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="59">
            <span class="hits">4</span>
            

            

            <code class="ruby">              name = fetch register.at_xpath(&#39;spirit:name&#39;), downcase: true, to_sym: true, get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="60">
            <span class="hits">4</span>
            

            

            <code class="ruby">              size = fetch register.at_xpath(&#39;spirit:size&#39;), get_text: true, to_i: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="61">
            <span class="hits">4</span>
            

            

            <code class="ruby">              addr_offset = fetch register.at_xpath(&#39;spirit:addressOffset&#39;), get_text: true, to_dec: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="62">
            <span class="hits">4</span>
            

            

            <code class="ruby">              access = fetch register.at_xpath(&#39;spirit:access&#39;), get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">              # Determine if a reset is defined for the register</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="64">
            <span class="hits">4</span>
            

            

            <code class="ruby">              if register.at_xpath(&#39;spirit:reset&#39;).nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">                # If a reset does not exist, need to set the reset_value to 0, as Origen does not (yet) have a concept</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">                # of a register without a reset.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">                reset_value = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">              else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">                # If a reset exists, determine the reset_value (required) and reset_mask (if defined)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="70">
            <span class="hits">4</span>
            

            

            <code class="ruby">                reset_value = fetch register.at_xpath(&#39;spirit:reset/spirit:value&#39;), get_text: true, to_dec: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="71">
            <span class="hits">4</span>
            

            

            <code class="ruby">                reset_mask = fetch register.at_xpath(&#39;spirit:reset/spirit:mask&#39;), get_text: true, to_dec: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">                # Issue #8 fix - reset_mask is optional, keep reset value as imported when a mask is not defined.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">                # Only perform AND-ing if mask is defined.  Only zero-out the reset_value if reset_value was nil.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="74">
            <span class="hits">4</span>
            

            

            <code class="ruby">                if reset_value.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">                  # Set default for reset_value attribute if none was provided and issue a warning.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="76">
            
            

            

            <code class="ruby">                  reset_value = 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">                  Origen.log.warning &quot;Register #{name.upcase} was defined as having a reset, but did not have a defined reset value.  This is not compliant with IP-XACT standard.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">                  Origen.log.warning &quot;The reset value for #{name.upcase} has been defined as 0x0 as a result.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="79">
            <span class="hits">4</span>
            

            

            <code class="ruby">                elsif reset_mask.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">                  # If mask is undefined, leave reset_value alone.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">                else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">                  # Do a logical bitwise AND with the reset value and mask</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="83">
            <span class="hits">4</span>
            

            

            <code class="ruby">                  reset_value = reset_value &amp; reset_mask</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">              # Future expansion: pull in HDL path as abs_path in Origen.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="87">
            <span class="hits">4</span>
            

            

            <code class="ruby">              addr_block_obj.reg name, addr_offset, size: size, access: access, description: reg_description(register) do |reg|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="88">
            <span class="hits">4</span>
            

            

            <code class="ruby">                register.xpath(&#39;spirit:field&#39;).each do |field|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="89">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  name = fetch field.at_xpath(&#39;spirit:name&#39;), downcase: true, to_sym: true, get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="90">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  bit_offset = fetch field.at_xpath(&#39;spirit:bitOffset&#39;), get_text: true, to_i: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="91">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  bit_width = fetch field.at_xpath(&#39;spirit:bitWidth&#39;), get_text: true, to_i: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="92">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  xml_access = fetch field.at_xpath(&#39;spirit:access&#39;), get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">                  # Newer IP-XACT standards list access as &lt; read or write&gt;-&lt; descriptor &gt;, such as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">                  # &quot;read-write&quot;, &quot;read-only&quot;, or &quot;read-writeOnce&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="95">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  if xml_access =~ /\S+\-\S+/ || xml_access == &#39;writeOnce&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">                    # This filter alone is not capable of interpreting the 1685-2009 (and 2014).  Therefore</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">                    # must reverse-interpret the content of access_hash (see top of file).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">                    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">                    # First get the base access type, ie: read-write, read-only, etc.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">                    # base_access = fetch field.at_xpath(&#39;spirit:access&#39;), get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="101">
            <span class="hits">30</span>
            

            

            <code class="ruby">                    base_access = xml_access</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">                    # Next grab any modified write values or read actions</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="103">
            <span class="hits">30</span>
            

            

            <code class="ruby">                    mod_write = fetch field.at_xpath(&#39;spirit:modifiedWriteValue&#39;), get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="104">
            <span class="hits">30</span>
            

            

            <code class="ruby">                    read_action = fetch field.at_xpath(&#39;spirit:readAction&#39;), get_text: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">                    # Using base_access, mod_write, and read_action, look up the corresponding access</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">                    # acronym from access_hash, noting it is not possible to differentiate write-only</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">                    # from write-only, read zero and read-write from dc.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">                    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">                    # Matched needs to be tracked, as there is no way to differentiate :rw and :dc in IP-XACT.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">                    # Everything imported will default to :rw, never :dc.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="111">
            <span class="hits">30</span>
            

            

            <code class="ruby">                    matched = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="112">
            <span class="hits">30</span>
            

            

            <code class="ruby">                    @@access_hash.each_key do |key|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="840" data-linenumber="113">
            <span class="hits">840</span>
            

            

            <code class="ruby">                      if @@access_hash[key][:base] == base_access &amp;&amp; @@access_hash[key][:write] == mod_write &amp;&amp; @@access_hash[key][:read] == read_action &amp;&amp; !matched</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="114">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        access = key.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="115">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        matched = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">                      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">                    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">                  # Older IP-XACT standards appear to also accept short acronyms like &quot;ro&quot;, &quot;w1c&quot;, &quot;rw&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">                  # etc.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="120">
            <span class="hits">30</span>
            

            

            <code class="ruby">                  elsif xml_access =~ /\S+/</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="121">
            <span class="hits">30</span>
            

            

            <code class="ruby">                    access = xml_access.downcase.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">                  else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">                    # default to read-write if access is not specified</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="124">
            
            

            

            <code class="ruby">                    access = :rw</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">                  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="126">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  range = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="127">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  if bit_width == 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="58" data-linenumber="128">
            <span class="hits">58</span>
            

            

            <code class="ruby">                    range = bit_offset</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">                  else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="130">
            <span class="hits">2</span>
            

            

            <code class="ruby">                    range = (bit_offset + bit_width - 1)..bit_offset</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">                  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="132">
            <span class="hits">60</span>
            

            

            <code class="ruby">                  reg.bit range, name, reset: reset_value[range], access: access, description: bit_description(field)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="139">
            <span class="hits">2</span>
            

            

            <code class="ruby">      model.export(filename, include_timestamp: CrossOrigen.include_timestamp?)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="140">
            <span class="hits">2</span>
            

            

            <code class="ruby">      owner.import(filename, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="143">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def doc(path, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      # If a fragment of IP-XACT is given, then wrap it with a valid header and we will try our best</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="145">
            <span class="hits">2</span>
            

            

            <code class="ruby">      if options[:fragment]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">        require &#39;nokogiri&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="148">
            
            

            

            <code class="ruby">        content = %(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">&lt;?xml version=&quot;1.0&quot;?&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">&lt;spirit:component xmlns:spirit=&quot;http://www.spiritconsortium.org/XMLSchema/SPIRIT/1.4&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">xsi:schemaLocation=&quot;$REGMEM_HOME/builder/ipxact/schema/ipxact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">          $REGMEM_HOME/builder/ipxact/schema/ipxact/index.xsd&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">        #{File.read(path)}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">&lt;/spirit:component&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="157">
            
            

            

            <code class="ruby">        yield Nokogiri::XML(content)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="159">
            <span class="hits">2</span>
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">    # Returns a string representing the owner object in IP-XACT XML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">    # Usable / Available options:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">    #   :vendor             = Company name/web address, ex: &#39;nxp.com&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">    #   :library            = IP Library</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">    #   :schema             = &#39;1685-2009&#39; or default of Spirit 1.4 (when no :schema option passed)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">    #   :bus_interface      = only &#39;AMBA3&#39; supported at this time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">    #   :mmap_name          = Optionally set the memoryMap name to something other than the module name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">    #   :mmap_ref           = memoryMapRef name, ex: &#39;UserMap&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">    #   :addr_block_name    = addressBlock -&gt; Name, ex: &#39;ATX&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="172">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def owner_to_xml(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="173">
            <span class="hits">4</span>
            

            

            <code class="ruby">      require &#39;nokogiri&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      options = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="176">
            <span class="hits">4</span>
            

            

            <code class="ruby">        include_bit_field_values: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      }.merge(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="179">
            <span class="hits">4</span>
            

            

            <code class="ruby">      @format = options[:format]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      # Compatible schemas: Spirit 1.4, 1685-2009</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      # Assume Spirit 1.4 if no schema provided</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="183">
            <span class="hits">4</span>
            

            

            <code class="ruby">      if options[:schema] == &#39;1685-2009&#39; # Magillem tool uses alternate schema</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">        schemas = [</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="185">
            <span class="hits">2</span>
            

            

            <code class="ruby">          &#39;http://www.spiritconsortium.org/XMLSchema/SPIRIT/1685-2009&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">          &#39;http://www.spiritconsortium.org/XMLSchema/SPIRIT/1685-2009/index.xsd&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      else # Assume Spirit 1.4 if not</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">        schemas = [</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="190">
            <span class="hits">2</span>
            

            

            <code class="ruby">          &#39;http://www.spiritconsortium.org/XMLSchema/SPIRIT/1.4&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">          &#39;http://www.spiritconsortium.org/XMLSchema/SPIRIT/1.4/index.xsd&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="195">
            <span class="hits">4</span>
            

            

            <code class="ruby">      if uvm? &amp;&amp; !(options[:schema] == &#39;1685-2009&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            <span class="hits">1</span>
            

            

            <code class="ruby">        schemas &lt;&lt; &#39;$IREG_GEN/XMLSchema/SPIRIT/VendorExtensions.xsd&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="199">
            <span class="hits">4</span>
            

            

            <code class="ruby">      if options[:schema] == &#39;1685-2009&#39; # Magillem tool uses alternate schema</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">        headers = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="201">
            <span class="hits">2</span>
            

            

            <code class="ruby">          &#39;xmlns:spirit&#39;       =&gt; &#39;http://www.spiritconsortium.org/XMLSchema/SPIRIT/1685-2009&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">          &#39;xmlns:xsi&#39;          =&gt; &#39;http://www.w3.org/2001/XMLSchema-instance&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">          &#39;xsi:schemaLocation&#39; =&gt; schemas.join(&#39; &#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      else # Assume Spirit 1.4 if not</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">        headers = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="207">
            <span class="hits">2</span>
            

            

            <code class="ruby">          &#39;xmlns:spirit&#39;       =&gt; &#39;http://www.spiritconsortium.org/XMLSchema/SPIRIT/1.4&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">          &#39;xmlns:xsi&#39;          =&gt; &#39;http://www.w3.org/2001/XMLSchema-instance&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">          &#39;xsi:schemaLocation&#39; =&gt; schemas.join(&#39; &#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="213">
            <span class="hits">4</span>
            

            

            <code class="ruby">      if uvm? &amp;&amp; !(options[:schema] == &#39;1685-2009&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="214">
            <span class="hits">1</span>
            

            

            <code class="ruby">        headers[&#39;xmlns:vendorExtensions&#39;] = &#39;$IREG_GEN/XMLSchema/SPIRIT&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">        # Else:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">        # Do nothing ?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">        # headers[&#39;xmlns:vendorExtensions&#39;] = &#39;$UVM_RGM_HOME/builder/ipxact/schema&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="220">
            <span class="hits">4</span>
            

            

            <code class="ruby">      builder = Nokogiri::XML::Builder.new(encoding: &#39;UTF-8&#39;) do |xml|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="221">
            <span class="hits">4</span>
            

            

            <code class="ruby">        spirit = xml[&#39;spirit&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="222">
            <span class="hits">4</span>
            

            

            <code class="ruby">        spirit.component(headers) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="223">
            <span class="hits">4</span>
            

            

            <code class="ruby">          spirit.vendor options[:vendor] || &#39;Origen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="224">
            <span class="hits">4</span>
            

            

            <code class="ruby">          spirit.library options[:library] || &#39;Origen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">          # I guess this should really be the register owner&#39;s owner&#39;s name?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="226">
            <span class="hits">4</span>
            

            

            <code class="ruby">          spirit.name try(:ip_name) || owner.class.to_s.split(&#39;::&#39;).last</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="227">
            <span class="hits">4</span>
            

            

            <code class="ruby">          spirit.version try(:ip_version, :version, :revision)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">          # The 1685-2009 schema allows for a bus interface.  AMBA3 (slave) supported so far.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="229">
            <span class="hits">4</span>
            

            

            <code class="ruby">          if options[:schema] == &#39;1685-2009&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="230">
            <span class="hits">2</span>
            

            

            <code class="ruby">            if options[:bus_interface] == &#39;AMBA3&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="231">
            <span class="hits">1</span>
            

            

            <code class="ruby">              spirit.busInterfaces do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="232">
            <span class="hits">1</span>
            

            

            <code class="ruby">                spirit.busInterface do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="233">
            <span class="hits">1</span>
            

            

            <code class="ruby">                  spirit.name &#39;Slave&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">                  bustype_header = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="235">
            <span class="hits">1</span>
            

            

            <code class="ruby">                    &#39;spirit:vendor&#39;  =&gt; options[:vendor] || &#39;Origen&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">                    &#39;spirit:library&#39; =&gt; &#39;amba3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">                    &#39;spirit:name&#39;    =&gt; &#39;APB3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">                    &#39;spirit:version&#39; =&gt; &#39;1.0&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">                  }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="240">
            <span class="hits">1</span>
            

            

            <code class="ruby">                  xml[&#39;spirit&#39;].busType bustype_header</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="241">
            <span class="hits">1</span>
            

            

            <code class="ruby">                  spirit.slave do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">                    mmapref_header = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            <span class="hits">1</span>
            

            

            <code class="ruby">                      &#39;spirit:memoryMapRef&#39; =&gt; options[:mmap_ref] || &#39;APB&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">                    }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="245">
            <span class="hits">1</span>
            

            

            <code class="ruby">                    xml[&#39;spirit&#39;].memoryMapRef mmapref_header</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">                  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="251">
            <span class="hits">4</span>
            

            

            <code class="ruby">          spirit.memoryMaps do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="252">
            <span class="hits">4</span>
            

            

            <code class="ruby">            memory_maps.each do |map_name, _map|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="253">
            <span class="hits">4</span>
            

            

            <code class="ruby">              spirit.memoryMap do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">                # Optionally assign memory map name to something other than the module name in Ruby,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">                # default to &#39;RegisterMap&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="256">
            <span class="hits">4</span>
            

            

            <code class="ruby">                spirit.name options[:mmap_name] || &#39;RegisterMap&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="257">
            <span class="hits">4</span>
            

            

            <code class="ruby">                address_blocks do |domain_name, _domain, sub_block|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="258">
            <span class="hits">10</span>
            

            

            <code class="ruby">                  spirit.addressBlock do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">                    # When registers reside at the top level, do not assign an address block name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="260">
            <span class="hits">10</span>
            

            

            <code class="ruby">                    if sub_block == owner</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="261">
            <span class="hits">4</span>
            

            

            <code class="ruby">                      if options[:addr_block_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="262">
            <span class="hits">4</span>
            

            

            <code class="ruby">                        spirit.name nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">                      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="264">
            
            

            

            <code class="ruby">                        spirit.name options[:addr_block_name]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">                      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">                    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="267">
            <span class="hits">6</span>
            

            

            <code class="ruby">                      spirit.name address_block_name(domain_name, sub_block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">                    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="269">
            <span class="hits">10</span>
            

            

            <code class="ruby">                    spirit.baseAddress sub_block.base_address.to_hex</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="270">
            <span class="hits">10</span>
            

            

            <code class="ruby">                    spirit.range range(sub_block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="271">
            <span class="hits">10</span>
            

            

            <code class="ruby">                    spirit.width width(sub_block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="272">
            <span class="hits">10</span>
            

            

            <code class="ruby">                    sub_block.regs.each do |name, reg|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">                      # Required for now to ensure that the current value is the reset value</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="274">
            <span class="hits">30</span>
            

            

            <code class="ruby">                      reg.reset</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="275">
            <span class="hits">30</span>
            

            

            <code class="ruby">                      spirit.register do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="276">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        spirit.name name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="277">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        spirit.description try(reg, :name_full, :full_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="278">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        spirit.addressOffset reg.offset.to_hex</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="279">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        spirit.size reg.size</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="280">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        if reg.bits.any?(&amp;:writable?)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="281">
            <span class="hits">26</span>
            

            

            <code class="ruby">                          spirit.access &#39;read-write&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">                        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="283">
            <span class="hits">4</span>
            

            

            <code class="ruby">                          spirit.access &#39;read-only&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">                        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="285">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        spirit.reset do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="286">
            <span class="hits">30</span>
            

            

            <code class="ruby">                          spirit.value reg.data.to_hex</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="287">
            <span class="hits">30</span>
            

            

            <code class="ruby">                          spirit.mask mask(reg).to_hex</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">                        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="289">
            <span class="hits">30</span>
            

            

            <code class="ruby">                        reg.named_bits do |name, bits|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="290">
            <span class="hits">162</span>
            

            

            <code class="ruby">                          spirit.field do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="291">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            spirit.name name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="292">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            spirit.description try(bits, :brief_description, :name_full, :full_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="293">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            spirit.bitOffset bits.position</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="294">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            spirit.bitWidth bits.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">                            # When exporting to 1685-2009 schema, need to handle special cases (writeOnce),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">                            # modifiedWriteValue, and readAction fields.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="297">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            if options[:schema] == &#39;1685-2009&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="298">
            <span class="hits">81</span>
            

            

            <code class="ruby">                              if bits.writable? &amp;&amp; bits.readable?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="58" data-linenumber="299">
            <span class="hits">58</span>
            

            

            <code class="ruby">                                if bits.access == :w1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="300">
            <span class="hits">2</span>
            

            

            <code class="ruby">                                  spirit.access &#39;read-writeOnce&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">                                else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="56" data-linenumber="302">
            <span class="hits">56</span>
            

            

            <code class="ruby">                                  spirit.access &#39;read-write&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">                                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="304">
            <span class="hits">23</span>
            

            

            <code class="ruby">                              elsif bits.writable?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="305">
            <span class="hits">11</span>
            

            

            <code class="ruby">                                if bits.access == :wo1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="306">
            <span class="hits">2</span>
            

            

            <code class="ruby">                                  spirit.access &#39;writeOnce&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">                                else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="308">
            <span class="hits">9</span>
            

            

            <code class="ruby">                                  spirit.access &#39;write-only&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">                                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="310">
            <span class="hits">12</span>
            

            

            <code class="ruby">                              elsif bits.readable?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="311">
            <span class="hits">12</span>
            

            

            <code class="ruby">                                spirit.access &#39;read-only&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">                              end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="313">
            <span class="hits">81</span>
            

            

            <code class="ruby">                              if bits.readable?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="70" data-linenumber="314">
            <span class="hits">70</span>
            

            

            <code class="ruby">                                unless @@access_hash[bits.access][:read].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="315">
            <span class="hits">22</span>
            

            

            <code class="ruby">                                  spirit.readAction @@access_hash[bits.access][:read]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">                                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">                              end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="318">
            <span class="hits">81</span>
            

            

            <code class="ruby">                              if bits.writable?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="69" data-linenumber="319">
            <span class="hits">69</span>
            

            

            <code class="ruby">                                unless @@access_hash[bits.access][:write].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="320">
            <span class="hits">32</span>
            

            

            <code class="ruby">                                  spirit.modifiedWriteValue @@access_hash[bits.access][:write]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">                                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">                              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">                            else # Assume Spirit 1.4 if not</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="324">
            <span class="hits">81</span>
            

            

            <code class="ruby">                              spirit.access bits.access</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">                            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">                            # HDL paths provide hooks for a testbench to directly manipulate the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">                            # registers without having to go through a bus interface or read/write</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">                            # protocol.  Because the hierarchical path to a register block can vary</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">                            # greatly between devices, allow the user to provide an abs_path value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">                            # and define &quot;full_reg_path&quot; to assist.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">                            #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">                            # When registers reside at the top level without a specified path, use &#39;top&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="333">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            if reg.owner.path.nil? || reg.owner.path.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="334">
            <span class="hits">8</span>
            

            

            <code class="ruby">                              regpath = &#39;top&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">                            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="154" data-linenumber="336">
            <span class="hits">154</span>
            

            

            <code class="ruby">                              regpath = reg.owner.path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">                            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">                            # If :full_reg_path is defined, the :abs_path metadata for a register will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">                            # be used for regpath.  This can be assigned at an address block (sub-block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">                            # level.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="341">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            unless options[:full_reg_path].nil? == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="342">
            
            

            

            <code class="ruby">                              regpath = reg.path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">                            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="344">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            if options[:schema] == &#39;1685-2009&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="345">
            <span class="hits">81</span>
            

            

            <code class="ruby">                              spirit.parameters do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="346">
            <span class="hits">81</span>
            

            

            <code class="ruby">                                spirit.parameter do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="347">
            <span class="hits">81</span>
            

            

            <code class="ruby">                                  spirit.name &#39;_hdlPath_&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">                                  # HDL path needs to be to the declared bit field name, NOT to the bus slice</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">                                  # that Origen&#39;s &quot;abs_path&quot; will yield.  Ex:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">                                  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">                                  # ~~~ ruby</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">                                  # reg :myreg, 0x0, size: 32 do |reg|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">                                  #   bits 7..4, :bits_high</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">                                  #   bits 3..0, :bits_low</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">                                  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">                                  # ~~~</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">                                  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">                                  # The abs_path to ...regs(:myreg).bits(:bits_low).abs_path will yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">                                  # &quot;myreg.myreg[3:0]&quot;, not &quot;myreg.bits_low&quot;.  This is not an understood path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">                                  # in Origen (myreg[3:0] does not exist in either myreg&#39;s RegCollection or BitCollection),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">                                  # and does not sync with how RTL would create bits_low[3:0].</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">                                  # Therefore, use the path to &quot;myreg&quot;&#39;s owner appended with bits.name (bits_low here).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">                                  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">                                  # This can be done in a register or sub_blocks definition by defining register</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">                                  # metadata for &quot;abs_path&quot;.  If the reg owner&#39;s path weren&#39;t used, but instead the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">                                  # reg&#39;s path, that would imply each register was a separate hierarchical path in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">                                  # RTL (ex: &quot;top.myblock.regblock.myreg.myreg_bits&quot;), which is normally not the case.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">                                  # The most likely path would be &quot;top.myblock.regblock.myreg_bits.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="369">
            <span class="hits">81</span>
            

            

            <code class="ruby">                                  spirit.value &quot;#{regpath}.#{bits.name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">                                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">                              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">                            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">                            # C. Hume - Unclear which vendorExtensions should be included by default, if any.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">                            # Future improvment: Allow passing of vendorExtensions enable &amp; value hash/string</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">                            # if options[:schema] == &#39;1685-2009&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">                            #   spirit.vendorExtensions do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">                            #     vendorext = { &#39;xmlns:vendorExtensions&#39; =&gt; &#39;$UVM_RGM_HOME/builder/ipxact/schema&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">                            #     xml[&#39;vendorExtensions&#39;].hdl_path vendorext, &quot;#{reg.path}.#{bits.name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">                            #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">                            # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">                            # Allow optional inclusion of bit field values and descriptions</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="383">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            if options[:include_bit_field_values]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="384">
            <span class="hits">162</span>
            

            

            <code class="ruby">                              if bits.bit_value_descriptions[0]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="385">
            <span class="hits">4</span>
            

            

            <code class="ruby">                                bits.bit_value_descriptions.each do |val, desc|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="386">
            <span class="hits">8</span>
            

            

            <code class="ruby">                                  spirit.values do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="387">
            <span class="hits">8</span>
            

            

            <code class="ruby">                                    spirit.value val.to_hex</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="388">
            <span class="hits">8</span>
            

            

            <code class="ruby">                                    spirit.name &quot;val_#{val.to_hex}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="389">
            <span class="hits">8</span>
            

            

            <code class="ruby">                                    spirit.description desc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">                                  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">                                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">                              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">                            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="394">
            <span class="hits">162</span>
            

            

            <code class="ruby">                            if uvm? &amp;&amp; !(options[:schema] == &#39;1685-2009&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="51" data-linenumber="395">
            <span class="hits">51</span>
            

            

            <code class="ruby">                              spirit.vendorExtensions do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="51" data-linenumber="396">
            <span class="hits">51</span>
            

            

            <code class="ruby">                                xml[&#39;vendorExtensions&#39;].hdl_path &quot;#{regpath}.#{bits.name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">                              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">                            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">                          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">                        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">                      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">                    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">                    # Unclear whether addressBlock vendor extensions are supported in Spirit 1.4</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">                    # if uvm?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">                    #  spirit.vendorExtensions do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">                    #    xml[&#39;vendorExtensions&#39;].hdl_path sub_block.path(relative_to: owner)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">                    #  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby">                    # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">                  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">                # Assume byte addressing if not specified</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="412">
            <span class="hits">4</span>
            

            

            <code class="ruby">                if owner.methods.include?(:lau) == false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="413">
            <span class="hits">4</span>
            

            

            <code class="ruby">                  if methods.include?(:lau) == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="414">
            
            

            

            <code class="ruby">                    spirit.addressUnitBits lau</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">                  else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="416">
            <span class="hits">4</span>
            

            

            <code class="ruby">                    spirit.addressUnitBits 8</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">                  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">                else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="419">
            
            

            

            <code class="ruby">                  spirit.addressUnitBits owner.lau</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      # When testing with &#39;origen examples&#39;, travis_ci (bash) will end up with empty tags -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">      # &#39;&lt;spirit:description/&gt;&#39; that do not appear on some user&#39;s tshell environments.  To</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">      # prevent false errors for this issue, force Nokogiri to use self-closing tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">      # (&#39;&lt;spirit:description&gt;&lt;/spirit:description&gt;&#39;), but keep the XML formatted for readability.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">      # All tags with no content will appear as &#39;&lt;spirit:tag_name&gt;&lt;/spirit:tag_name&gt;&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="432">
            <span class="hits">4</span>
            

            

            <code class="ruby">      builder.to_xml(save_with: Nokogiri::XML::Node::SaveOptions::NO_EMPTY_TAGS |</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby">                                Nokogiri::XML::Node::SaveOptions::FORMAT)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="436">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="438">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def open_memory_map(doc)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="439">
            <span class="hits">2</span>
            

            

            <code class="ruby">      maps = doc.xpath(&#39;//spirit:memoryMaps/spirit:memoryMap&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="440">
            <span class="hits">2</span>
            

            

            <code class="ruby">      maps = [nil] if maps.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="441">
            <span class="hits">2</span>
            

            

            <code class="ruby">      maps.each do |mem_map|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="442">
            <span class="hits">2</span>
            

            

            <code class="ruby">        yield mem_map</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="446">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def reg_description(register)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="447">
            <span class="hits">4</span>
            

            

            <code class="ruby">      fetch register.at_xpath(&#39;spirit:description&#39;), get_text: true, whitespace: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="450">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def bit_description(bit)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="451">
            <span class="hits">60</span>
            

            

            <code class="ruby">      desc = fetch(bit.at_xpath(&#39;spirit:description&#39;), get_text: true, whitespace: true) || &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="452">
            <span class="hits">60</span>
            

            

            <code class="ruby">      bit_val_present = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="453">
            <span class="hits">60</span>
            

            

            <code class="ruby">      bit.xpath(&#39;spirit:values&#39;).each do |val|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="454">
            <span class="hits">4</span>
            

            

            <code class="ruby">        unless bit_val_present</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="455">
            <span class="hits">2</span>
            

            

            <code class="ruby">          desc += &quot;\n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="456">
            <span class="hits">2</span>
            

            

            <code class="ruby">          bit_val_present = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="458">
            <span class="hits">4</span>
            

            

            <code class="ruby">        value = extract(val, &#39;spirit:value&#39;, format: :integer, hex: true)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="459">
            <span class="hits">4</span>
            

            

            <code class="ruby">        value_desc = extract val, &#39;spirit:description&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="460">
            <span class="hits">4</span>
            

            

            <code class="ruby">        if value &amp;&amp; value_desc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="461">
            <span class="hits">4</span>
            

            

            <code class="ruby">          desc += &quot;\n#{value.to_s(2)} | #{value_desc}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="464">
            <span class="hits">60</span>
            

            

            <code class="ruby">      desc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="467">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def mask(reg)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="468">
            <span class="hits">30</span>
            

            

            <code class="ruby">      m = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="469">
            <span class="hits">30</span>
            

            

            <code class="ruby">      reg.size.times do |i|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="464" data-linenumber="470">
            <span class="hits">464</span>
            

            

            <code class="ruby">        unless reg[i].reset_val == :undefined</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="464" data-linenumber="471">
            <span class="hits">464</span>
            

            

            <code class="ruby">          m |= (1 &lt;&lt; i)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="474">
            <span class="hits">30</span>
            

            

            <code class="ruby">      m</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="477">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def uvm?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="170" data-linenumber="478">
            <span class="hits">170</span>
            

            

            <code class="ruby">      @format == :uvm</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="481">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def memory_maps</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="482">
            <span class="hits">4</span>
            

            

            <code class="ruby">      { nil =&gt; {} }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="485">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def sub_blocks(domain_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="486">
            <span class="hits">4</span>
            

            

            <code class="ruby">      owner.all_sub_blocks.select do |sub_block|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="487">
            <span class="hits">8</span>
            

            

            <code class="ruby">        sub_block.owns_registers? &amp;&amp;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="488">
            <span class="hits">6</span>
            

            

            <code class="ruby">          (sub_block.domains[domain_name] || domain_name == :default)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="492">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def address_blocks</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="493">
            <span class="hits">4</span>
            

            

            <code class="ruby">      domains = owner.register_domains</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="494">
            <span class="hits">4</span>
            

            

            <code class="ruby">      domains = { default: {} } if domains.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="495">
            <span class="hits">4</span>
            

            

            <code class="ruby">      domains.each do |domain_name, domain|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="496">
            <span class="hits">4</span>
            

            

            <code class="ruby">        if owner.owns_registers?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="497">
            <span class="hits">4</span>
            

            

            <code class="ruby">          yield domain_name, domain, owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="498">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="499">
            <span class="hits">4</span>
            

            

            <code class="ruby">        sub_blocks(domain_name).each do |sub_block|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="500">
            <span class="hits">6</span>
            

            

            <code class="ruby">          yield domain_name, domain, sub_block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="505">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def address_block_name(domain_name, sub_block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="506">
            <span class="hits">6</span>
            

            

            <code class="ruby">      if domain_name == :default</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="507">
            <span class="hits">6</span>
            

            

            <code class="ruby">        sub_block.name.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="509">
            
            

            

            <code class="ruby">        &quot;#{domain_name}_#{sub_block.name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="513">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def width(sub_block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="514">
            <span class="hits">20</span>
            

            

            <code class="ruby">      sub_block.try(:width) || 32</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="517">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def range(sub_block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="518">
            <span class="hits">10</span>
            

            

            <code class="ruby">      range = sub_block.try(:range) || begin</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">        # This is to work around an Origen bug where max_address_reg_size is not updated in the case of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">        # only one register being present</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">        # TODO: Fix in Origen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="522">
            <span class="hits">10</span>
            

            

            <code class="ruby">        max_address_reg_size = sub_block.max_address_reg_size || sub_block.regs.first[1].size</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="523">
            <span class="hits">10</span>
            

            

            <code class="ruby">        (sub_block.max_reg_address + (max_address_reg_size / 8))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="525">
            <span class="hits">10</span>
            

            

            <code class="ruby">      width_in_bytes = width(sub_block) / 8</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="526">
            <span class="hits">10</span>
            

            

            <code class="ruby">      if range % width_in_bytes != 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="527">
            <span class="hits">4</span>
            

            

            <code class="ruby">        range += (width_in_bytes - (range % width_in_bytes))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="529">
            <span class="hits">10</span>
            

            

            <code class="ruby">      range</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="532">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="49071407f081fc08a7723cef6e0f1490e0c7e007">
  <div class="header">
    <h3>lib/cross_origen/ralf.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>7</b> relevant lines.
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Ralf</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">    # Returns the object that included the CrossOrigen module</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(owner)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @owner = owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    # Returns a string representing the owner object in RALF format</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def owner_to_ralf(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">      Origen.compile(&quot;#{Origen.root!}/templates/ralf/default.ralf.erb&quot;, options.merge(scope: owner))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8385f39f0655c4c2e64db4c251e01a9461b05bc2">
  <div class="header">
    <h3>lib/cross_origen/xml_doc.rb</h3>
    <h4>
      <span class="yellow">
  84.68%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>111</b> relevant lines.
      <span class="green"><b>94</b> lines covered</span> and
      <span class="red"><b>17</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;kramdown&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;sanitize&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  # This is the base class of all doc formats that are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # XML based</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class XMLDoc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    CreationInfo = Struct.new(:author, :date, :revision, :source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    ImportInfo = Struct.new(:name, :date)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_accessor :creation_info, :import_info</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    # These (in many cases illegal) tags will be forced to their valid equivalents</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    # These will be executed in the defined order, so for later xfrms you can for example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    # assume that all &#39;rows&#39; have already been converted to &#39;tr&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    # valid equivalents</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    HTML_TRANSFORMS = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">      &#39;table/title&#39;  =&gt; &#39;caption&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      &#39;table//row&#39;   =&gt; &#39;tr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      &#39;thead//entry&#39; =&gt; &#39;th&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      &#39;table//entry&#39; =&gt; &#39;td&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      &#39;td/p&#39;         =&gt; &#39;span&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      &#39;th/p&#39;         =&gt; &#39;span&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    # This can be used to perform additional by-node transformation if required, normally</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    # this should be used if transform of a node attribute is required</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">    HTML_TRANSFORMER = lambda do |env|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="449" data-linenumber="30">
            <span class="hits">449</span>
            

            

            <code class="ruby">      if env[:node_name] == &#39;td&#39; || env[:node_name] == &#39;th&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="50" data-linenumber="31">
            <span class="hits">50</span>
            

            

            <code class="ruby">        if env[:node].attr(&#39;nameend&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">          first = env[:node].attr(&#39;namest&#39;).sub(&#39;col&#39;, &#39;&#39;).to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">          last = env[:node].attr(&#39;nameend&#39;).sub(&#39;col&#39;, &#39;&#39;).to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">          env[:node].set_attribute(&#39;colspan&#39;, (last - first + 1).to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    # Defines the rules for sanitization of any HTML strings that will be converted</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    # to markdown for representation within Origen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    HTML_SANITIZATION_CONFIG = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      # Only these tags will be allowed through, everything else will be stripped</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      # Note that this is applied after the transforms listed above</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">      elements:     %w(b em i strong u p ul ol li table tr td th tbody thead),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      attributes:   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">        &#39;td&#39; =&gt; [&#39;colspan&#39;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        &#39;th&#39; =&gt; [&#39;colspan&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      # Not planning to allow any of these right now, but keeping around</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      # as an example of how to do so</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #:protocols =&gt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #  &#39;a&#39; =&gt; {&#39;href&#39; =&gt; [&#39;http&#39;, &#39;https&#39;, &#39;mailto&#39;]}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      # }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      transformers: HTML_TRANSFORMER</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    # Returns the object that included the CrossOrigen module</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(owner)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="21" data-linenumber="61">
            <span class="hits">21</span>
            

            

            <code class="ruby">      @owner = owner</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="21" data-linenumber="62">
            <span class="hits">21</span>
            

            

            <code class="ruby">      @creation_info = CreationInfo.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="21" data-linenumber="63">
            <span class="hits">21</span>
            

            

            <code class="ruby">      @import_info = ImportInfo.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    # Tries the given methods on the owner and returns the first one to return a value,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    # ultimately returns nil if no value is found.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    # To test an object other than the owner pass it as the first argument.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def try(*methods)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="200" data-linenumber="71">
            <span class="hits">200</span>
            

            

            <code class="ruby">      if methods.first.is_a?(Symbol)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="72">
            <span class="hits">8</span>
            

            

            <code class="ruby">        obj = owner</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="192" data-linenumber="74">
            <span class="hits">192</span>
            

            

            <code class="ruby">        obj = methods.shift</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="200" data-linenumber="76">
            <span class="hits">200</span>
            

            

            <code class="ruby">      methods.each do |method|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="562" data-linenumber="77">
            <span class="hits">562</span>
            

            

            <code class="ruby">        if obj.respond_to?(method)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="200" data-linenumber="78">
            <span class="hits">200</span>
            

            

            <code class="ruby">          val = obj.send(method)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="200" data-linenumber="79">
            <span class="hits">200</span>
            

            

            <code class="ruby">          return val if val</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    # This returns the doc wrapped by a Nokogiri doc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def doc(path, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="87">
            <span class="hits">4</span>
            

            

            <code class="ruby">      require &#39;nokogiri&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="89">
            <span class="hits">4</span>
            

            

            <code class="ruby">      File.open(path) do |f|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="90">
            <span class="hits">4</span>
            

            

            <code class="ruby">        yield Nokogiri::XML(f)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def extract(element, path, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      options = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1154" data-linenumber="96">
            <span class="hits">1154</span>
            

            

            <code class="ruby">        format:   :string,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">        hex:      false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">        default:  nil,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">        downcase: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">        return:   :text,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">        # A value or array or values which are considered to be nil, if this is the value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">        # to be returned then nil will be returned instead</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">        nil_on:   false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">      }.merge(options)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1154" data-linenumber="105">
            <span class="hits">1154</span>
            

            

            <code class="ruby">      node = element.at_xpath(path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1154" data-linenumber="106">
            <span class="hits">1154</span>
            

            

            <code class="ruby">      if node</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="752" data-linenumber="107">
            <span class="hits">752</span>
            

            

            <code class="ruby">        if options[:format] == :string</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="586" data-linenumber="108">
            <span class="hits">586</span>
            

            

            <code class="ruby">          str = node.send(options[:return]).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="586" data-linenumber="109">
            <span class="hits">586</span>
            

            

            <code class="ruby">          str = str.downcase if options[:downcase]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="586" data-linenumber="110">
            <span class="hits">586</span>
            

            

            <code class="ruby">          if options[:nil_on] &amp;&amp; [options[:nil_on]].flatten.include?(str)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">            nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="586" data-linenumber="113">
            <span class="hits">586</span>
            

            

            <code class="ruby">            str</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="166" data-linenumber="115">
            <span class="hits">166</span>
            

            

            <code class="ruby">        elsif options[:format] == :integer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="166" data-linenumber="116">
            <span class="hits">166</span>
            

            

            <code class="ruby">          val = node.send(options[:return])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="166" data-linenumber="117">
            <span class="hits">166</span>
            

            

            <code class="ruby">          if val =~ /^0x(.*)/</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="106" data-linenumber="118">
            <span class="hits">106</span>
            

            

            <code class="ruby">            Regexp.last_match[1].to_i(16)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="119">
            <span class="hits">60</span>
            

            

            <code class="ruby">          elsif options[:hex]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="120">
            
            

            

            <code class="ruby">            val.to_i(16)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="122">
            <span class="hits">60</span>
            

            

            <code class="ruby">            val.to_i(10)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="125">
            
            

            

            <code class="ruby">          fail &quot;Unknown format: #{options[:format]}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="402" data-linenumber="128">
            <span class="hits">402</span>
            

            

            <code class="ruby">        options[:default]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">    # Freescale register descriptions are like the wild west, need to do some pre-screening</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">    # to approach valid HTML before handing off to other off the shelf sanitizers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="134">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def pre_sanitize(html)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="135">
            <span class="hits">4</span>
            

            

            <code class="ruby">      html = Nokogiri::HTML.fragment(html)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="136">
            <span class="hits">4</span>
            

            

            <code class="ruby">      HTML_TRANSFORMS.each do |orig, new|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="137">
            <span class="hits">108</span>
            

            

            <code class="ruby">        html.xpath(&quot;.//#{orig}&quot;).each { |node| node.name = new }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="139">
            <span class="hits">4</span>
            

            

            <code class="ruby">      html.to_html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">    # Does its best to convert the given html fragment to markdown</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">    # The final markdown may still contain some HTML tags, but any weird</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">    # markup which may break a future markdown -&gt; html conversion will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">    # be removed</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="147">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def to_markdown(html, _options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="148">
            <span class="hits">4</span>
            

            

            <code class="ruby">      cleaned = html.scrub</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="149">
            <span class="hits">4</span>
            

            

            <code class="ruby">      cleaned = pre_sanitize(cleaned)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="150">
            <span class="hits">4</span>
            

            

            <code class="ruby">      cleaned = Sanitize.fragment(cleaned, HTML_SANITIZATION_CONFIG)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="151">
            <span class="hits">4</span>
            

            

            <code class="ruby">      Kramdown::Document.new(cleaned, input: :html).to_kramdown.strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">    rescue</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="153">
            
            

            

            <code class="ruby">      &#39;The description could not be imported, the most likely cause of this is that it contained illegal HTML markup&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">    # Convert the given markdown string to HTML</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def to_html(string, _options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      # Escape any &quot; that are not already escaped</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="159">
            <span class="hits">2</span>
            

            

            <code class="ruby">      string.gsub!(/([^\\])&quot;/, &#39;\1\&quot;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      # Escape any &#39; that are not already escaped</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="161">
            <span class="hits">2</span>
            

            

            <code class="ruby">      string.gsub!(/([^\\])&#39;/, %q(\1\\\&#39;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="162">
            <span class="hits">2</span>
            

            

            <code class="ruby">      html = Kramdown::Document.new(string, input: :kramdown).to_html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">    # fetch an XML snippet passed and extract and format the data</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def fetch(xml, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      options = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="426" data-linenumber="168">
            <span class="hits">426</span>
            

            

            <code class="ruby">        type:          String,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">        downcase:      false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">        symbolize:     false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">        strip:         false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">        squeeze:       false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">        squeeze_lines: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">        rm_specials:   false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">        whitespace:    false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">        get_text:      false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">        to_i:          false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">        to_html:       false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">        to_bool:       false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">        children:      false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">        to_dec:        false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">        to_f:          false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">        underscore:    false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      }.update(options)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="426" data-linenumber="185">
            <span class="hits">426</span>
            

            

            <code class="ruby">      options[:symbolize] = options[:to_sym] if options[:to_sym]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      # Check for incompatible options</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="426" data-linenumber="187">
            <span class="hits">426</span>
            

            

            <code class="ruby">      xml_orig = xml</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="426" data-linenumber="188">
            <span class="hits">426</span>
            

            

            <code class="ruby">      numeric_methods = [:to_i, :to_f, :to_dec]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="426" data-linenumber="189">
            <span class="hits">426</span>
            

            

            <code class="ruby">      if options[:get_text] == true &amp;&amp; options[:to_html] == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="190">
            
            

            

            <code class="ruby">        fail &#39;Cannot use :get_text and :to_html options at the same time, exiting...&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="426" data-linenumber="192">
            <span class="hits">426</span>
            

            

            <code class="ruby">      if options[:symbolize] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="272" data-linenumber="193">
            <span class="hits">272</span>
            

            

            <code class="ruby">        fail &#39;Cannot convert to a number of any type and symbolize at the same time&#39; if numeric_methods.reject { |arg| options[arg] == true }.size &lt; 3</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1704" data-linenumber="195">
            <span class="hits">1704</span>
            

            

            <code class="ruby">      fail &#39;Cannot select multiple numeric conversion args at the same time&#39; if numeric_methods.reject { |arg| options[arg] == true }.size &lt; 2</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="426" data-linenumber="196">
            <span class="hits">426</span>
            

            

            <code class="ruby">      if xml.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="197">
            <span class="hits">33</span>
            

            

            <code class="ruby">        Origen.log.debug &#39;XML data is nil!&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="198">
            <span class="hits">33</span>
            

            

            <code class="ruby">        return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="200">
            <span class="hits">393</span>
            

            

            <code class="ruby">      xml = xml.text if options[:get_text] == true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      # Sometimes XML snippets get sent as nodes or as Strings</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      # Must skip this code if a String as it is designed to change</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      # the XML node into a string</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="204">
            <span class="hits">393</span>
            

            

            <code class="ruby">      unless xml.is_a? String</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="205">
            
            

            

            <code class="ruby">        if options[:to_html] == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="206">
            
            

            

            <code class="ruby">          if xml.children</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">            # If there are children to this XMl node then grab the content there</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="208">
            
            

            

            <code class="ruby">            if xml.children.empty? || options[:children] == false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="209">
            
            

            

            <code class="ruby">              xml = xml.to_html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="211">
            
            

            

            <code class="ruby">              xml = xml.children.to_html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="216">
            <span class="hits">393</span>
            

            

            <code class="ruby">      unless xml.is_a? options[:type]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="217">
            
            

            

            <code class="ruby">        Origen.log.debug &quot;XML data is not of correct type &#39;#{options[:type]}&#39;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="218">
            
            

            

            <code class="ruby">        Origen.log.debug &quot;xml is \n#{xml}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="219">
            
            

            

            <code class="ruby">        return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="221">
            <span class="hits">393</span>
            

            

            <code class="ruby">      if options[:type] == String</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="222">
            <span class="hits">393</span>
            

            

            <code class="ruby">        if xml.match(/\s+/) &amp;&amp; options[:whitespace] == false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="223">
            
            

            

            <code class="ruby">          Origen.log.debug &quot;XML data &#39;#{xml}&#39; cannot have white space&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="224">
            
            

            

            <code class="ruby">          return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="226">
            <span class="hits">393</span>
            

            

            <code class="ruby">        xml.downcase! if options[:downcase] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="227">
            <span class="hits">393</span>
            

            

            <code class="ruby">        xml = xml.underscore if options[:underscore] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="228">
            <span class="hits">393</span>
            

            

            <code class="ruby">        xml.strip! if options[:strip] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="229">
            <span class="hits">393</span>
            

            

            <code class="ruby">        xml.squeeze!(&#39; &#39;) if options[:squeeze] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="230">
            <span class="hits">393</span>
            

            

            <code class="ruby">        xml = xml.squeeze_lines if options[:squeeze_lines] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="231">
            <span class="hits">393</span>
            

            

            <code class="ruby">        xml.gsub!(/[^0-9A-Za-z]/, &#39;_&#39;) if options[:rm_specials] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="393" data-linenumber="232">
            <span class="hits">393</span>
            

            

            <code class="ruby">        if options[:symbolize] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="68" data-linenumber="233">
            <span class="hits">68</span>
            

            

            <code class="ruby">          return xml.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="325" data-linenumber="234">
            <span class="hits">325</span>
            

            

            <code class="ruby">        elsif options[:to_i] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="126" data-linenumber="235">
            <span class="hits">126</span>
            

            

            <code class="ruby">          return xml.to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="199" data-linenumber="236">
            <span class="hits">199</span>
            

            

            <code class="ruby">        elsif options[:to_dec] == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="237">
            <span class="hits">16</span>
            

            

            <code class="ruby">          return xml.to_dec</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="183" data-linenumber="238">
            <span class="hits">183</span>
            

            

            <code class="ruby">        elsif options[:to_f] == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="239">
            
            

            

            <code class="ruby">          return xml.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="183" data-linenumber="240">
            <span class="hits">183</span>
            

            

            <code class="ruby">        elsif [true, false].include?(xml.to_bool) &amp;&amp; options[:to_bool] == true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">          # If the string can convert to Boolean then return TrueClass or FalseClass</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="242">
            
            

            

            <code class="ruby">          return xml.to_bool</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="183" data-linenumber="244">
            <span class="hits">183</span>
            

            

            <code class="ruby">          return xml</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">        # No real examples yet of non-string content</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="248">
            
            

            

            <code class="ruby">        return xml</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="eb4cf64008d9e907e5805873e92b1d9c6f4c9003">
  <div class="header">
    <h3>lib/cross_origen_dev/dut.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>64</b> relevant lines.
      <span class="green"><b>64</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">module CrossOrigenDev</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  # Simple DUT class used for testing</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class DUT</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include Origen::TopLevel</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="8">
            <span class="hits">15</span>
            

            

            <code class="ruby">      @path = :hidden</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="9">
            <span class="hits">15</span>
            

            

            <code class="ruby">      sub_block :atx, class_name: &#39;D_IP_ANA_TEST_ANNEX_SYN&#39;, base_address: 0x4000_0000</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # Register defined solely to test out the top level register export</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="12">
            <span class="hits">15</span>
            

            

            <code class="ruby">      reg :dut_top_level_reg, 0x0, size: 32, bit_order: :msb0, lau: 8 do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="13">
            <span class="hits">15</span>
            

            

            <code class="ruby">        bit 15, :pls_work, reset: 1, access: :rw</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="14">
            <span class="hits">15</span>
            

            

            <code class="ruby">        bit 14, :second_bit, reset: 0, access: :rw</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      # Register defined solely to test out the top level register export</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="17">
            <span class="hits">15</span>
            

            

            <code class="ruby">      reg :dut_top_level_reg_number_two, 0x10, size: 32, bit_order: :lsb0, lau: 16 do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="18">
            <span class="hits">15</span>
            

            

            <code class="ruby">        bit 0, :pls_work, reset: 0, access: :ro</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="19">
            <span class="hits">15</span>
            

            

            <code class="ruby">        bit 1, :second_bit, reset: 1, access: :rw</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      # Import some data from IP-XACT</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="22">
            <span class="hits">15</span>
            

            

            <code class="ruby">      cr_import(path: &quot;#{Origen.root}/imports/ipxact.xml&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    # Import Spirit 1.4 version of ATX</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def add_atx2</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">      sub_block :atx2, class_name: &#39;ATX2&#39;, base_address: 0x6000_0000</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class ATX2</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include Origen::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">        cr_import(path: &quot;#{Origen.root}/approved/ip_xact_sub_block.xml&quot;, refresh: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    # Import 1685-2009 version of ATX</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def add_atx3</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">      sub_block :atx3, class_name: &#39;ATX3&#39;, base_address: 0x7000_0000</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class ATX3</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include Origen::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">        cr_import(path: &quot;#{Origen.root}/approved/ip_xact_sub_block_1685.xml&quot;, refresh: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class D_IP_ANA_TEST_ANNEX_SYN # rubocop:disable ClassAndModuleCamelCase</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include Origen::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">        # A manually defined set of registers for testing the conversion of any specific attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">        # ** MPU Clock Divider Register **</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">        # The MCLKDIV register is used to divide down the frequency of the OSCCLK input. If the MCLKDIV</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">        # register is set to value &quot;N&quot;, then the output (beat) frequency of the clock divider is OSCCLK / (N+1). The</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">        # resulting beats are, in turn, counted by the TIMER module to control the duration of operations.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">        # This is a test of potentially problematic characters &#39; &quot; \&#39; \&quot; &lt; &gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="66">
            <span class="hits">15</span>
            

            

            <code class="ruby">        reg :mclkdiv, 0x0, size: 16, bit_order: &#39;decrement&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">          # **Oscillator (Hi)** - Clock source selection. (Note that in addition to this firmware-controlled bit, the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">          # clock source is also dependent on test and power control discretes).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">          #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">          # 0 | Clock is the externally supplied bus clock bus_clk</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">          # 1 | Clock is the internal oscillator from the hardblock</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="72">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 15, :osch, reset: 1, access: :rw</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">          # **Divider Value**</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">          #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">          # Used to set clock divider value and test multi-bit import in CrossOrigen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="76">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bits 3..0, :div</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">        # **Access Type Test Register**</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">        # This register tests the IP-XACT export of various bit access types, such as write-one-to-clear,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">        # read-only, etc.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="83">
            <span class="hits">15</span>
            

            

            <code class="ruby">        reg :access_types, 0x4, size: 32 do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">          # Test read-only access.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="85">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 31, :readonly, access: :ro</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">          # Test read-write access.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="87">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 30, :readwrite, access: :rw</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">          # Test read-clear access, where a read clears the value afterwards.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="89">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 29, :readclear, access: :rc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">          # Test read-set access, where a read sets the bit afterwards.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="91">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 28, :readset, access: :rs</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">          # Test writable, clear-on-read access, etc...</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="93">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 27, :writablereadclear, access: :wrc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="94">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 26, :writablereadset, access: :wrs</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="95">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 25, :writeclear, access: :wc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="96">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 24, :writeset, access: :ws</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="97">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 23, :writesetreadclear, access: :wsrc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="98">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 22, :writeclearreadset, access: :wcrs</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="99">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 21, :write1toclear, access: :w1c</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="100">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 20, :write1toset, access: :w1s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="101">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 19, :write1totoggle, access: :w1t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="102">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 18, :write0toclear, access: :w0c</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="103">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 17, :write0toset, access: :w0s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="104">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 16, :write0totoggle, access: :w0t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="105">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 15, :write1tosetreadclear, access: :w1src</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="106">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 14, :write1toclearreadset, access: :w1crs</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="107">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 13, :write0tosetreadclear, access: :w0src</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="108">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 12, :write0toclearreadset, access: :w0crs</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="109">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 11, :writeonly, access: :wo</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="110">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 10, :writeonlyclear, access: :woc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="111">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 9, :writeonlyreadzero, access: :worz</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="112">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 8, :writeonlyset, access: :wos</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="113">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 7, :writeonce, access: :w1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="114">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 6, :writeonlyonce, access: :wo1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="115">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 5, :readwritenocheck, access: :dc</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="116">
            <span class="hits">15</span>
            

            

            <code class="ruby">          bit 4, :readonlyclearafter, access: :rowz</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Origen Documentation Helpers</title>
        
    

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://origen-sdk.org/css/bootstrap_custom.css"></script>
    <!-- Load this up top to allow pages to execute JQuery snippets -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="http://rgen.freescale.net/favicon.ico"/>
    <link rel="icon" type="image/ico" href="http://rgen.freescale.net/favicon.ico"/>
  </head>

  <body>
    
      <div class="container">
        <nav class="navbar navbar-inverse navbar-fixed-top"><div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/doc_helpers/">Home</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
<li class="active"><a href="/doc_helpers/examples">Examples</a></li>
        <li class=""><a href="/doc_helpers/release_notes">Release Notes</a></li>
        <li><a href="https://github.com/Origen-SDK/origen_doc_helpers">Github</a></li>
      </ul>
<div class="pull-right logo-rgen" style="margin-top: 18px; margin-left: 10px">
  <a href="http://origen-sdk.org" style="text-decoration: none; color: #e66a08; font-weight: bold; font-size: 20px;">
  <span>Origen</span>
  </a>
</div>
<div class="pull-right">
  <a href="http://origen-sdk.org">
    <img src="http://rgen.freescale.net/img/fsl_logo.png" style="height:40px"></a>
</div>

    </div>
<!--/.nav-collapse -->
  </div>
</nav><div class="row">
  <div class="col-md-3 sidebar-nav-container">
    <div class="well sidebar-nav" style="margin-top: 20px;">
        <div id="search">
          <form style="margin-bottom: 15px;">
            <div class="input-group">
              <input class="form-control" type="search" placeholder="Search these docs..."><span class="input-group-btn">
                <button type="submit" class="btn btn-search">GO!</button>
              </span>
            </div>
          </form>
        </div>
        <div class="panel-group" id="sidebar-accordion">

          <ul class="nav nav-list">
<li class="active"><a href="/doc_helpers/examples/searchable/intro/">Introduction</a></li>
<li class=""><a href="/doc_helpers/examples/searchable/page2/">Page 2</a></li>
           </ul>
<div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-1">
              <a class="no-underline">
                Topic 1
              </a>
            </div>
            <div id="sidebar-collapse-1" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/doc_helpers/examples/searchable/topic1/item1">First Item</a></li>
<li class=""><a href="/doc_helpers/examples/searchable/topic1/item2">Second Item</a></li>
                </ul>
</div>
            </div>
          </div>
      

        </div>

    </div>
  </div>

  <div class="col-md-9 nav-page-container">
    <article><h2 class="topic-subtitle">Creating Searchable Documents</h2>

      <hr>
<p>This helper provides a layout that will create a nested collection of
documents like this one and which are searchable via the box on the 
top left.</p>

      <div>    
  <a class="anchor" name="The_Document_Index"></a>          
  <h3><a href="#The_Document_Index">The Document Index</a></h3>          
</div>

      <p>The application must supply a hash to describe the page index that has been built
on the the left of the page.
Here is the index used for this page:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>index = {}
index[<span style="color:#069">nil</span>] = {
  <span style="color:#606">intro</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">Introduction</span><span style="color:#710">"</span></span>,
  <span style="color:#606">page2</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">Page 2</span><span style="color:#710">"</span></span>,
}
index[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">Topic 1</span><span style="color:#710">"</span></span>] = {
  <span style="color:#606">topic1_item1</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">First Item</span><span style="color:#710">"</span></span>,
  <span style="color:#606">topic1_item2</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">Second Item</span><span style="color:#710">"</span></span>,
}
</pre></div>
</div>
      </div>

      <p>The sub-hash keys describe where each document lives and what its title is, for example
the document with title “Second Item” should live in <code>_documents_root_/topic1/item2.md.erb</code>.</p>

      <p>By default the root is <code>"#{Origen.root}/templates/web/docs"</code> but this can be overridden
by supplying a <code>:root</code> option which should describe the relative path from <code>"#{Origen.root}/templates/web"</code>.</p>

      <div>    
  <a class="anchor" name="The_Layout_Helper"></a>          
  <h3><a href="#The_Layout_Helper">The Layout Helper</a></h3>          
</div>

      <p>A layout helper is provided to include a document in the search and wrap it
with the indexed layout:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>% render "doc_helpers/searchable.html", index: index do

Blah blah blah

% end
</pre></div>
</div>
      </div>

      <p>The <code>:index</code> option is mandatory, but the following are optional:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>:heading   - Each wrapped document will have the heading (e.g. "First Item") inserted at the top of the page,
             to override it supply this option. A common example would be if the topic is long and
             so an abbreviated version has been used in the index. e.g. "First Item and Other Stuff"
:topic     - Each wrapped document will have the topic (e.g. "Topic 1") inserted at the top of the page,
             to override it supply this option. A common example would be if the topic is long and
             so an abbreviated version has been used in the index. e.g. "Topic 1 and Other Stuff"
:root      - override the top-level folder containing your documents, e.g. "tutorials/guides"
:tab       - the helper should automatically work out what tab to select for each document, however
             if it is struggling for some reason you can force it by supplying the hash key from the
             index that the given document should be associated with, e.g. :topic1_item1
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Incorporating_in_Your_Own_Layout"></a>          
  <h3><a href="#Incorporating_in_Your_Own_Layout">Incorporating in Your Own Layout</a></h3>          
</div>

      <p>Normally the searchable layout will be wrapped in your own application specific layout
to insert your custom navigation bar, etc.</p>

      <p>As an example here is the actual layout that has been used to generate this page:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>---
title: Origen Documentation Helpers
---
<span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">&lt;%=</span> render <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">partials/navbar.html</span><span style="color:#710">"</span></span>, <span style="color:#606">tab</span>: <span style="color:#A60">:examples</span> <span style="font-weight:bold;color:#666">%&gt;</span></span>

% index = {}
% index[nil] = {
%   intro: "Introduction",
%   page2: "Page 2",
% }
% index["Topic 1"] = {
%   topic1_item1: "First Item",
%   topic1_item2: "Second Item",
% }

% opts = options.merge(index: index, root: "examples/searchable")
% render "doc_helpers/searchable.html", options.merge(opts) do

<span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">&lt;%=</span> <span style="color:#080;font-weight:bold">yield</span> <span style="font-weight:bold;color:#666">%&gt;</span></span>

% end
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Writing_Your_Documents"></a>          
  <h3><a href="#Writing_Your_Documents">Writing Your Documents</a></h3>          
</div>

      <p>With the layout setup, writing documents is very simple; these should normally
be regular markdown that is wrapped in your layout.</p>

      <p>The top-level header size in your document should be <code>h3</code> or <code>###</code> in markdown.</p>

      <p><code>.html.erb</code> files will also work if you want to use them.</p>

      <p>Here is the actual code used behind the <a href="/doc_helpers/examples/searchable/topic1/item1">Topic 1 - First Item</a>
page (where the layout being rendered is the one above):</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>% render "templates/web/layouts/doc.html" do

Hello I'm item 1

% end
</pre></div>
</div>
      </div>

    </article>
</div>
</div>

<script src="/doc_helpers/search.js"></script>
      </div><!-- /.container -->
    

    <footer class="footer">
      <div class="container">
        <p class="pull-left text-muted">
          Freescale Internal Use Only
        </p>
        <p class="pull-right text-muted">&copy; Copyright 2015 Freescale, Inc. All Rights Reserved</p>
      </div>
    </footer>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="http://origen-sdk.org/js/lunr.min.js"></script>
    <script src="http://origen-sdk.org/js/highlight.js"></script>
    <script src="http://origen-sdk.org/js/custom.js"></script>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: OrigenTesters::VectorGenerator
  
    &mdash; Origen Testers 0.45.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OrigenTesters::VectorGenerator";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (V)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../OrigenTesters.html" title="OrigenTesters (module)">OrigenTesters</a></span></span>
     &raquo; 
    <span class="title">VectorGenerator</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: OrigenTesters::VectorGenerator
  
  
  
</h1>
<div class="box_info">
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>ActiveSupport::Concern</dd>
  </dl>
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="VectorBasedTester.html" title="OrigenTesters::VectorBasedTester (module)">VectorBasedTester</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/origen_testers/vector_generator.rb</dd>
  </dl>
  
</div>





  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#compress-instance_method" title="#compress (instance method)">#<strong>compress</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute compress.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand_repeats-instance_method" title="#expand_repeats (instance method)">#<strong>expand_repeats</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute expand_repeats.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#vector_comments-instance_method" title="#vector_comments (instance method)">#<strong>vector_comments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When set to true vector and cycle number comments will be appended to pattern vectors.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_render-instance_method" title="#_render (instance method)">#<strong>_render</strong>(method)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_microcode_to_last_or_cycle-instance_method" title="#add_microcode_to_last_or_cycle (instance method)">#<strong>add_microcode_to_last_or_cycle</strong>(code)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds the given microcode to the last vector if possible.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#align-instance_method" title="#align (instance method)">#<strong>align</strong>  &#x21d2; Object </a>
    

    
      (also: #align_to_first)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Duplicate the last vector as required until aligned with the start of the next vector group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#align_to_last-instance_method" title="#align_to_last (instance method)">#<strong>align_to_last</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Duplicate the last vector as required until aligned to the last vector of the current vector group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_write_pattern_line-instance_method" title="#before_write_pattern_line (instance method)">#<strong>before_write_pattern_line</strong>(line)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tester models can overwrite this if they wish to inject any additional pattern lines at final pattern dump time.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_pin_vals-instance_method" title="#current_pin_vals (instance method)">#<strong>current_pin_vals</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cycle_count-instance_method" title="#cycle_count (instance method)">#<strong>cycle_count</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the current cycle count.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dec_vec_count-instance_method" title="#dec_vec_count (instance method)">#<strong>dec_vec_count</strong>(num = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>decrement vector count.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dont_compress-instance_method" title="#dont_compress (instance method)">#<strong>dont_compress</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dont_compress=-instance_method" title="#dont_compress= (instance method)">#<strong>dont_compress=</strong>(val)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#execution_time_in_ns-instance_method" title="#execution_time_in_ns (instance method)">#<strong>execution_time_in_ns</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the current execution time.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand_vector-instance_method" title="#expand_vector (instance method)">#<strong>expand_vector</strong>(vec)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>expands (un-compresses to pattern) vector if desired or leaves it as is allows for tracking and formatting of vector if comment then return without modification.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format-instance_method" title="#format (instance method)">#<strong>format</strong>(vector_array, section)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Final pass of a generator vector array which returns lines suitable for writing to the output file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_pin_state-instance_method" title="#format_pin_state (instance method)">#<strong>format_pin_state</strong>(pin)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_vector-instance_method" title="#format_vector (instance method)">#<strong>format_vector</strong>(vec)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_pingroup-instance_method" title="#get_pingroup (instance method)">#<strong>get_pingroup</strong>(pin)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inc_cycle_count-instance_method" title="#inc_cycle_count (instance method)">#<strong>inc_cycle_count</strong>(num = 1, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>increment cycle count.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inc_vec_count-instance_method" title="#inc_vec_count (instance method)">#<strong>inc_vec_count</strong>(num = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>increment vector count.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inhibit_pin-instance_method" title="#inhibit_pin (instance method)">#<strong>inhibit_pin</strong>(*pins)  &#x21d2; Object </a>
    

    
      (also: #inhibit_pins)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Call to prevent the given pins from appearing in the generated vectors.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inhibited_pins-instance_method" title="#inhibited_pins (instance method)">#<strong>inhibited_pins</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of pin IDs that are currently inhibited (will not be included when vectors are generated).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_object-instance_method" title="#last_object (instance method)">#<strong>last_object</strong>(offset = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_vector-instance_method" title="#last_vector (instance method)">#<strong>last_vector</strong>(offset = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#microcode-instance_method" title="#microcode (instance method)">#<strong>microcode</strong>(code, options = {})  &#x21d2; Object </a>
    

    
      (also: #push_microcode)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ordered_pins-instance_method" title="#ordered_pins (instance method)">#<strong>ordered_pins</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ordered_pins_cache-instance_method" title="#ordered_pins_cache (instance method)">#<strong>ordered_pins_cache</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Cache any pin ordering for later use since all vectors should be formatted the same.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ordered_pins_name-instance_method" title="#ordered_pins_name (instance method)">#<strong>ordered_pins_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve optional &#39;name&#39; meta passed in with the pin_pattern_order call.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pingroup_map-instance_method" title="#pingroup_map (instance method)">#<strong>pingroup_map</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pipeline-instance_method" title="#pipeline (instance method)">#<strong>pipeline</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#preset_next_vector-instance_method" title="#preset_next_vector (instance method)">#<strong>preset_next_vector</strong>(attrs = {}, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Allows the attributes for the next vector to be setup prior to generating it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#push_comment-instance_method" title="#push_comment (instance method)">#<strong>push_comment</strong>(msg)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#push_vector-instance_method" title="#push_vector (instance method)">#<strong>push_vector</strong>(attrs = {})  &#x21d2; Object </a>
    

    
      (also: #vector)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called by every $tester.cycle command to push a vector to the stage object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#regex_for_pin-instance_method" title="#regex_for_pin (instance method)">#<strong>regex_for_pin</strong>(pin)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a regular expression that can be used to get the value of the given pin within the string returned by current_pin_vals.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#regex_for_pin_sub-instance_method" title="#regex_for_pin_sub (instance method)">#<strong>regex_for_pin_sub</strong>(pin)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a regular expression that can be used to change the value of the given pin within the string returned by current_pin_vals.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_store_from_vector-instance_method" title="#remove_store_from_vector (instance method)">#<strong>remove_store_from_vector</strong>(vector)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render-instance_method" title="#render (instance method)">#<strong>render</strong>(template, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Render content directly into a pattern, any options will be passed to the template.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_body-instance_method" title="#render_body (instance method)">#<strong>render_body</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as the render method, except the template method should be called body_template.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_footer-instance_method" title="#render_footer (instance method)">#<strong>render_footer</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If the tester defines a method named footer_template this method will compile whatever template file is returned by that method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_header-instance_method" title="#render_header (instance method)">#<strong>render_header</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If the tester defines a method named header_template this method will compile whatever template file is returned by that method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_template-instance_method" title="#render_template (instance method)">#<strong>render_template</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If the tester defines a method named template this method will compile whatever template file is returned by that method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset_cycle_count-instance_method" title="#reset_cycle_count (instance method)">#<strong>reset_cycle_count</strong>(num = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>reset_cycle_count.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stage-instance_method" title="#stage (instance method)">#<strong>stage</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#track_and_format_comment-instance_method" title="#track_and_format_comment (instance method)">#<strong>track_and_format_comment</strong>(comment)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#track_and_format_vector-instance_method" title="#track_and_format_vector (instance method)">#<strong>track_and_format_vector</strong>(vec)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Update tracking info (stats object) and allow for any additional formatting via format_vector method if overridden.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_pin_from_formatted_state-instance_method" title="#update_pin_from_formatted_state (instance method)">#<strong>update_pin_from_formatted_state</strong>(pin, state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_vector-instance_method" title="#update_vector (instance method)">#<strong>update_vector</strong>(attrs = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_vector_pin_val-instance_method" title="#update_vector_pin_val (instance method)">#<strong>update_vector_pin_val</strong>(pin, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vec_count-instance_method" title="#vec_count (instance method)">#<strong>vec_count</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>init vector count when first accessed, otherwise return value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vector_group_size-instance_method" title="#vector_group_size (instance method)">#<strong>vector_group_size</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vector_group_size=-instance_method" title="#vector_group_size= (instance method)">#<strong>vector_group_size=</strong>(number)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_vector_group_size-instance_method" title="#with_vector_group_size (instance method)">#<strong>with_vector_group_size</strong>(number)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="compress=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="compress-instance_method">
  
    #<strong>compress</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute compress.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compress'>compress</span>
  <span class='ivar'>@compress</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="expand_repeats=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="expand_repeats-instance_method">
  
    #<strong>expand_repeats</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute expand_repeats.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expand_repeats'>expand_repeats</span>
  <span class='ivar'>@expand_repeats</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="vector_comments=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="vector_comments-instance_method">
  
    #<strong>vector_comments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>When set to true vector and cycle number comments will be appended to pattern vectors. This can also be enabled by running the generate command with the &#39;-v&#39; switch.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_vector_comments'>vector_comments</span>
  <span class='ivar'>@vector_comments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="_render-instance_method">
  
    #<strong>_render</strong>(method)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid__render'>_render</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span>  <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span>
    <span class='comment'># Record the current file, this can be used to resolve any relative path
</span>    <span class='comment'># references in the file about to be compiled
</span>    <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_file_handler'>file_handler</span><span class='period'>.</span><span class='id identifier rubyid_current_file'>current_file</span> <span class='op'>=</span> <span class='id identifier rubyid_template'>template</span>
    <span class='comment'># Ran into crosstalk problems when rendering ERB templates recursively, setting eoutvar based
</span>    <span class='comment'># on the name of the file will causes each template to be rendered into its own &#39;bank&#39;.
</span>    <span class='comment'># Not sure why the final gsub is needed but seems to fail to parse correctly otherwise.
</span>    <span class='id identifier rubyid_eoutvar'>eoutvar</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='comment'># Make the file name available to the template
</span>    <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generator'>generator</span><span class='period'>.</span><span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:file</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_template'>template</span>
    <span class='id identifier rubyid_push_microcode'>push_microcode</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generator'>generator</span><span class='period'>.</span><span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='const'>ERB</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_erb_trim_mode'>erb_trim_mode</span><span class='comma'>,</span> <span class='id identifier rubyid_eoutvar'>eoutvar</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_microcode_to_last_or_cycle-instance_method">
  
    #<strong>add_microcode_to_last_or_cycle</strong>(code)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds the given microcode to the last vector if possible. If not possible (meaning the vector already contains microcode) then a new cycle will be added with the given microcode.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


271
272
273
274</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 271</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_microcode_to_last_or_cycle'>add_microcode_to_last_or_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_last_vector'>last_vector</span> <span class='op'>||</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_last_vector'>last_vector</span><span class='period'>.</span><span class='id identifier rubyid_has_microcode?'>has_microcode?</span>
  <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_last_vector'>last_vector</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="align-instance_method">
  
    #<strong>align</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='align_to_first-instance_method'>align_to_first</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Duplicate the last vector as required until aligned with the start of the next vector group</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_align'>align</span>
  <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='symbol'>:align</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="align_to_last-instance_method">
  
    #<strong>align_to_last</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Duplicate the last vector as required until aligned to the last vector of the current vector group</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_align_to_last'>align_to_last</span>
  <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='symbol'>:align_last</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before_write_pattern_line-instance_method">
  
    #<strong>before_write_pattern_line</strong>(line)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tester models can overwrite this if they wish to inject any additional pattern lines at final pattern dump time</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317
318
319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 317</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_write_pattern_line'>before_write_pattern_line</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='lbracket'>[</span><span class='id identifier rubyid_line'>line</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_pin_vals-instance_method">
  
    #<strong>current_pin_vals</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


536
537
538</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 536</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_pin_vals'>current_pin_vals</span>
  <span class='id identifier rubyid_ordered_pins_cache'>ordered_pins_cache</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_vector</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cycle_count-instance_method">
  
    #<strong>cycle_count</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the current cycle count</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74
75
76</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 74</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cycle_count'>cycle_count</span>
  <span class='ivar'>@cycle_count</span> <span class='op'>||=</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dec_vec_count-instance_method">
  
    #<strong>dec_vec_count</strong>(num = 1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>decrement vector count</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dec_vec_count'>dec_vec_count</span><span class='lparen'>(</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_vec_count'>vec_count</span> <span class='kw'>if</span> <span class='ivar'>@vec_count</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>  <span class='comment'># define if not already
</span>  <span class='ivar'>@vec_count</span> <span class='op'>=</span> <span class='ivar'>@vec_count</span> <span class='op'>-</span> <span class='id identifier rubyid_num'>num</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dont_compress-instance_method">
  
    #<strong>dont_compress</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327
328
329
330
331
332
333
334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 325</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dont_compress'>dont_compress</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_orig'>orig</span> <span class='op'>=</span> <span class='ivar'>@dont_compress</span>
    <span class='ivar'>@dont_compress</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>yield</span>
    <span class='ivar'>@dont_compress</span> <span class='op'>=</span> <span class='id identifier rubyid_orig'>orig</span>
  <span class='kw'>else</span>
    <span class='ivar'>@dont_compress</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dont_compress=-instance_method">
  
    #<strong>dont_compress=</strong>(val)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


336
337
338</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 336</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dont_compress='>dont_compress=</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
  <span class='ivar'>@dont_compress</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="execution_time_in_ns-instance_method">
  
    #<strong>execution_time_in_ns</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the current execution time</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_execution_time_in_ns'>execution_time_in_ns</span>
  <span class='ivar'>@execution_time_in_ns</span> <span class='op'>||=</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand_vector-instance_method">
  
    #<strong>expand_vector</strong>(vec)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>expands (un-compresses to pattern) vector if desired or leaves it as is allows for tracking and formatting of vector if comment then return without modification</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


343
344
345
346
347
348
349
350
351
352
353
354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expand_vector'>expand_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Vector.html" title="OrigenTesters::Vector (class)">Vector</a></span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_expand_repeats'>expand_repeats</span>
      <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>=</span> <span class='int'>1</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_track_and_format_vector'>track_and_format_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_track_and_format_vector'>track_and_format_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_track_and_format_comment'>track_and_format_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>  <span class='comment'># Return comments without modification
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format-instance_method">
  
    #<strong>format</strong>(vector_array, section)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Final pass of a generator vector array which returns lines suitable for writing to the output file. This gives the tester model a chance to concatenate repeats and any other last optimization/formatting changes it wishes to make.</p>

<p>At this point vector array contains a combination of non-vector lines and uncompressed Vector objects (vector lines)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 283</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='id identifier rubyid_vector_array'>vector_array</span><span class='comma'>,</span> <span class='id identifier rubyid_section'>section</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tester_writing_pattern'>tester_writing_pattern</span> <span class='op'>=</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:open_and_write_pattern</span><span class='rparen'>)</span>
  <span class='comment'># Go through vector_array and print out both
</span>  <span class='comment'># vectors and non-vectors to pattern (via &#39;yield line&#39;)
</span>  <span class='id identifier rubyid_vector_array'>vector_array</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_vec'>vec</span><span class='op'>|</span>
    <span class='comment'># skip here important for the ways delays are currently handled
</span>    <span class='comment'># TODO: This seems like an upstream bug that should be investigated, why is such
</span>    <span class='comment'># a vector even generated?
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_comment_char'>comment_char</span>
        <span class='id identifier rubyid_pipeline'>pipeline</span><span class='period'>.</span><span class='id identifier rubyid_push_comment'>push_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_pipeline'>pipeline</span><span class='period'>.</span><span class='id identifier rubyid_push_microcode'>push_microcode</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:repeat</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>==</span> <span class='int'>0</span> <span class='comment'># skip vectors with repeat of 0!
</span>      <span class='id identifier rubyid_pipeline'>pipeline</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_vec'>vec</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pipeline'>pipeline</span><span class='period'>.</span><span class='id identifier rubyid_flush'>flush</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_vector'>vector</span><span class='op'>|</span>
      <span class='id identifier rubyid_expand_vector'>expand_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vector'>vector</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_line'>line</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tester_writing_pattern'>tester_writing_pattern</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># now flush buffer if there is still a vector
</span>  <span class='id identifier rubyid_pipeline'>pipeline</span><span class='period'>.</span><span class='id identifier rubyid_empty'>empty</span><span class='lparen'>(</span><span class='label'>min_vectors:</span> <span class='id identifier rubyid_section'>section</span> <span class='op'>==</span> <span class='symbol'>:footer</span> <span class='op'>?</span> <span class='ivar'>@min_pattern_vectors</span> <span class='op'>:</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_vector'>vector</span><span class='op'>|</span>
    <span class='id identifier rubyid_expand_vector'>expand_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vector'>vector</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_line'>line</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tester_writing_pattern'>tester_writing_pattern</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_pin_state-instance_method">
  
    #<strong>format_pin_state</strong>(pin)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Origen::Pins::Pin#to_vector</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 634</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_pin_state'>format_pin_state</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous?'>repeat_previous?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@support_repeat_previous</span>
    <span class='ivar'>@repeat_previous</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_driving?'>driving?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_high_voltage?'>high_voltage?</span>
        <span class='ivar'>@drive_very_hi_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>else</span>
        <span class='ivar'>@drive_hi_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='ivar'>@drive_lo_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_comparing_midband?'>comparing_midband?</span>
    <span class='ivar'>@expect_mid_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_comparing?'>comparing?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='ivar'>@expect_hi_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='ivar'>@expect_lo_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_driving_mem?'>driving_mem?</span>
    <span class='ivar'>@drive_mem_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>D</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_comparing_mem?'>comparing_mem?</span>
    <span class='ivar'>@expect_mem_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>E</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_to_be_captured?'>to_be_captured?</span>
    <span class='ivar'>@capture_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='ivar'>@dont_care_state</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_vector-instance_method">
  
    #<strong>format_vector</strong>(vec)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


386
387</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 386</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_vector'>format_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_pingroup-instance_method">
  
    #<strong>get_pingroup</strong>(pin)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


598
599
600
601
602
603</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 598</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_pingroup'>get_pingroup</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pingroup_map'>pingroup_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_pins'>pins</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_id'>id</span> <span class='kw'>if</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_pin'>pin</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inc_cycle_count-instance_method">
  
    #<strong>inc_cycle_count</strong>(num = 1, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>increment cycle count</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inc_cycle_count'>inc_cycle_count</span><span class='lparen'>(</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_num'>num</span> <span class='kw'>if</span> <span class='id identifier rubyid_num'>num</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle_count'>cycle_count</span> <span class='kw'>if</span> <span class='ivar'>@cycle_count</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># define if not already
</span>  <span class='id identifier rubyid_execution_time_in_ns'>execution_time_in_ns</span> <span class='kw'>if</span> <span class='ivar'>@execution_time_in_ns</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># define if not already
</span>  <span class='ivar'>@execution_time_in_ns</span> <span class='op'>+=</span> <span class='id identifier rubyid_num'>num</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:period_in_ns</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_tester'>tester</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_period_in_ns'>period_in_ns</span><span class='rparen'>)</span>
  <span class='ivar'>@cycle_count</span> <span class='op'>=</span> <span class='ivar'>@cycle_count</span> <span class='op'>+</span> <span class='id identifier rubyid_num'>num</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inc_vec_count-instance_method">
  
    #<strong>inc_vec_count</strong>(num = 1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>increment vector count</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 62</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inc_vec_count'>inc_vec_count</span><span class='lparen'>(</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_vec_count'>vec_count</span> <span class='kw'>if</span> <span class='ivar'>@vec_count</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>  <span class='comment'># define if not already
</span>  <span class='ivar'>@vec_count</span> <span class='op'>=</span> <span class='ivar'>@vec_count</span> <span class='op'>+</span> <span class='id identifier rubyid_num'>num</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inhibit_pin-instance_method">
  
    #<strong>inhibit_pin</strong>(*pins)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='inhibit_pins-instance_method'>inhibit_pins</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Call to prevent the given pins from appearing in the generated vectors.</p>

<p>This is a convenient way to inhibit something like a J750 mux pin from appearing in the patterns when generating the pattern for a different platform.</p>

<p>When used this method must be called before the first vector is generated - it will not be retrospectively applied to existing vectors.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112
113
114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 108</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inhibit_pin'>inhibit_pin</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_pins'>pins</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
    <span class='id identifier rubyid_pin'>pin</span> <span class='op'>=</span> <span class='gvar'>$dut</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Symbol</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_inhibited_pins'>inhibited_pins</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pin'>pin</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_inhibited_pins'>inhibited_pins</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
  <span class='id identifier rubyid_inhibited_pins'>inhibited_pins</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
  <span class='id identifier rubyid_inhibited_pins'>inhibited_pins</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inhibited_pins-instance_method">
  
    #<strong>inhibited_pins</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of pin IDs that are currently inhibited (will not be included when vectors are generated)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inhibited_pins'>inhibited_pins</span>
  <span class='ivar'>@inhibited_pins</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last_object-instance_method">
  
    #<strong>last_object</strong>(offset = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 208</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last_object'>last_object</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_last_object'>last_object</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last_vector-instance_method">
  
    #<strong>last_vector</strong>(offset = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 204</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last_vector'>last_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_last_vector'>last_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="microcode-instance_method">
  
    #<strong>microcode</strong>(code, options = {})  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='push_microcode-instance_method'>push_microcode</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 193</span>

<span class='kw'>def</span> <span class='id identifier rubyid_microcode'>microcode</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='ivar'>@inhibit_vectors</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='int'>0</span>
      <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_insert_from_end'>insert_from_end</span> <span class='id identifier rubyid_code'>code</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='id identifier rubyid_code'>code</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ordered_pins-instance_method">
  
    #<strong>ordered_pins</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 408</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>include_inhibited_pins:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>include_pingroups:</span>      <span class='kw'>true</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Working out pin pattern order</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_pinorder'>pinorder</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_order'>pin_pattern_order</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_pinexclude'>pinexclude</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_exclude'>pin_pattern_exclude</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>

    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_order'>pin_pattern_order</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_pinorder'>pinorder</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_exclude'>pin_pattern_exclude</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_pinexclude'>pinexclude</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_ordered_pins'>ordered_pins</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='comment'># Create a copy of all pins and groups to be output, pins/groups will be delete from here as
</span>    <span class='comment'># they are output, so that at the end of the user defined pin order what is left in here can
</span>    <span class='comment'># either be discarded or output at the end
</span>    <span class='id identifier rubyid_pins'>pins</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pin_bank'>pin_bank</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_pingroups'>pingroups</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pin_bank'>pin_bank</span><span class='period'>.</span><span class='id identifier rubyid_pin_groups'>pin_groups</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_pinorder'>pinorder</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pinorder'>pinorder</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_pinorder'>pinorder</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='op'>|</span>
        <span class='comment'># If the ID refers to a pin group
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pin_bank'>pin_bank</span><span class='period'>.</span><span class='id identifier rubyid_pin_groups'>pin_groups</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span>
          <span class='comment'># If the group has still to be output just do that now
</span>          <span class='kw'>if</span> <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
            <span class='id identifier rubyid_ordered_pins'>ordered_pins</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_group'>group</span>
            <span class='comment'># Now delete the group from the list of groups still to be output and all of its pins
</span>            <span class='comment'># from the list pins still to be output
</span>            <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
              <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid__group'>_group</span><span class='op'>|</span>
                <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
              <span class='kw'>end</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='comment'># To get here the some of the pins in the group have already been output which is preventing
</span>          <span class='comment'># output of the complete group at this point, in that case output any of its pins that have
</span>          <span class='comment'># still to go
</span>          <span class='kw'>else</span>
            <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
              <span class='kw'>if</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
                <span class='id identifier rubyid_ordered_pins'>ordered_pins</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pin'>pin</span>
                <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid__group'>_group</span><span class='op'>|</span>
                  <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
                <span class='kw'>end</span>
              <span class='kw'>end</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='comment'># this is a pin
</span>        <span class='kw'>else</span>
          <span class='id identifier rubyid_pin'>pin</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pin_bank'>pin_bank</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Undefined pin (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>) added to pin_pattern_order</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_pin'>pin</span>
          <span class='id identifier rubyid_ordered_pins'>ordered_pins</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pin'>pin</span>
          <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid__group'>_group</span><span class='op'>|</span>
            <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
          <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_id'>id</span>
          <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_pinexclude'>pinexclude</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pinexclude'>pinexclude</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_pinexclude'>pinexclude</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pin_bank'>pin_bank</span><span class='period'>.</span><span class='id identifier rubyid_pin_groups'>pin_groups</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span>
          <span class='comment'># see if group is already in ordered_pins
</span>          <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pin group </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> is defined both in pin_pattern_order and pin_pattern_exclude</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_id'>id</span>
          <span class='comment'># this is a pin group, delete all pins in group
</span>          <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
            <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pin (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>) in group (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>) is defined both in pin_pattern_order and pin_pattern_exclude</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
            <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span> <span class='comment'># this is a pin, delete the pin
</span>          <span class='id identifier rubyid_pin'>pin</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pin_bank'>pin_bank</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Undefined pin (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>) added to pin_pattern_exclude</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_pin'>pin</span>
          <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pin </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is defined both in pin_pattern_order and pin_pattern_exclude</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
          <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_id'>id</span>
          <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid__group'>_group</span><span class='op'>|</span>
            <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span>
      <span class='comment'># all the rest of the pins to the end of the pattern order
</span>      <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__id'>_id</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
        <span class='comment'># check for port
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_belongs_to_a_pin_group?'>belongs_to_a_pin_group?</span>
          <span class='comment'># Are any of this pin&#39;s groups still waiting to be output? pingroups at this point contains
</span>          <span class='comment'># those groups which have not been rendered yet
</span>          <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='id identifier rubyid_pingroups'>pingroups</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__id'>_id</span><span class='comma'>,</span> <span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
            <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__pid'>_pid</span><span class='comma'>,</span> <span class='id identifier rubyid_pgroup'>pgroup</span><span class='op'>|</span> <span class='id identifier rubyid_group'>group</span> <span class='op'>==</span> <span class='id identifier rubyid_pgroup'>pgroup</span> <span class='rbrace'>}</span>
          <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_group'>group</span>
            <span class='id identifier rubyid_ordered_pins'>ordered_pins</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_group'>group</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_group'>group</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_ordered_pins'>ordered_pins</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pin'>pin</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_ordered_pins'>ordered_pins</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pin'>pin</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:include_inhibited_pins</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_pin'>pin</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_inhibited_pins'>inhibited_pins</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_pin'>pin</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ordered_pins_cache-instance_method">
  
    #<strong>ordered_pins_cache</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Cache any pin ordering for later use since all vectors should be formatted the same</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ordered_pins_cache'>ordered_pins_cache</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@ordered_pins_cache</span> <span class='op'>||=</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ordered_pins_name-instance_method">
  
    #<strong>ordered_pins_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve optional &#39;name&#39; meta passed in with the pin_pattern_order call</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


399
400
401
402
403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 399</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ordered_pins_name'>ordered_pins_name</span>
  <span class='id identifier rubyid_pinorder'>pinorder</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_order'>pin_pattern_order</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_order'>pin_pattern_order</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_pinorder'>pinorder</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pingroup_map-instance_method">
  
    #<strong>pingroup_map</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


389
390
391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 389</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pingroup_map'>pingroup_map</span>
  <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pingroup_map'>pingroup_map</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pipeline-instance_method">
  
    #<strong>pipeline</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


321
322
323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 321</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pipeline'>pipeline</span>
  <span class='ivar'>@pipeline</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="VectorPipeline.html" title="OrigenTesters::VectorPipeline (class)">VectorPipeline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VectorPipeline.html#initialize-instance_method" title="OrigenTesters::VectorPipeline#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_vector_group_size'>vector_group_size</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="preset_next_vector-instance_method">
  
    #<strong>preset_next_vector</strong>(attrs = {}, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Allows the attributes for the next vector to be setup prior to generating it.</p>

<p>A block can be optionally supplied to act as a clean up method, that is the block will be saved and executed after the next cycle has been generated.</p>

<p>See the V93K store_next_cycle method for an example of using this.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 221</span>

<span class='kw'>def</span> <span class='id identifier rubyid_preset_next_vector'>preset_next_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@preset_next_vector</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span>
  <span class='ivar'>@preset_next_vector_cleanup</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push_comment-instance_method">
  
    #<strong>push_comment</strong>(msg)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_push_comment'>push_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='rparen'>)</span>
  <span class='comment'># Comments are stored verbatim for now, can&#39;t see much use for a dedicated comment object
</span>  <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='id identifier rubyid_msg'>msg</span> <span class='kw'>unless</span> <span class='ivar'>@inhibit_comments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push_vector-instance_method">
  
    #<strong>push_vector</strong>(attrs = {})  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='vector-instance_method'>vector</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called by every $tester.cycle command to push a vector to the stage object</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 227</span>

<span class='kw'>def</span> <span class='id identifier rubyid_push_vector'>push_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>dont_compress:</span> <span class='ivar'>@dont_compress</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='ivar'>@inhibit_vectors</span>
    <span class='kw'>if</span> <span class='ivar'>@preset_next_vector</span>
      <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='ivar'>@preset_next_vector</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_preset'>preset</span><span class='comma'>,</span> <span class='id identifier rubyid_current'>current</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_preset'>preset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_current'>current</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_current'>current</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
          <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'> set by preset_next_vector clashed with the next vector!</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_preset'>preset</span> <span class='op'>||</span> <span class='id identifier rubyid_current'>current</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='ivar'>@preset_next_vector</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Vector.html" title="OrigenTesters::Vector (class)">Vector</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Vector.html#initialize-instance_method" title="OrigenTesters::Vector#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='const'><span class='object_link'><a href="Vector.html" title="OrigenTesters::Vector (class)">Vector</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Vector.html#initialize-instance_method" title="OrigenTesters::Vector#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_inc_vec_count'>inc_vec_count</span>
    <span class='id identifier rubyid_inc_cycle_count'>inc_cycle_count</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='symbol'>:repeat</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>period_in_ns:</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_period_in_ns'>period_in_ns</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='ivar'>@preset_next_vector_cleanup</span>
      <span class='ivar'>@preset_next_vector_cleanup</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
      <span class='ivar'>@preset_next_vector_cleanup</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="regex_for_pin-instance_method">
  
    #<strong>regex_for_pin</strong>(pin)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a regular expression that can be used to get the value of the given pin within the string returned by current_pin_vals.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_current_pin_vals'>current_pin_vals</span>                  <span class='comment'># =&gt; &quot;1 1 XX10 H X1&quot;
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_regex_for_pin'>regex_for_pin</span><span class='lparen'>(</span><span class='gvar'>$dut</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span><span class='lparen'>(</span><span class='symbol'>:jtag</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># =&gt; /\w{1} \w{1} (\w{4}) \w{1} \w{2}/
</span><span class='id identifier rubyid_regex'>regex</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
<span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>   <span class='comment'># =&gt; &quot;XX10&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Vector.html#pin_value-instance_method" title="OrigenTesters::Vector#pin_value (method)">OrigenTesters::Vector#pin_value</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


548
549
550
551
552
553
554
555
556
557
558
559
560
561
562</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 548</span>

<span class='kw'>def</span> <span class='id identifier rubyid_regex_for_pin'>regex_for_pin</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span>
  <span class='ivar'>@regex_for_pins</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># Cache this as potentially called many times during pattern generation
</span>  <span class='ivar'>@regex_for_pins</span><span class='lbracket'>[</span><span class='id identifier rubyid_pin'>pin</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_ordered_pins_cache'>ordered_pins_cache</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span> <span class='op'>==</span> <span class='id identifier rubyid_p'>p</span>
        <span class='id identifier rubyid_regex'>regex</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(\\w{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>}) </span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_regex'>regex</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\w{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>} </span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="regex_for_pin_sub-instance_method">
  
    #<strong>regex_for_pin_sub</strong>(pin)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a regular expression that can be used to change the value of the given pin within the string returned by current_pin_vals.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_current_pin_vals'>current_pin_vals</span>                      <span class='comment'># =&gt; &quot;1 1 XX10 H X1&quot;
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_regex_for_pin_sub'>regex_for_pin_sub</span><span class='lparen'>(</span><span class='gvar'>$dut</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span><span class='lparen'>(</span><span class='symbol'>:jtag</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># =&gt; /(\w{1} \w{1} )(\w{4})( \w{1} \w{2})/
</span><span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1LLLL\3</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>  <span class='comment'># =&gt; &quot;1 1 LLLL H X1&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Vector.html#set_pin_value-instance_method" title="OrigenTesters::Vector#set_pin_value (method)">OrigenTesters::Vector#set_pin_value</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 571</span>

<span class='kw'>def</span> <span class='id identifier rubyid_regex_for_pin_sub'>regex_for_pin_sub</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span>
  <span class='ivar'>@regex_for_pin_subs</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># Cache this as potentially called many times during pattern generation
</span>  <span class='ivar'>@regex_for_pin_subs</span><span class='lbracket'>[</span><span class='id identifier rubyid_pin'>pin</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_first_pin_done'>first_pin_done</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_match_pin_done'>match_pin_done</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_ordered_pins_cache'>ordered_pins_cache</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span> <span class='op'>==</span> <span class='id identifier rubyid_p'>p</span>
        <span class='id identifier rubyid_regex'>regex</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_first_pin_done'>first_pin_done</span>
        <span class='id identifier rubyid_regex'>regex</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(\\w{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>})( </span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_regex'>regex</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_first_pin_done'>first_pin_done</span>
        <span class='id identifier rubyid_regex'>regex</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\w{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>} </span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_first_pin_done'>first_pin_done</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_regex'>regex</span><span class='period'>.</span><span class='id identifier rubyid_strip!'>strip!</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_regex'>regex</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_regex'>regex</span><span class='period'>.</span><span class='id identifier rubyid_chop!'>chop!</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_regex'>regex</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_store_from_vector-instance_method">
  
    #<strong>remove_store_from_vector</strong>(vector)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


667
668
669</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 667</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_store_from_vector'>remove_store_from_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vector'>vector</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_vector'>vector</span><span class='period'>.</span><span class='id identifier rubyid_pin_vals'>pin_vals</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render-instance_method">
  
    #<strong>render</strong>(template, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Render content directly into a pattern, any options will be passed to the template</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122
123
124
125
126
127
128
129
130
131
132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># Record the current file, this can be used to resolve any relative path
</span>  <span class='comment'># references in the file about to be compiled
</span>  <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_file_handler'>file_handler</span><span class='period'>.</span><span class='id identifier rubyid_current_file'>current_file</span> <span class='op'>=</span> <span class='id identifier rubyid_template'>template</span>
  <span class='comment'># Ran into crosstalk problems when rendering ERB templates recursively, setting eoutvar based
</span>  <span class='comment'># on the name of the file will causes each template to be rendered into its own &#39;bank&#39;.
</span>  <span class='comment'># Not sure why the final gsub is needed but seems to fail to parse correctly otherwise.
</span>  <span class='id identifier rubyid_eoutvar'>eoutvar</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># Make the file name available to the template
</span>  <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generator'>generator</span><span class='period'>.</span><span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:file</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_template'>template</span>
  <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generator'>generator</span><span class='period'>.</span><span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generator'>generator</span><span class='period'>.</span><span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='const'>ERB</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_erb_trim_mode'>erb_trim_mode</span><span class='comma'>,</span> <span class='id identifier rubyid_eoutvar'>eoutvar</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_code'>code</span><span class='period'>.</span><span class='id identifier rubyid_strip!'>strip!</span>
  <span class='id identifier rubyid_push_microcode'>push_microcode</span> <span class='id identifier rubyid_code'>code</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_body-instance_method">
  
    #<strong>render_body</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as the render method, except the template method should be called body_template.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_body'>render_body</span>
  <span class='id identifier rubyid__render'>_render</span><span class='lparen'>(</span><span class='symbol'>:body_template</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_footer-instance_method">
  
    #<strong>render_footer</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If the tester defines a method named footer_template this method will compile whatever template file is returned by that method.</p>

<p>This method is called automatically during the footer section of a Pattern.create operation.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_footer'>render_footer</span>
  <span class='id identifier rubyid__render'>_render</span><span class='lparen'>(</span><span class='symbol'>:footer_template</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_header-instance_method">
  
    #<strong>render_header</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If the tester defines a method named header_template this method will compile whatever template file is returned by that method.</p>

<p>This method is called automatically during the header section of a Pattern.create operation.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_header'>render_header</span>
  <span class='id identifier rubyid__render'>_render</span><span class='lparen'>(</span><span class='symbol'>:header_template</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_template-instance_method">
  
    #<strong>render_template</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If the tester defines a method named template this method will compile whatever template file is returned by that method.</p>

<p>This method is called automatically after the body section of a Pattern.create operation has completed.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 141</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_template'>render_template</span>
  <span class='id identifier rubyid__render'>_render</span><span class='lparen'>(</span><span class='symbol'>:template</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset_cycle_count-instance_method">
  
    #<strong>reset_cycle_count</strong>(num = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>reset_cycle_count</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_cycle_count'>reset_cycle_count</span><span class='lparen'>(</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle_count'>cycle_count</span> <span class='kw'>if</span> <span class='ivar'>@cycle_count</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># define if not already
</span>  <span class='ivar'>@execution_time_in_ns</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@cycle_count</span> <span class='op'>=</span> <span class='id identifier rubyid_num'>num</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stage-instance_method">
  
    #<strong>stage</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stage'>stage</span>
  <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generator'>generator</span><span class='period'>.</span><span class='id identifier rubyid_stage'>stage</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="track_and_format_comment-instance_method">
  
    #<strong>track_and_format_comment</strong>(comment)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


358
359
360</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 358</span>

<span class='kw'>def</span> <span class='id identifier rubyid_track_and_format_comment'>track_and_format_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_comment'>comment</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="track_and_format_vector-instance_method">
  
    #<strong>track_and_format_vector</strong>(vec)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Update tracking info (stats object) and allow for any additional formatting via format_vector method if overridden</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 365</span>

<span class='kw'>def</span> <span class='id identifier rubyid_track_and_format_vector'>track_and_format_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No timeset defined!</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Add one to your top level startup method or target like this:</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$tester.set_timeset(&quot;nvmbist&quot;, 40)   # Where 40 is the period in ns</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_stats'>stats</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_stats'>stats</span>
  <span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_add_vector'>add_vector</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_vector_group_size'>vector_group_size</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_add_cycle'>add_cycle</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_add_cycle'>add_cycle</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_vector_group_size'>vector_group_size</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_add_time_in_ns'>add_time_in_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_period_in_ns'>period_in_ns</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_add_time_in_ns'>add_time_in_ns</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_vector_group_size'>vector_group_size</span> <span class='op'>*</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_period_in_ns'>period_in_ns</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_add_cycle'>add_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_add_time_in_ns'>add_time_in_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>*</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_period_in_ns'>period_in_ns</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_format_vector'>format_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_pin_from_formatted_state-instance_method">
  
    #<strong>update_pin_from_formatted_state</strong>(pin, state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 605</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_pin_from_formatted_state'>update_pin_from_formatted_state</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='comma'>,</span> <span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@repeat_previous</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous'>repeat_previous</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@drive_very_hi_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_drive_very_hi'>drive_very_hi</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@drive_hi_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_drive_hi'>drive_hi</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@drive_lo_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_drive_lo'>drive_lo</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@expect_hi_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@expect_lo_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@expect_mid_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_mid'>expect_mid</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@drive_mem_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>D</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_drive_mem'>drive_mem</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@expect_mem_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>E</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_mem'>expect_mem</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@capture_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_capture'>capture</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='ivar'>@dont_care_state</span> <span class='op'>||</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown pin state: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_vector-instance_method">
  
    #<strong>update_vector</strong>(attrs = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


254
255
256
257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 254</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_vector'>update_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='ivar'>@inhibit_vectors</span>
    <span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_abs'>abs</span>
    <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_last_vector'>last_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_vector_pin_val-instance_method">
  
    #<strong>update_vector_pin_val</strong>(pin, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263
264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 261</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_vector_pin_val'>update_vector_pin_val</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='ivar'>@inhibit_vectors</span>
    <span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_abs'>abs</span>
    <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_last_vector'>last_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_update_pin_val'>update_pin_val</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vec_count-instance_method">
  
    #<strong>vec_count</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>init vector count when first accessed, otherwise return value</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_vec_count'>vec_count</span>
  <span class='ivar'>@vec_count</span> <span class='op'>||=</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vector_group_size-instance_method">
  
    #<strong>vector_group_size</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_vector_group_size'>vector_group_size</span>
  <span class='ivar'>@vector_group_size</span> <span class='op'>||</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vector_group_size=-instance_method">
  
    #<strong>vector_group_size=</strong>(number)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_vector_group_size='>vector_group_size=</span><span class='lparen'>(</span><span class='id identifier rubyid_number'>number</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_number'>number</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_number'>number</span><span class='period'>.</span><span class='id identifier rubyid_odd?'>odd?</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Only even numbers can be supplied for the vector_group_size!</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='comment'># Each pattern should run with its own tester instance, but just in case
</span>  <span class='ivar'>@pipeline</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@vector_group_size</span> <span class='op'>=</span> <span class='id identifier rubyid_number'>number</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_vector_group_size-instance_method">
  
    #<strong>with_vector_group_size</strong>(number)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/vector_generator.rb', line 30</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_vector_group_size'>with_vector_group_size</span><span class='lparen'>(</span><span class='id identifier rubyid_number'>number</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_orig'>orig</span> <span class='op'>=</span> <span class='id identifier rubyid_vector_group_size'>vector_group_size</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_vector_group_size'>vector_group_size</span> <span class='op'>=</span> <span class='id identifier rubyid_number'>number</span>
  <span class='kw'>yield</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_vector_group_size'>vector_group_size</span> <span class='op'>=</span> <span class='id identifier rubyid_orig'>orig</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Mar 16 19:44:57 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.24 (ruby-2.6.0).
</div>

    </div>
  </body>
</html>
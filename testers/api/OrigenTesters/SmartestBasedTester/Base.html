<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OrigenTesters::SmartestBasedTester::Base
  
    &mdash; Origen Testers 0.47.0
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OrigenTesters::SmartestBasedTester::Base";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (B)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../OrigenTesters.html" title="OrigenTesters (module)">OrigenTesters</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../SmartestBasedTester.html" title="OrigenTesters::SmartestBasedTester (module)">SmartestBasedTester</a></span></span>
     &raquo; 
    <span class="title">Base</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OrigenTesters::SmartestBasedTester::Base
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OrigenTesters::SmartestBasedTester::Base</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../VectorBasedTester.html" title="OrigenTesters::VectorBasedTester (module)">VectorBasedTester</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/origen_testers/smartest_based_tester/base.rb<span class="defines">,<br />
  lib/origen_testers/smartest_based_tester/base/flow.rb,<br /> lib/origen_testers/smartest_based_tester/base/generator.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_suite.rb,<br /> lib/origen_testers/smartest_based_tester/base/limits_file.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_method.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_suites.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_methods.rb,<br /> lib/origen_testers/smartest_based_tester/base/pattern_master.rb,<br /> lib/origen_testers/smartest_based_tester/base/variables_file.rb,<br /> lib/origen_testers/smartest_based_tester/base/pattern_compiler.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_methods/ac_tml.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_methods/dc_tml.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_methods/limits.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_methods/base_tml.rb,<br /> lib/origen_testers/smartest_based_tester/base/test_methods/custom_tml.rb,<br /> lib/origen_testers/smartest_based_tester/base/processors/extract_bin_names.rb,<br /> lib/origen_testers/smartest_based_tester/base/processors/extract_flow_vars.rb</span>
</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="V93K.html" title="OrigenTesters::SmartestBasedTester::V93K (class)">V93K</a></span>, <span class='object_link'><a href="V93K_SMT8.html" title="OrigenTesters::SmartestBasedTester::V93K_SMT8 (class)">V93K_SMT8</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Base/Generator.html" title="OrigenTesters::SmartestBasedTester::Base::Generator (module)">Generator</a></span>, <span class='object_link'><a href="Base/Processors.html" title="OrigenTesters::SmartestBasedTester::Base::Processors (module)">Processors</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Base/Flow.html" title="OrigenTesters::SmartestBasedTester::Base::Flow (class)">Flow</a></span>, <span class='object_link'><a href="Base/LimitsFile.html" title="OrigenTesters::SmartestBasedTester::Base::LimitsFile (class)">LimitsFile</a></span>, <span class='object_link'><a href="Base/PatternCompiler.html" title="OrigenTesters::SmartestBasedTester::Base::PatternCompiler (class)">PatternCompiler</a></span>, <span class='object_link'><a href="Base/PatternMaster.html" title="OrigenTesters::SmartestBasedTester::Base::PatternMaster (class)">PatternMaster</a></span>, <span class='object_link'><a href="Base/TestMethod.html" title="OrigenTesters::SmartestBasedTester::Base::TestMethod (class)">TestMethod</a></span>, <span class='object_link'><a href="Base/TestMethods.html" title="OrigenTesters::SmartestBasedTester::Base::TestMethods (class)">TestMethods</a></span>, <span class='object_link'><a href="Base/TestSuite.html" title="OrigenTesters::SmartestBasedTester::Base::TestSuite (class)">TestSuite</a></span>, <span class='object_link'><a href="Base/TestSuites.html" title="OrigenTesters::SmartestBasedTester::Base::TestSuites (class)">TestSuites</a></span>, <span class='object_link'><a href="Base/VariablesFile.html" title="OrigenTesters::SmartestBasedTester::Base::VariablesFile (class)">VariablesFile</a></span>
    
  
</p>




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_flow_enable-instance_method" title="#add_flow_enable (instance method)">#<strong>add_flow_enable</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether the tester has been configured to wrap top-level flow
modules with an enable or not.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_limits_file-instance_method" title="#create_limits_file (instance method)">#<strong>create_limits_file</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When set to true, all test flows will be generated with a corresponding
testtable limits file, rather than having the limits attached inline to the
test suites.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#delayed_binning-instance_method" title="#delayed_binning (instance method)">#<strong>delayed_binning</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When set to true, tests will be set to delayed binning by default (overon =
on) unless delayed: false is supplied when defining the test.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#force_pass_on_continue-instance_method" title="#force_pass_on_continue (instance method)">#<strong>force_pass_on_continue</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When set to true, tests which are marked with continue: true will be forced
to pass in generated test program flows.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#inline_comments-instance_method" title="#inline_comments (instance method)">#<strong>inline_comments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Disable inline (end of vector) comments, enabled by default.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#limitfile_test_modes-instance_method" title="#limitfile_test_modes (instance method)">#<strong>limitfile_test_modes</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of strings that indicate which test modes will be included
in limits files, by default returns an empty array.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#min_repeat_loop-instance_method" title="#min_repeat_loop (instance method)">#<strong>min_repeat_loop</strong>  &#x21d2; Object </a>
    

    
      (also: #min_repeat_count)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>permit modification of minimum repeat count.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#multiport-instance_method" title="#multiport (instance method)">#<strong>multiport</strong>  &#x21d2; Object </a>
    

    
      (also: #multi_port)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>permit option to generate multiport type patterns and use multiport type
code.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#multiport_postfix-instance_method" title="#multiport_postfix (instance method)">#<strong>multiport_postfix</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>multiport burst name postfix.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#multiport_prefix-instance_method" title="#multiport_prefix (instance method)">#<strong>multiport_prefix</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>multiport burst name prefix.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_namespace-instance_method" title="#package_namespace (instance method)">#<strong>package_namespace</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the package namespace that all generated test collateral should be
placed under, defaults to the application&#39;s namespace if not defined.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#separate_bins_file-instance_method" title="#separate_bins_file (instance method)">#<strong>separate_bins_file</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When set to true, the bins and softbins sheets from the limits spreadsheet
will be written out to a standalone (spreadsheet) file instead (SMT8 only).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#smt_version-instance_method" title="#smt_version (instance method)">#<strong>smt_version</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the SMT version, defaults to 7.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#unique_test_names-instance_method" title="#unique_test_names (instance method)">#<strong>unique_test_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value defined at target-level on if/how to make test names
unique within a flow, the default value is :signature.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip_patterns-instance_method" title="#zip_patterns (instance method)">#<strong>zip_patterns</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When set to true (the default), patterns will be generated in ZIP format
instead of ASCII format (SMT8 only).</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="../API.html" title="OrigenTesters::API (module)">API</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../API.html#capture_style-instance_method" title="OrigenTesters::API#capture_style (method)">#capture_style</a></span>, <span class='object_link'><a href="../API.html#comment_level-instance_method" title="OrigenTesters::API#comment_level (method)">#comment_level</a></span>, <span class='object_link'><a href="../API.html#generating-instance_method" title="OrigenTesters::API#generating (method)">#generating</a></span>, <span class='object_link'><a href="../API.html#includes-instance_method" title="OrigenTesters::API#includes (method)">#includes</a></span>, <span class='object_link'><a href="../API.html#overlay_style-instance_method" title="OrigenTesters::API#overlay_style (method)">#overlay_style</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="../Timing.html" title="OrigenTesters::Timing (module)">Timing</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Timing.html#level_period-instance_method" title="OrigenTesters::Timing#level_period (method)">#level_period</a></span>, <span class='object_link'><a href="../Timing.html#timing_toggled_pins=-instance_method" title="OrigenTesters::Timing#timing_toggled_pins= (method)">#timing_toggled_pins</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="../VectorGenerator.html" title="OrigenTesters::VectorGenerator (module)">VectorGenerator</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../VectorGenerator.html#compress-instance_method" title="OrigenTesters::VectorGenerator#compress (method)">#compress</a></span>, <span class='object_link'><a href="../VectorGenerator.html#expand_repeats-instance_method" title="OrigenTesters::VectorGenerator#expand_repeats (method)">#expand_repeats</a></span>, <span class='object_link'><a href="../VectorGenerator.html#vector_comments-instance_method" title="OrigenTesters::VectorGenerator#vector_comments (method)">#vector_comments</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_timeset_change-instance_method" title="#before_timeset_change (instance method)">#<strong>before_timeset_change</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_subroutine-instance_method" title="#call_subroutine (instance method)">#<strong>call_subroutine</strong>(name, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Call a subroutine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#called_subroutines-instance_method" title="#called_subroutines (instance method)">#<strong>called_subroutines</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of subroutines called while generating the current
pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cycle-instance_method" title="#cycle (instance method)">#<strong>cycle</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disable_pattern_diffs-instance_method" title="#disable_pattern_diffs (instance method)">#<strong>disable_pattern_diffs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end_subroutine-instance_method" title="#end_subroutine (instance method)">#<strong>end_subroutine</strong>(_cond = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Ends the current subroutine that was started with a previous call to
start_subroutine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#freq_count-instance_method" title="#freq_count (instance method)">#<strong>freq_count</strong>(_pin, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do a frequency measure.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handshake-instance_method" title="#handshake (instance method)">#<strong>handshake</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handshake with the tester.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(options = {})  &#x21d2; Base </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Base.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_subroutines-instance_method" title="#local_subroutines (instance method)">#<strong>local_subroutines</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of subroutines created by the current pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loop_vectors-instance_method" title="#loop_vectors (instance method)">#<strong>loop_vectors</strong>(name = nil, number_of_loops = 1, _global = false)  &#x21d2; Object </a>
    

    
      (also: #loop_vector)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a loop to the pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match-instance_method" title="#match (instance method)">#<strong>match</strong>(pin, state, timeout_in_cycles, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a match loop on up to two pins.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match_block-instance_method" title="#match_block (instance method)">#<strong>match_block</strong>(timeout_in_cycles, options = {}, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#multiport_name-instance_method" title="#multiport_name (instance method)">#<strong>multiport_name</strong>(patt_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>return the multiport burst name provide the name you want to obtain
multiport for.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#overlay_style_warn-instance_method" title="#overlay_style_warn (instance method)">#<strong>overlay_style_warn</strong>(overlay_str, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Warn user of unsupported overlay style.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pattern_footer-instance_method" title="#pattern_footer (instance method)">#<strong>pattern_footer</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An internal method called by Origen to generate the pattern footer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pattern_header-instance_method" title="#pattern_header (instance method)">#<strong>pattern_header</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An internal method called by Origen to create the pattern header.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#propagation_delay-instance_method" title="#propagation_delay (instance method)">#<strong>propagation_delay</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the number of cycles to wait for any fails to propagate through the
pipeline based on the current timeset.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#repeat_previous-instance_method" title="#repeat_previous (instance method)">#<strong>repeat_previous</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>All vectors generated with the supplied block will have all pins set to the
repeat previous state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_subroutine-instance_method" title="#start_subroutine (instance method)">#<strong>start_subroutine</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Start a subroutine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store-instance_method" title="#store (instance method)">#<strong>store</strong>(*pins)  &#x21d2; Object </a>
    

    
      (also: #capture)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Capture the pin data from a vector to the tester.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store_next_cycle-instance_method" title="#store_next_cycle (instance method)">#<strong>store_next_cycle</strong>(*pins)  &#x21d2; Object </a>
    

    
      (also: #store!)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as the store method, except that the capture will be applied to the
next vector to be generated.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subroutine_overlay-instance_method" title="#subroutine_overlay (instance method)">#<strong>subroutine_overlay</strong>(sub_name, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Implement subroutine overlay, called by tester.cycle.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../VectorBasedTester.html" title="OrigenTesters::VectorBasedTester (module)">VectorBasedTester</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../VectorBasedTester.html#register_tester-instance_method" title="OrigenTesters::VectorBasedTester#register_tester (method)">#register_tester</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../API.html" title="OrigenTesters::API (module)">API</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../API.html#annotate-instance_method" title="OrigenTesters::API#annotate (method)">#annotate</a></span>, <span class='object_link'><a href="../API.html#any_clocks_running%3F-instance_method" title="OrigenTesters::API#any_clocks_running? (method)">#any_clocks_running?</a></span>, <span class='object_link'><a href="../API.html#c1-instance_method" title="OrigenTesters::API#c1 (method)">#c1</a></span>, <span class='object_link'><a href="../API.html#c2-instance_method" title="OrigenTesters::API#c2 (method)">#c2</a></span>, <span class='object_link'><a href="../API.html#capture_memory-instance_method" title="OrigenTesters::API#capture_memory (method)">#capture_memory</a></span>, <span class='object_link'><a href="../API.html#capture_memory_config-instance_method" title="OrigenTesters::API#capture_memory_config (method)">#capture_memory_config</a></span>, <span class='object_link'><a href="../API.html#clocks_running-instance_method" title="OrigenTesters::API#clocks_running (method)">#clocks_running</a></span>, <span class='object_link'><a href="../API.html#comment_char-instance_method" title="OrigenTesters::API#comment_char (method)">#comment_char</a></span>, <span class='object_link'><a href="../API.html#d10%3F-instance_method" title="OrigenTesters::API#d10? (method)">#d10?</a></span>, <span class='object_link'><a href="../API.html#diff_friendly_output=-instance_method" title="OrigenTesters::API#diff_friendly_output= (method)">#diff_friendly_output=</a></span>, <span class='object_link'><a href="../API.html#diff_friendly_output%3F-instance_method" title="OrigenTesters::API#diff_friendly_output? (method)">#diff_friendly_output?</a></span>, <span class='object_link'><a href="../API.html#doc%3F-instance_method" title="OrigenTesters::API#doc? (method)">#doc?</a></span>, <span class='object_link'><a href="../API.html#generate%3F-instance_method" title="OrigenTesters::API#generate? (method)">#generate?</a></span>, <span class='object_link'><a href="../API.html#generating_pattern%3F-instance_method" title="OrigenTesters::API#generating_pattern? (method)">#generating_pattern?</a></span>, <span class='object_link'><a href="../API.html#generating_program%3F-instance_method" title="OrigenTesters::API#generating_program? (method)">#generating_program?</a></span>, <span class='object_link'><a href="../API.html#ignore_fails-instance_method" title="OrigenTesters::API#ignore_fails (method)">#ignore_fails</a></span>, <span class='object_link'><a href="../API.html#igxl%3F-instance_method" title="OrigenTesters::API#igxl? (method)">#igxl?</a></span>, <span class='object_link'><a href="../API.html#import_test_time-instance_method" title="OrigenTesters::API#import_test_time (method)">#import_test_time</a></span>, <span class='object_link'><a href="../API.html#inhibit_vectors_and_comments-instance_method" title="OrigenTesters::API#inhibit_vectors_and_comments (method)">#inhibit_vectors_and_comments</a></span>, <span class='object_link'><a href="../API.html#is_command_based%3F-instance_method" title="OrigenTesters::API#is_command_based? (method)">#is_command_based?</a></span>, <span class='object_link'><a href="../API.html#is_vector_based%3F-instance_method" title="OrigenTesters::API#is_vector_based? (method)">#is_vector_based?</a></span>, <span class='object_link'><a href="../API.html#j750%3F-instance_method" title="OrigenTesters::API#j750? (method)">#j750?</a></span>, <span class='object_link'><a href="../API.html#j750_hpt%3F-instance_method" title="OrigenTesters::API#j750_hpt? (method)">#j750_hpt?</a></span>, <span class='object_link'><a href="../API.html#link%3F-instance_method" title="OrigenTesters::API#link? (method)">#link?</a></span>, <span class='object_link'><a href="../API.html#name-instance_method" title="OrigenTesters::API#name (method)">#name</a></span>, <span class='object_link'><a href="../API.html#pat_extension-instance_method" title="OrigenTesters::API#pat_extension (method)">#pat_extension</a></span>, <span class='object_link'><a href="../API.html#pattern_section-instance_method" title="OrigenTesters::API#pattern_section (method)">#pattern_section</a></span>, <span class='object_link'><a href="../API.html#pins_need_toggling-instance_method" title="OrigenTesters::API#pins_need_toggling (method)">#pins_need_toggling</a></span>, <span class='object_link'><a href="../API.html#pop_running_clock-instance_method" title="OrigenTesters::API#pop_running_clock (method)">#pop_running_clock</a></span>, <span class='object_link'><a href="../API.html#program_comment_char-instance_method" title="OrigenTesters::API#program_comment_char (method)">#program_comment_char</a></span>, <span class='object_link'><a href="../API.html#push_running_clock-instance_method" title="OrigenTesters::API#push_running_clock (method)">#push_running_clock</a></span>, <span class='object_link'><a href="../API.html#pxie6570%3F-instance_method" title="OrigenTesters::API#pxie6570? (method)">#pxie6570?</a></span>, <span class='object_link'><a href="../API.html#slice_repeats-instance_method" title="OrigenTesters::API#slice_repeats (method)">#slice_repeats</a></span>, <span class='object_link'><a href="../API.html#smt7%3F-instance_method" title="OrigenTesters::API#smt7? (method)">#smt7?</a></span>, <span class='object_link'><a href="../API.html#smt8%3F-instance_method" title="OrigenTesters::API#smt8? (method)">#smt8?</a></span>, <span class='object_link'><a href="../API.html#snip-instance_method" title="OrigenTesters::API#snip (method)">#snip</a></span>, <span class='object_link'><a href="../API.html#source_memory-instance_method" title="OrigenTesters::API#source_memory (method)">#source_memory</a></span>, <span class='object_link'><a href="../API.html#source_memory_config-instance_method" title="OrigenTesters::API#source_memory_config (method)">#source_memory_config</a></span>, <span class='object_link'><a href="../API.html#ss-instance_method" title="OrigenTesters::API#ss (method)">#ss</a></span>, <span class='object_link'><a href="../API.html#step_comment_prefix-instance_method" title="OrigenTesters::API#step_comment_prefix (method)">#step_comment_prefix</a></span>, <span class='object_link'><a href="../API.html#stil%3F-instance_method" title="OrigenTesters::API#stil? (method)">#stil?</a></span>, <span class='object_link'><a href="../API.html#transaction-instance_method" title="OrigenTesters::API#transaction (method)">#transaction</a></span>, <span class='object_link'><a href="../API.html#ultraflex%3F-instance_method" title="OrigenTesters::API#ultraflex? (method)">#ultraflex?</a></span>, <span class='object_link'><a href="../API.html#update_running_clocks-instance_method" title="OrigenTesters::API#update_running_clocks (method)">#update_running_clocks</a></span>, <span class='object_link'><a href="../API.html#v93k%3F-instance_method" title="OrigenTesters::API#v93k? (method)">#v93k?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Timing.html" title="OrigenTesters::Timing (module)">Timing</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Timing.html#_set_timeset_-class_method" title="OrigenTesters::Timing._set_timeset_ (method)">_set_timeset_</a></span>, <span class='object_link'><a href="../Timing.html#called_timesets-class_method" title="OrigenTesters::Timing.called_timesets (method)">called_timesets</a></span>, <span class='object_link'><a href="../Timing.html#called_timesets_by_name-class_method" title="OrigenTesters::Timing.called_timesets_by_name (method)">called_timesets_by_name</a></span>, <span class='object_link'><a href="../Timing.html#current_period_in_ns-class_method" title="OrigenTesters::Timing.current_period_in_ns (method)">current_period_in_ns</a></span>, <span class='object_link'><a href="../Timing.html#current_timeset-class_method" title="OrigenTesters::Timing.current_timeset (method)">current_timeset</a></span>, <span class='object_link'><a href="../Timing.html#lookup_or_register_timeset-class_method" title="OrigenTesters::Timing.lookup_or_register_timeset (method)">lookup_or_register_timeset</a></span>, <span class='object_link'><a href="../Timing.html#min_period_timeset-class_method" title="OrigenTesters::Timing.min_period_timeset (method)">min_period_timeset</a></span>, <span class='object_link'><a href="../Timing.html#period_in_ns-class_method" title="OrigenTesters::Timing.period_in_ns (method)">period_in_ns</a></span>, <span class='object_link'><a href="../Timing.html#period_in_secs-class_method" title="OrigenTesters::Timing.period_in_secs (method)">period_in_secs</a></span>, <span class='object_link'><a href="../Timing.html#reset!-class_method" title="OrigenTesters::Timing.reset! (method)">reset!</a></span>, <span class='object_link'><a href="../Timing.html#set_timeset-class_method" title="OrigenTesters::Timing.set_timeset (method)">set_timeset</a></span>, <span class='object_link'><a href="../Timing.html#timeset-class_method" title="OrigenTesters::Timing.timeset (method)">timeset</a></span>, <span class='object_link'><a href="../Timing.html#timeset%3F-class_method" title="OrigenTesters::Timing.timeset? (method)">timeset?</a></span>, <span class='object_link'><a href="../Timing.html#timeset_changed-class_method" title="OrigenTesters::Timing.timeset_changed (method)">timeset_changed</a></span>, <span class='object_link'><a href="../Timing.html#timesets-class_method" title="OrigenTesters::Timing.timesets (method)">timesets</a></span>, <span class='object_link'><a href="../Timing.html#timesets!-class_method" title="OrigenTesters::Timing.timesets! (method)">timesets!</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Timing/TimingAPI.html" title="OrigenTesters::Timing::TimingAPI (module)">Timing::TimingAPI</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Timing/TimingAPI.html#called_timesets-instance_method" title="OrigenTesters::Timing::TimingAPI#called_timesets (method)">#called_timesets</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#called_timesets_by_name-instance_method" title="OrigenTesters::Timing::TimingAPI#called_timesets_by_name (method)">#called_timesets_by_name</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#count-instance_method" title="OrigenTesters::Timing::TimingAPI#count (method)">#count</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#current_period_in_ns-instance_method" title="OrigenTesters::Timing::TimingAPI#current_period_in_ns (method)">#current_period_in_ns</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#current_timeset-instance_method" title="OrigenTesters::Timing::TimingAPI#current_timeset (method)">#current_timeset</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#cycles_to_time-instance_method" title="OrigenTesters::Timing::TimingAPI#cycles_to_time (method)">#cycles_to_time</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#delay-instance_method" title="OrigenTesters::Timing::TimingAPI#delay (method)">#delay</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#max_repeat_loop-instance_method" title="OrigenTesters::Timing::TimingAPI#max_repeat_loop (method)">#max_repeat_loop</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#min_period_timeset-instance_method" title="OrigenTesters::Timing::TimingAPI#min_period_timeset (method)">#min_period_timeset</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#period_in_ns-instance_method" title="OrigenTesters::Timing::TimingAPI#period_in_ns (method)">#period_in_ns</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#period_in_secs-instance_method" title="OrigenTesters::Timing::TimingAPI#period_in_secs (method)">#period_in_secs</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#set_timeset-instance_method" title="OrigenTesters::Timing::TimingAPI#set_timeset (method)">#set_timeset</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#timeset%3F-instance_method" title="OrigenTesters::Timing::TimingAPI#timeset? (method)">#timeset?</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#timesets-instance_method" title="OrigenTesters::Timing::TimingAPI#timesets (method)">#timesets</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#timing_toggled_pins-instance_method" title="OrigenTesters::Timing::TimingAPI#timing_toggled_pins (method)">#timing_toggled_pins</a></span>, <span class='object_link'><a href="../Timing/TimingAPI.html#wait-instance_method" title="OrigenTesters::Timing::TimingAPI#wait (method)">#wait</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../VectorGenerator.html" title="OrigenTesters::VectorGenerator (module)">VectorGenerator</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../VectorGenerator.html#_render-instance_method" title="OrigenTesters::VectorGenerator#_render (method)">#_render</a></span>, <span class='object_link'><a href="../VectorGenerator.html#add_microcode_to_last_or_cycle-instance_method" title="OrigenTesters::VectorGenerator#add_microcode_to_last_or_cycle (method)">#add_microcode_to_last_or_cycle</a></span>, <span class='object_link'><a href="../VectorGenerator.html#align-instance_method" title="OrigenTesters::VectorGenerator#align (method)">#align</a></span>, <span class='object_link'><a href="../VectorGenerator.html#align_to_last-instance_method" title="OrigenTesters::VectorGenerator#align_to_last (method)">#align_to_last</a></span>, <span class='object_link'><a href="../VectorGenerator.html#before_write_pattern_line-instance_method" title="OrigenTesters::VectorGenerator#before_write_pattern_line (method)">#before_write_pattern_line</a></span>, <span class='object_link'><a href="../VectorGenerator.html#current_pin_vals-instance_method" title="OrigenTesters::VectorGenerator#current_pin_vals (method)">#current_pin_vals</a></span>, <span class='object_link'><a href="../VectorGenerator.html#cycle_count-instance_method" title="OrigenTesters::VectorGenerator#cycle_count (method)">#cycle_count</a></span>, <span class='object_link'><a href="../VectorGenerator.html#dec_vec_count-instance_method" title="OrigenTesters::VectorGenerator#dec_vec_count (method)">#dec_vec_count</a></span>, <span class='object_link'><a href="../VectorGenerator.html#dont_compress-instance_method" title="OrigenTesters::VectorGenerator#dont_compress (method)">#dont_compress</a></span>, <span class='object_link'><a href="../VectorGenerator.html#dont_compress=-instance_method" title="OrigenTesters::VectorGenerator#dont_compress= (method)">#dont_compress=</a></span>, <span class='object_link'><a href="../VectorGenerator.html#execution_time_in_ns-instance_method" title="OrigenTesters::VectorGenerator#execution_time_in_ns (method)">#execution_time_in_ns</a></span>, <span class='object_link'><a href="../VectorGenerator.html#expand_vector-instance_method" title="OrigenTesters::VectorGenerator#expand_vector (method)">#expand_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#format-instance_method" title="OrigenTesters::VectorGenerator#format (method)">#format</a></span>, <span class='object_link'><a href="../VectorGenerator.html#format_pin_state-instance_method" title="OrigenTesters::VectorGenerator#format_pin_state (method)">#format_pin_state</a></span>, <span class='object_link'><a href="../VectorGenerator.html#format_vector-instance_method" title="OrigenTesters::VectorGenerator#format_vector (method)">#format_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#get_pingroup-instance_method" title="OrigenTesters::VectorGenerator#get_pingroup (method)">#get_pingroup</a></span>, <span class='object_link'><a href="../VectorGenerator.html#inc_cycle_count-instance_method" title="OrigenTesters::VectorGenerator#inc_cycle_count (method)">#inc_cycle_count</a></span>, <span class='object_link'><a href="../VectorGenerator.html#inc_vec_count-instance_method" title="OrigenTesters::VectorGenerator#inc_vec_count (method)">#inc_vec_count</a></span>, <span class='object_link'><a href="../VectorGenerator.html#inhibit_pin-instance_method" title="OrigenTesters::VectorGenerator#inhibit_pin (method)">#inhibit_pin</a></span>, <span class='object_link'><a href="../VectorGenerator.html#inhibited_pins-instance_method" title="OrigenTesters::VectorGenerator#inhibited_pins (method)">#inhibited_pins</a></span>, <span class='object_link'><a href="../VectorGenerator.html#last_object-instance_method" title="OrigenTesters::VectorGenerator#last_object (method)">#last_object</a></span>, <span class='object_link'><a href="../VectorGenerator.html#last_vector-instance_method" title="OrigenTesters::VectorGenerator#last_vector (method)">#last_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#microcode-instance_method" title="OrigenTesters::VectorGenerator#microcode (method)">#microcode</a></span>, <span class='object_link'><a href="../VectorGenerator.html#ordered_pins-instance_method" title="OrigenTesters::VectorGenerator#ordered_pins (method)">#ordered_pins</a></span>, <span class='object_link'><a href="../VectorGenerator.html#ordered_pins_cache-instance_method" title="OrigenTesters::VectorGenerator#ordered_pins_cache (method)">#ordered_pins_cache</a></span>, <span class='object_link'><a href="../VectorGenerator.html#ordered_pins_name-instance_method" title="OrigenTesters::VectorGenerator#ordered_pins_name (method)">#ordered_pins_name</a></span>, <span class='object_link'><a href="../VectorGenerator.html#pingroup_map-instance_method" title="OrigenTesters::VectorGenerator#pingroup_map (method)">#pingroup_map</a></span>, <span class='object_link'><a href="../VectorGenerator.html#pipeline-instance_method" title="OrigenTesters::VectorGenerator#pipeline (method)">#pipeline</a></span>, <span class='object_link'><a href="../VectorGenerator.html#preset_next_vector-instance_method" title="OrigenTesters::VectorGenerator#preset_next_vector (method)">#preset_next_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#push_comment-instance_method" title="OrigenTesters::VectorGenerator#push_comment (method)">#push_comment</a></span>, <span class='object_link'><a href="../VectorGenerator.html#push_vector-instance_method" title="OrigenTesters::VectorGenerator#push_vector (method)">#push_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#regex_for_pin-instance_method" title="OrigenTesters::VectorGenerator#regex_for_pin (method)">#regex_for_pin</a></span>, <span class='object_link'><a href="../VectorGenerator.html#regex_for_pin_sub-instance_method" title="OrigenTesters::VectorGenerator#regex_for_pin_sub (method)">#regex_for_pin_sub</a></span>, <span class='object_link'><a href="../VectorGenerator.html#remove_store_from_vector-instance_method" title="OrigenTesters::VectorGenerator#remove_store_from_vector (method)">#remove_store_from_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#render-instance_method" title="OrigenTesters::VectorGenerator#render (method)">#render</a></span>, <span class='object_link'><a href="../VectorGenerator.html#render_body-instance_method" title="OrigenTesters::VectorGenerator#render_body (method)">#render_body</a></span>, <span class='object_link'><a href="../VectorGenerator.html#render_footer-instance_method" title="OrigenTesters::VectorGenerator#render_footer (method)">#render_footer</a></span>, <span class='object_link'><a href="../VectorGenerator.html#render_header-instance_method" title="OrigenTesters::VectorGenerator#render_header (method)">#render_header</a></span>, <span class='object_link'><a href="../VectorGenerator.html#render_template-instance_method" title="OrigenTesters::VectorGenerator#render_template (method)">#render_template</a></span>, <span class='object_link'><a href="../VectorGenerator.html#reset_cycle_count-instance_method" title="OrigenTesters::VectorGenerator#reset_cycle_count (method)">#reset_cycle_count</a></span>, <span class='object_link'><a href="../VectorGenerator.html#stage-instance_method" title="OrigenTesters::VectorGenerator#stage (method)">#stage</a></span>, <span class='object_link'><a href="../VectorGenerator.html#track_and_format_comment-instance_method" title="OrigenTesters::VectorGenerator#track_and_format_comment (method)">#track_and_format_comment</a></span>, <span class='object_link'><a href="../VectorGenerator.html#track_and_format_vector-instance_method" title="OrigenTesters::VectorGenerator#track_and_format_vector (method)">#track_and_format_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#update_pin_from_formatted_state-instance_method" title="OrigenTesters::VectorGenerator#update_pin_from_formatted_state (method)">#update_pin_from_formatted_state</a></span>, <span class='object_link'><a href="../VectorGenerator.html#update_vector-instance_method" title="OrigenTesters::VectorGenerator#update_vector (method)">#update_vector</a></span>, <span class='object_link'><a href="../VectorGenerator.html#update_vector_pin_val-instance_method" title="OrigenTesters::VectorGenerator#update_vector_pin_val (method)">#update_vector_pin_val</a></span>, <span class='object_link'><a href="../VectorGenerator.html#vec_count-instance_method" title="OrigenTesters::VectorGenerator#vec_count (method)">#vec_count</a></span>, <span class='object_link'><a href="../VectorGenerator.html#vector_group_size-instance_method" title="OrigenTesters::VectorGenerator#vector_group_size (method)">#vector_group_size</a></span>, <span class='object_link'><a href="../VectorGenerator.html#vector_group_size=-instance_method" title="OrigenTesters::VectorGenerator#vector_group_size= (method)">#vector_group_size=</a></span>, <span class='object_link'><a href="../VectorGenerator.html#with_vector_group_size-instance_method" title="OrigenTesters::VectorGenerator#with_vector_group_size (method)">#with_vector_group_size</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(options = {})  &#x21d2; <tt><span class='object_link'><a href="" title="OrigenTesters::SmartestBasedTester::Base (class)">Base</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Base.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='comment'># whether to use multiport bursts or not, if so this indicates the name of the port to use
</span>    <span class='label'>multiport:</span>         <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>multiport_prefix:</span>  <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>multiport_postfix:</span> <span class='kw'>false</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='ivar'>@smt_version</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:smt_version</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>7</span>

  <span class='ivar'>@separate_bins_file</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:separate_bins_file</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:zip_patterns</span><span class='rparen'>)</span>
    <span class='ivar'>@zip_patterns</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:zip_patterns</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@zip_patterns</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_smt8?'>smt8?</span>
    <span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>smt8</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_extend'>extend</span> <span class='const'><span class='object_link'><a href="SMT8.html" title="OrigenTesters::SmartestBasedTester::SMT8 (module)">SMT8</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>smt7</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_extend'>extend</span> <span class='const'><span class='object_link'><a href="SMT7.html" title="OrigenTesters::SmartestBasedTester::SMT7 (module)">SMT7</a></span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@max_repeat_loop</span> <span class='op'>=</span> <span class='int'>65_535</span>
  <span class='ivar'>@min_repeat_loop</span> <span class='op'>=</span> <span class='int'>33</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_smt8?'>smt8?</span>
    <span class='ivar'>@pat_extension</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pat</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='ivar'>@pat_extension</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>avc</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='ivar'>@compress</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='comment'># @support_repeat_previous = true
</span>  <span class='ivar'>@match_entries</span> <span class='op'>=</span> <span class='int'>10</span>
  <span class='ivar'>@name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>v93k</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@comment_char</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@level_period</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@inline_comments</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@multiport</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:multiport</span><span class='rbracket'>]</span>
  <span class='ivar'>@multiport_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:multiport_prefix</span><span class='rbracket'>]</span>
  <span class='ivar'>@multiport_postfix</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:multiport_postfix</span><span class='rbracket'>]</span>
  <span class='ivar'>@overlay_style</span> <span class='op'>=</span> <span class='symbol'>:subroutine</span>	<span class='comment'># default to use subroutine for overlay
</span>  <span class='ivar'>@capture_style</span> <span class='op'>=</span> <span class='symbol'>:hram</span>			<span class='comment'># default to use hram for capture
</span>  <span class='ivar'>@overlay_subr</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:add_flow_enable</span><span class='rbracket'>]</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_add_flow_enable'>add_flow_enable</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:add_flow_enable</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:unique_test_names</span><span class='rparen'>)</span>
    <span class='ivar'>@unique_test_names</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:unique_test_names</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_smt8?'>smt8?</span>
      <span class='ivar'>@unique_test_names</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>else</span>
      <span class='ivar'>@unique_test_names</span> <span class='op'>=</span> <span class='symbol'>:signature</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_smt8?'>smt8?</span>
    <span class='ivar'>@create_limits_file</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:create_limits_file</span><span class='rparen'>)</span>
      <span class='ivar'>@create_limits_file</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:create_limits_file</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='ivar'>@create_limits_file</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@package_namespace</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:package_namespace</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_limitfile_test_modes'>limitfile_test_modes</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:limitfile_test_modes</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:limitsfile_test_modes</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_force_pass_on_continue'>force_pass_on_continue</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:force_pass_on_continue</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_delayed_binning'>delayed_binning</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:delayed_binning</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="add_flow_enable=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="add_flow_enable-instance_method">
  
    #<strong>add_flow_enable</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether the tester has been configured to wrap top-level flow
modules with an enable or not.</p>

<p>Returns nil if not.</p>

<p>Returns :enabled if the enable is configured to be on by default, or
:disabled if it is configured to be off by default.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_flow_enable'>add_flow_enable</span>
  <span class='ivar'>@add_flow_enable</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="create_limits_file=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="create_limits_file-instance_method">
  
    #<strong>create_limits_file</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>When set to true, all test flows will be generated with a corresponding
testtable limits file, rather than having the limits attached inline to the
test suites</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_limits_file'>create_limits_file</span>
  <span class='ivar'>@create_limits_file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="delayed_binning=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="delayed_binning-instance_method">
  
    #<strong>delayed_binning</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>When set to true, tests will be set to delayed binning by default (overon =
on) unless delayed: false is supplied when defining the test</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delayed_binning'>delayed_binning</span>
  <span class='ivar'>@delayed_binning</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="force_pass_on_continue=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="force_pass_on_continue-instance_method">
  
    #<strong>force_pass_on_continue</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>When set to true, tests which are marked with continue: true will be forced
to pass in generated test program flows. Flow branching based on the test
result will be handled via some other means to give the same flow if the
test &#39;fails&#39;, however the test will always appear as if it passed
for data logging purposes.</p>

<p>Testers which do not implement this option will ignore it.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_force_pass_on_continue'>force_pass_on_continue</span>
  <span class='ivar'>@force_pass_on_continue</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="inline_comments=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="inline_comments-instance_method">
  
    #<strong>inline_comments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Disable inline (end of vector) comments, enabled by default</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inline_comments'>inline_comments</span>
  <span class='ivar'>@inline_comments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="limitfile_test_modes=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="limitfile_test_modes-instance_method">
  
    #<strong>limitfile_test_modes</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of strings that indicate which test modes will be included
in limits files, by default returns an empty array. If no test modes have
been specified then the limits file will simply be generated with no test
modes.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_limitfile_test_modes'>limitfile_test_modes</span>
  <span class='ivar'>@limitfile_test_modes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="min_repeat_loop=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="min_repeat_loop-instance_method">
  
    #<strong>min_repeat_loop</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='min_repeat_count-instance_method'>min_repeat_count</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>permit modification of minimum repeat count</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_min_repeat_loop'>min_repeat_loop</span>
  <span class='ivar'>@min_repeat_loop</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="multiport=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="multiport-instance_method">
  
    #<strong>multiport</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='multi_port-instance_method'>multi_port</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>permit option to generate multiport type patterns and use multiport type
code</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 32</span>

<span class='kw'>def</span> <span class='id identifier rubyid_multiport'>multiport</span>
  <span class='ivar'>@multiport</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="multiport_postfix=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="multiport_postfix-instance_method">
  
    #<strong>multiport_postfix</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>multiport burst name postfix</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_multiport_postfix'>multiport_postfix</span>
  <span class='ivar'>@multiport_postfix</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="multiport_prefix=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="multiport_prefix-instance_method">
  
    #<strong>multiport_prefix</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>multiport burst name prefix</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_multiport_prefix'>multiport_prefix</span>
  <span class='ivar'>@multiport_prefix</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="package_namespace=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="package_namespace-instance_method">
  
    #<strong>package_namespace</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the package namespace that all generated test collateral should be
placed under, defaults to the application&#39;s namespace if not defined</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_namespace'>package_namespace</span>
  <span class='ivar'>@package_namespace</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="separate_bins_file=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="separate_bins_file-instance_method">
  
    #<strong>separate_bins_file</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>When set to true, the bins and softbins sheets from the limits spreadsheet
will be written out to a standalone (spreadsheet) file instead (SMT8 only)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_separate_bins_file'>separate_bins_file</span>
  <span class='ivar'>@separate_bins_file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="smt_version-instance_method">
  
    #<strong>smt_version</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the SMT version, defaults to 7</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 23</span>

<span class='kw'>def</span> <span class='id identifier rubyid_smt_version'>smt_version</span>
  <span class='ivar'>@smt_version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="unique_test_names-instance_method">
  
    #<strong>unique_test_names</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value defined at target-level on if/how to make test names
unique within a flow, the default value is :signature</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unique_test_names'>unique_test_names</span>
  <span class='ivar'>@unique_test_names</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="zip_patterns=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="zip_patterns-instance_method">
  
    #<strong>zip_patterns</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>When set to true (the default), patterns will be generated in ZIP format
instead of ASCII format (SMT8 only)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zip_patterns'>zip_patterns</span>
  <span class='ivar'>@zip_patterns</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="before_timeset_change-instance_method">
  
    #<strong>before_timeset_change</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


720
721
722</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 720</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_timeset_change'>before_timeset_change</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SQPG CTIM </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:new</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_level_period?'>level_period?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_subroutine-instance_method">
  
    #<strong>call_subroutine</strong>(name, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Call a subroutine.</p>

<p>This calls a subroutine immediately following previous vector, it does not
generate a new vector.</p>

<p>Subroutines should always be called through this method as it ensures a
running log of called subroutines is maintained and which then gets output
in the pattern header to import the right dependencies.</p>

<p>An offset option is available to make the call on earlier vectors.</p>

<p>Repeated calls to the same subroutine will automatically be compressed
unless option :suppress_repeated_calls is supplied and set to false. This
means that for the common use case of calling a subroutine to implement an
overlay the subroutine can be called for every bit that has the overlay and
the pattern will automatically generate correctly.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_call_subroutine'>call_subroutine</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mysub</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_call_subroutine'>call_subroutine</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_other_sub</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:offset</span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


395
396
397
398
399
400
401
402
403
404
405
406
407</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 395</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call_subroutine'>call_subroutine</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>offset:</span>                  <span class='int'>0</span><span class='comma'>,</span>
    <span class='label'>suppress_repeated_calls:</span> <span class='kw'>true</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_called_subroutines'>called_subroutines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='kw'>unless</span> <span class='id identifier rubyid_called_subroutines'>called_subroutines</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@inhibit_vectors</span>

  <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SQPG JSUB </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:suppress_repeated_calls</span><span class='rbracket'>]</span> <span class='op'>||</span>
     <span class='id identifier rubyid_last_object'>last_object</span> <span class='op'>!=</span> <span class='id identifier rubyid_code'>code</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='id identifier rubyid_code'>code</span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="called_subroutines-instance_method">
  
    #<strong>called_subroutines</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of subroutines called while generating the current pattern</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


693
694
695</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 693</span>

<span class='kw'>def</span> <span class='id identifier rubyid_called_subroutines'>called_subroutines</span>
  <span class='ivar'>@called_subroutines</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cycle-instance_method">
  
    #<strong>cycle</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># handle overlay if requested
</span>  <span class='id identifier rubyid_ovly_style'>ovly_style</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:overlay</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ovly_style'>ovly_style</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:overlay</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:overlay_style</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='ivar'>@overlay_style</span> <span class='op'>:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:overlay</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:overlay_style</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_overlay_str'>overlay_str</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:overlay</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:overlay_str</span><span class='rbracket'>]</span>

    <span class='comment'># route the overlay request to the appropriate method
</span>    <span class='kw'>case</span> <span class='id identifier rubyid_ovly_style'>ovly_style</span>
      <span class='kw'>when</span> <span class='symbol'>:subroutine</span><span class='comma'>,</span> <span class='symbol'>:default</span>
        <span class='id identifier rubyid_subroutine_overlay'>subroutine_overlay</span><span class='lparen'>(</span><span class='id identifier rubyid_overlay_str'>overlay_str</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_ovly_style'>ovly_style</span> <span class='op'>=</span> <span class='symbol'>:subroutine</span>
      <span class='kw'>when</span> <span class='symbol'>:handshake</span>
        <span class='kw'>if</span> <span class='ivar'>@delayed_handshake</span>
          <span class='kw'>if</span> <span class='ivar'>@delayed_handshake</span> <span class='op'>!=</span> <span class='id identifier rubyid_overlay_str'>overlay_str</span>
            <span class='id identifier rubyid_handshake'>handshake</span>
            <span class='ivar'>@delayed_handshake</span> <span class='op'>=</span> <span class='id identifier rubyid_overlay_str'>overlay_str</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='ivar'>@delayed_handshake</span> <span class='op'>=</span> <span class='id identifier rubyid_overlay_str'>overlay_str</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_ovly_style'>ovly_style</span> <span class='op'>=</span> <span class='id identifier rubyid_overlay_style_warn'>overlay_style_warn</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:overlay</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:overlay_str</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>end</span> <span class='comment'># case ovly_style
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_handshake'>handshake</span> <span class='kw'>if</span> <span class='ivar'>@delayed_handshake</span>
    <span class='ivar'>@delayed_handshake</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@overlay_subr</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span> <span class='comment'># of handle overlay
</span>
  <span class='id identifier rubyid_options_overlay'>options_overlay</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:overlay</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:overlay</span><span class='rparen'>)</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_ovly_style'>ovly_style</span> <span class='op'>==</span> <span class='symbol'>:subroutine</span> <span class='op'>||</span> <span class='id identifier rubyid_ovly_style'>ovly_style</span> <span class='op'>==</span> <span class='symbol'>:handshake</span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_options_overlay'>options_overlay</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># stage = :body if ovly_style == :subroutine 		# always set stage back to body in case subr overlay was selected
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disable_pattern_diffs-instance_method">
  
    #<strong>disable_pattern_diffs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disable_pattern_diffs'>disable_pattern_diffs</span>
  <span class='id identifier rubyid_smt8?'>smt8?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_zip_patterns'>zip_patterns</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="end_subroutine-instance_method">
  
    #<strong>end_subroutine</strong>(_cond = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Ends the current subroutine that was started with a previous call to
start_subroutine</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


371
372
373</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 371</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_subroutine'>end_subroutine</span><span class='lparen'>(</span><span class='id identifier rubyid__cond'>_cond</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='op'>::</span><span class='const'>Pattern</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='label'>call_shutdown_callbacks:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>subroutine:</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="freq_count-instance_method">
  
    #<strong>freq_count</strong>(_pin, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Do a frequency measure.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_freq_count'>freq_count</span><span class='lparen'>(</span><span class='gvar'>$top</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:d_out</span><span class='rparen'>)</span><span class='rparen'>)</span>                 <span class='comment'># Freq measure on pin &quot;d_out&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


423
424
425
426
427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 423</span>

<span class='kw'>def</span> <span class='id identifier rubyid_freq_count'>freq_count</span><span class='lparen'>(</span><span class='id identifier rubyid__pin'>_pin</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='op'>::</span><span class='const'>Pattern</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handshake-instance_method">
  
    #<strong>handshake</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handshake with the tester.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_handshake'>handshake</span>                   <span class='comment'># Pass control to the tester for a measurement
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415
416
417</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 413</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handshake'>handshake</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='op'>::</span><span class='const'>Pattern</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="local_subroutines-instance_method">
  
    #<strong>local_subroutines</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of subroutines created by the current pattern</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


698
699
700</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 698</span>

<span class='kw'>def</span> <span class='id identifier rubyid_local_subroutines'>local_subroutines</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@local_subroutines</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="loop_vectors-instance_method">
  
    #<strong>loop_vectors</strong>(name = nil, number_of_loops = 1, _global = false)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='loop_vector-instance_method'>loop_vector</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a loop to the pattern.</p>

<p>Pass in the number of times to execute it, all vectors generated by the
given block will be captured in the loop.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_loop_vectors'>loop_vectors</span> <span class='int'>3</span> <span class='kw'>do</span>   <span class='comment'># Do this 3 times...
</span>    <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
    <span class='id identifier rubyid_some_other_method_to_generate_vectors'>some_other_method_to_generate_vectors</span>
<span class='kw'>end</span>
</code></pre>

<p>For compatibility with the J750 you can supply a name as the first argument
and that will simply be ignored when generated for the V93K tester…</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_loop_vectors'>loop_vectors</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_loop</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>3</span> <span class='kw'>do</span>   <span class='comment'># Do this 3 times...
</span>    <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
    <span class='id identifier rubyid_some_other_method_to_generate_vectors'>some_other_method_to_generate_vectors</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


634
635
636
637
638
639
640
641
642
643
644
645
646</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 634</span>

<span class='kw'>def</span> <span class='id identifier rubyid_loop_vectors'>loop_vectors</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid__global'>_global</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='comment'># The name argument is present to maych J750 API, sort out the
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span><span class='comma'>,</span> <span class='id identifier rubyid_global'>global</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SQPG LBGN </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_number_of_loops'>number_of_loops</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>yield</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SQPG LEND;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match-instance_method">
  
    #<strong>match</strong>(pin, state, timeout_in_cycles, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates a match loop on up to two pins.</p>

<p>This method is not really intended to be called directly, rather you should
call via Tester#wait e.g. $tester.wait(:match =&gt; true).</p>

<p>The timeout should be provided in cycles, however when called via the wait
method the time-based helpers (time_in_us, etc) will be converted to cycles
for you. The following options are available to tailor the match loop
behavior, defaults in parenthesis:</p>
<ul><li>
<p>:pin - The pin object to match on (<strong>required</strong>)</p>
</li><li>
<p>:state - The pin state to match on, :low or :high
(<strong>required</strong>)</p>
</li><li>
<p>:check_for_fails (false) - Flushes the pipeline and checks for fails prior
to the match (to allow binout of fails encountered before the match)</p>
</li><li>
<p>:pin2 (nil) - Optionally supply a second pin to match on</p>
</li><li>
<p>:state2 (nil) - State for the second pin (required if :pin2 is supplied)</p>
</li><li>
<p>:force_fail_on_timeout (true) - Force a vector mis-compare if the match
loop times out</p>
</li></ul>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='symbol'>:match</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:time_in_us</span> <span class='op'>=&gt;</span> <span class='int'>5000</span><span class='comma'>,</span> <span class='symbol'>:pin</span> <span class='op'>=&gt;</span> <span class='gvar'>$top</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:done</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:state</span> <span class='op'>=&gt;</span> <span class='symbol'>:high</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 448</span>

<span class='kw'>def</span> <span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='comma'>,</span> <span class='id identifier rubyid_state'>state</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout_in_cycles'>timeout_in_cycles</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>check_for_fails:</span>       <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>pin2:</span>                  <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>state2:</span>                <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>global_loops:</span>          <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>generate_subroutine:</span>   <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>force_fail_on_timeout:</span> <span class='kw'>true</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='comment'># Ensure the match pins are don&#39;t care by default
</span>  <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>for the </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> pin to go </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_match_block'>match_block</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout_in_cycles'>timeout_in_cycles</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_match_or_conditions'>match_or_conditions</span><span class='comma'>,</span> <span class='id identifier rubyid_fail_conditions'>fail_conditions</span><span class='op'>|</span>
      <span class='id identifier rubyid_match_or_conditions'>match_or_conditions</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
        <span class='id identifier rubyid_cycle'>cycle</span>
        <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>for the </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> pin to go </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>or the </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> pin to go </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:state2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_match_block'>match_block</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout_in_cycles'>timeout_in_cycles</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_match_or_conditions'>match_or_conditions</span><span class='comma'>,</span> <span class='id identifier rubyid_fail_conditions'>fail_conditions</span><span class='op'>|</span>
      <span class='id identifier rubyid_match_or_conditions'>match_or_conditions</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
        <span class='id identifier rubyid_cycle'>cycle</span>
        <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_match_or_conditions'>match_or_conditions</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:state2</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
        <span class='id identifier rubyid_cycle'>cycle</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_fail_conditions'>fail_conditions</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>To get here something has gone wrong, strobe again to force a pattern failure</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:state2</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
        <span class='id identifier rubyid_cycle'>cycle</span>
        <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match_block-instance_method">
  
    #<strong>match_block</strong>(timeout_in_cycles, options = {}, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 497</span>

<span class='kw'>def</span> <span class='id identifier rubyid_match_block'>match_block</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout_in_cycles'>timeout_in_cycles</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ERROR: block not passed to match_block!</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Create BlockArgs objects in order to receive multiple blocks
</span>  <span class='id identifier rubyid_match_conditions'>match_conditions</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='op'>::</span><span class='const'>Utility</span><span class='op'>::</span><span class='const'>BlockArgs</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_fail_conditions'>fail_conditions</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='op'>::</span><span class='const'>Utility</span><span class='op'>::</span><span class='const'>BlockArgs</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_match_conditions'>match_conditions</span><span class='comma'>,</span> <span class='id identifier rubyid_fail_conditions'>fail_conditions</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_match_conditions'>match_conditions</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Generate a conventional match loop when there is only one match condition block
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_match_conditions'>match_conditions</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='symbol'>:@block_args</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='comment'># Need to ensure at least 8 cycles with no compares before entering
</span>    <span class='id identifier rubyid_dut'>dut</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
      <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
      <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span> <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_comparing?'>comparing?</span>
    <span class='kw'>end</span>
    <span class='int'>8</span><span class='period'>.</span><span class='id identifier rubyid_cycles'>cycles</span>
    <span class='id identifier rubyid_dut'>dut</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_restore'>restore</span> <span class='rbrace'>}</span>

    <span class='comment'># Placeholder, real number of loops required to implement the required timeout will be
</span>    <span class='comment'># concatenated onto the end later once the length of the match loop is known
</span>    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SQPG MACT</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_match_microcode'>match_microcode</span> <span class='op'>=</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_current_bank'>current_bank</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>

    <span class='id identifier rubyid_prematch_cycle_count'>prematch_cycle_count</span> <span class='op'>=</span> <span class='id identifier rubyid_cycle_count'>cycle_count</span>
    <span class='id identifier rubyid_match_conditions'>match_conditions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:call</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_match_loop_cycle_count'>match_loop_cycle_count</span> <span class='op'>=</span> <span class='id identifier rubyid_cycle_count'>cycle_count</span> <span class='op'>-</span> <span class='id identifier rubyid_prematch_cycle_count'>prematch_cycle_count</span>

    <span class='comment'># Pad the compare vectors out to a multiple of 8 per the ADV documentation
</span>    <span class='kw'>until</span> <span class='id identifier rubyid_match_loop_cycle_count'>match_loop_cycle_count</span> <span class='op'>%</span> <span class='int'>8</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='id identifier rubyid_cycle'>cycle</span>
      <span class='id identifier rubyid_match_loop_cycle_count'>match_loop_cycle_count</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>end</span>

    <span class='comment'># Use 8 wait vectors by default to keep the overall number of cycles as a multiple of 8
</span>    <span class='id identifier rubyid_mrpt'>mrpt</span> <span class='op'>=</span> <span class='int'>8</span>

    <span class='id identifier rubyid_number_of_loops'>number_of_loops</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_timeout_in_cycles'>timeout_in_cycles</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='id identifier rubyid_match_loop_cycle_count'>match_loop_cycle_count</span> <span class='op'>+</span> <span class='id identifier rubyid_mrpt'>mrpt</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>

    <span class='comment'># There seems to be a limit on the max MACT value, so account for longer times by expanding
</span>    <span class='comment'># the wait loop
</span>    <span class='kw'>while</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span> <span class='op'>&gt;</span> <span class='int'>262_144</span>
      <span class='id identifier rubyid_mrpt'>mrpt</span> <span class='op'>=</span> <span class='id identifier rubyid_mrpt'>mrpt</span> <span class='op'>*</span> <span class='int'>2</span> <span class='comment'># Keep this as a multiple of 8
</span>      <span class='id identifier rubyid_number_of_loops'>number_of_loops</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_timeout_in_cycles'>timeout_in_cycles</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='id identifier rubyid_match_loop_cycle_count'>match_loop_cycle_count</span> <span class='op'>+</span> <span class='id identifier rubyid_mrpt'>mrpt</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_match_microcode'>match_microcode</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_number_of_loops'>number_of_loops</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@inhibit_vectors</span>

    <span class='comment'># Now do the wait loop, mrpt should always be a multiple of 8
</span>    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SQPG MRPT </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mrpt'>mrpt</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># Should be no compares in the wait cycles
</span>    <span class='id identifier rubyid_dut'>dut</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
      <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
      <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span> <span class='kw'>if</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_comparing?'>comparing?</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_mrpt'>mrpt</span><span class='period'>.</span><span class='id identifier rubyid_cycles'>cycles</span>
    <span class='id identifier rubyid_dut'>dut</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_restore'>restore</span> <span class='rbrace'>}</span>

    <span class='comment'># This is just used as a marker by the vector translator to indicate the end of the MRPT
</span>    <span class='comment'># vectors, it does not end up in the final pattern binary.
</span>    <span class='comment'># It is also used in a similar manner by Origen when generating SMT8 patterns.
</span>    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SQPG PADDING;</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># For multiple match conditions do something more like the J750 approach where branching based on
</span>  <span class='comment'># miscompares is used to keep the loop going
</span>  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:check_for_fails</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Return preserving existing errors if the pattern has already failed before arriving here</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>repeat:</span> <span class='id identifier rubyid_propagation_delay'>propagation_delay</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SQPG RETC 1 1;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_loop_microcode'>loop_microcode</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_loop_cycles'>loop_cycles</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_loop_vectors'>loop_vectors</span> <span class='int'>2</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_loop_microcode'>loop_microcode</span> <span class='op'>=</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_current_bank'>current_bank</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
      <span class='id identifier rubyid_preloop_cycle_count'>preloop_cycle_count</span> <span class='op'>=</span> <span class='id identifier rubyid_cycle_count'>cycle_count</span>
      <span class='id identifier rubyid_match_conditions'>match_conditions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_condition'>condition</span><span class='op'>|</span>
        <span class='id identifier rubyid_condition'>condition</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
        <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Wait for failure to propagate</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>repeat:</span> <span class='id identifier rubyid_propagation_delay'>propagation_delay</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Exit match loop if pin has matched (no error), otherwise clear error and remain in loop</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SQPG RETC 0 0;</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_loop_cycles'>loop_cycles</span> <span class='op'>=</span> <span class='id identifier rubyid_cycle_count'>cycle_count</span> <span class='op'>-</span> <span class='id identifier rubyid_preloop_cycle_count'>preloop_cycle_count</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='ivar'>@inhibit_vectors</span>
      <span class='id identifier rubyid_number_of_loops'>number_of_loops</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_timeout_in_cycles'>timeout_in_cycles</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_loop_cycles'>loop_cycles</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>

      <span class='id identifier rubyid_loop_microcode'>loop_microcode</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:force_fail_on_timeout</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_fail_conditions'>fail_conditions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:call</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="multiport_name-instance_method">
  
    #<strong>multiport_name</strong>(patt_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>return the multiport burst name provide the name you want to obtain
multiport for</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170
171
172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_multiport_name'>multiport_name</span><span class='lparen'>(</span><span class='id identifier rubyid_patt_name'>patt_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_patt_name'>patt_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='ivar'>@multiport</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@multiport_prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@multiport_prefix</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@multiport_postfix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@multiport_postfix</span>
    <span class='kw'>unless</span> <span class='ivar'>@multiport_prefix</span> <span class='op'>||</span> <span class='ivar'>@multiport_postfix</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@multiport</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="overlay_style_warn-instance_method">
  
    #<strong>overlay_style_warn</strong>(overlay_str, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Warn user of unsupported overlay style</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238
239
240
241</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 236</span>

<span class='kw'>def</span> <span class='id identifier rubyid_overlay_style_warn'>overlay_style_warn</span><span class='lparen'>(</span><span class='id identifier rubyid_overlay_str'>overlay_str</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognized overlay style :</span><span class='embexpr_beg'>#{</span><span class='ivar'>@overlay_style</span><span class='embexpr_end'>}</span><span class='tstring_content'>, defaulting to subroutine</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Available overlay styles :subroutine</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subroutine_overlay'>subroutine_overlay</span><span class='lparen'>(</span><span class='id identifier rubyid_overlay_str'>overlay_str</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='ivar'>@overlay_style</span> <span class='op'>=</span> <span class='symbol'>:subroutine</span>		<span class='comment'># Just give 1 warning
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pattern_footer-instance_method">
  
    #<strong>pattern_footer</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An internal method called by Origen to generate the pattern footer</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


681
682
683
684
685
686
687
688
689
690</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 681</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pattern_footer'>pattern_footer</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>end_in_ka:</span>      <span class='kw'>false</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:end_in_ka</span><span class='rbracket'>]</span>
    <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_warning'>warning</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>93K keep alive not yet implemented!</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_ss'>ss</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>WARNING: 93K keep alive not yet implemented!</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SQPG STOP;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:subroutine</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pattern_header-instance_method">
  
    #<strong>pattern_header</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An internal method called by Origen to create the pattern header</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 650</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pattern_header'>pattern_header</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pin_list'>pin_list</span> <span class='op'>=</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_order'>pin_pattern_order</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
      <span class='comment'># specified name overrides pin name
</span>      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Origen/Pins.html" title="Origen::Pins (module)">Pins</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Origen/Pins/PinCollection.html" title="Origen::Pins::PinCollection (class)">PinCollection</a></span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>!=</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># groups or aliases can be lower case
</span>      <span class='kw'>else</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='comment'># pins must be uppercase
</span>      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Origen/Pins.html" title="Origen::Pins (module)">Pins</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Origen/Pins/PinCollection.html" title="Origen::Pins::PinCollection (class)">PinCollection</a></span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>!=</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># groups or aliases can be lower case
</span>      <span class='kw'>else</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='comment'># pins must be uppercase
</span>      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FORMAT </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin_list'>pin_list</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_max_pin_name_length'>max_pin_name_length</span> <span class='op'>=</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_pin_widths'>pin_widths</span> <span class='op'>=</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>1</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_max_pin_name_length'>max_pin_name_length</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_cc'>cc</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='int'>50</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_pin_widths'>pin_widths</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="propagation_delay-instance_method">
  
    #<strong>propagation_delay</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the number of cycles to wait for any fails to propagate through the
pipeline based on the current timeset</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


606
607
608
609
610
611
612
613
614</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 606</span>

<span class='kw'>def</span> <span class='id identifier rubyid_propagation_delay'>propagation_delay</span>
  <span class='comment'># From &#39;Calculating the buffer cycles for JMPE and RETC (and match loops)&#39; in SmarTest docs
</span>  <span class='id identifier rubyid_data_queue_buffer'>data_queue_buffer</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>105</span><span class='comma'>,</span> <span class='int'>64</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='int'>125</span> <span class='op'>+</span> <span class='id identifier rubyid_current_period_in_ns'>current_period_in_ns</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_current_period_in_ns'>current_period_in_ns</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span> <span class='op'>+</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>8</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>72</span>
  <span class='comment'># Don&#39;t know how to calculate at runtime, hardcoding these to some default values for now
</span>  <span class='id identifier rubyid_number_of_sites'>number_of_sites</span> <span class='op'>=</span> <span class='int'>128</span>
  <span class='id identifier rubyid_sclk_period'>sclk_period</span> <span class='op'>=</span> <span class='int'>40</span>
  <span class='id identifier rubyid_prop_delay_buffer'>prop_delay_buffer</span> <span class='op'>=</span> <span class='int'>195</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_number_of_sites'>number_of_sites</span> <span class='op'>+</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_sclk_period'>sclk_period</span> <span class='op'>/</span> <span class='int'>2</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_data_queue_buffer'>data_queue_buffer</span> <span class='op'>+</span> <span class='id identifier rubyid_prop_delay_buffer'>prop_delay_buffer</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="repeat_previous-instance_method">
  
    #<strong>repeat_previous</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>All vectors generated with the supplied block will have all pins set to the
repeat previous state. Any pins that are changed state within the block
will still update to the supplied value.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'># All pins except invoke will be assigned the repeat previous code
</span><span class='comment'># in the generated vector. On completion of the block they will
</span><span class='comment'># return to their previous state, except for invoke which will
</span><span class='comment'># retain the value assigned within the block.
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous'>repeat_previous</span> <span class='kw'>do</span>
    <span class='gvar'>$top</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:invoke</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_drive'>drive</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


714
715
716
717
718</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 714</span>

<span class='kw'>def</span> <span class='id identifier rubyid_repeat_previous'>repeat_previous</span>
  <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_map'>pin_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__id'>_id</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous'>repeat_previous</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='rbrace'>}</span>
  <span class='kw'>yield</span>
  <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_map'>pin_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__id'>_id</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous'>repeat_previous</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_subroutine-instance_method">
  
    #<strong>start_subroutine</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Start a subroutine.</p>

<p>Generates a global subroutine label. Global is used to adhere to the best
practice of containing all subroutines in dedicated patterns, e.g.
global_subs.atp</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby">$tester.start_subroutine(&quot;wait_for_done&quot;)
&lt; generate your subroutine vectors here &gt;
$tester.end_subroutine
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


364
365
366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 364</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_subroutine'>start_subroutine</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_local_subroutines'>local_subroutines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='kw'>unless</span> <span class='id identifier rubyid_local_subroutines'>local_subroutines</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@inhibit_vectors</span>
  <span class='comment'># name += &quot;_subr&quot; unless name =~ /sub/
</span>  <span class='op'>::</span><span class='const'>Pattern</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span> <span class='label'>name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>call_startup_callbacks:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>subroutine:</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="store-instance_method">
  
    #<strong>store</strong>(*pins)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='capture-instance_method'>capture</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Capture the pin data from a vector to the tester.</p>

<p>This method uses the Digital Capture feature (Selective mode) of the V93000
to capture the data from the given pins on the previous vector. Note that
is does not actually generate a new vector.</p>

<p>Note also that any drive cycles on the target pins can also be captured, to
avoid this the wavetable should be set up like this to infer a &#39;D&#39;
(Don&#39;t Capture) on vectors where the target pin is being used to drive
data:</p>

<pre class="code ruby"><code class="ruby">PINS nvm_fail
0  d1:0  r1:D  0
1  d1:1  r1:D  1
2  r1:C  Capt
3  r1:D  NoCapt
</code></pre>

<p>Sometimes when generating vectors within a loop you may want to apply a
capture retrospectively to a previous vector, passing in an offset option
will allow you to do this.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>                     <span class='comment'># This is the vector you want to capture
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='symbol'>:pin</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:fail</span><span class='rparen'>)</span>  <span class='comment'># This applys the required opcode to the given pins
</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>                     <span class='comment'># This one gets captured
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='symbol'>:pin</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:fail</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:offset</span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'># Just realized I need to capture that earlier vector
</span>
<span class='comment'># Capturing multiple pins:
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='symbol'>:pins</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:fail</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:done</span><span class='rparen'>)</span><span class='rbracket'>]</span>
</code></pre>

<p>Since the V93K store operates on a pin level (rather than vector level as
on the J750) equivalent functionality can also be achieved by setting the
store attribute of the pin itself prior to calling $tester.cycle. However
it is recommended to use the tester API to do the store if
cross-compatiblity with other platforms, such as the J750, is required.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 310</span>

<span class='kw'>def</span> <span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_pins'>pins</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>offset:</span> <span class='int'>0</span>
            <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pins'>pins</span> <span class='op'>=</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>For the V93K you must supply the pins to store/capture</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_restore_state'>restore_state</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_capture'>capture</span>
      <span class='id identifier rubyid_update_vector_pin_val'>update_vector_pin_val</span> <span class='id identifier rubyid_pin'>pin</span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span>
      <span class='kw'>unless</span> <span class='ivar'>@inhibit_vectors</span>
        <span class='id identifier rubyid_last_vector'>last_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dont_compress'>dont_compress</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_last_vector'>last_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_contains_capture'>contains_capture</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="store_next_cycle-instance_method">
  
    #<strong>store_next_cycle</strong>(*pins)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='store!-instance_method'>store!</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as the store method, except that the capture will be applied to the
next vector to be generated.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_store_next_cycle'>store_next_cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>                <span class='comment'># This is the vector that will be captured</span></code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 337</span>

<span class='kw'>def</span> <span class='id identifier rubyid_store_next_cycle'>store_next_cycle</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_pins'>pins</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pins'>pins</span> <span class='op'>=</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>For the V93K you must supply the pins to store/capture</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span><span class='semicolon'>;</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_capture'>capture</span> <span class='rbrace'>}</span>
  <span class='comment'># Register this clean up function to be run after the next vector
</span>  <span class='comment'># is generated, cool or what!
</span>  <span class='id identifier rubyid_preset_next_vector'>preset_next_vector</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_vector'>vector</span><span class='op'>|</span>
    <span class='id identifier rubyid_vector'>vector</span><span class='period'>.</span><span class='id identifier rubyid_contains_capture'>contains_capture</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:restore</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subroutine_overlay-instance_method">
  
    #<strong>subroutine_overlay</strong>(sub_name, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Implement subroutine overlay, called by tester.cycle</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen_testers/smartest_based_tester/base.rb', line 244</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subroutine_overlay'>subroutine_overlay</span><span class='lparen'>(</span><span class='id identifier rubyid_sub_name'>sub_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@overlay_subr</span> <span class='op'>!=</span> <span class='id identifier rubyid_sub_name'>sub_name</span>
    <span class='comment'># unless last staged vector already has the subr call do the following
</span>    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>-=</span> <span class='int'>1</span> <span class='kw'>until</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_bank'>bank</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../OrigenTesters.html" title="OrigenTesters (module)">OrigenTesters</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Vector.html" title="OrigenTesters::Vector (class)">Vector</a></span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_bank'>bank</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_microcode'>microcode</span> <span class='op'>!~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sub_name'>sub_name</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span>

      <span class='comment'># check for repeat on new last vector, unroll 1 if needed
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_bank'>bank</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>&gt;</span> <span class='int'>1</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../OrigenTesters.html" title="OrigenTesters (module)">OrigenTesters</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Vector.html" title="OrigenTesters::Vector (class)">Vector</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Vector.html#initialize-instance_method" title="OrigenTesters::Vector#initialize (method)">new</a></span></span>
        <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_pin_vals'>pin_vals</span> <span class='op'>=</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_bank'>bank</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pin_vals'>pin_vals</span>
        <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span> <span class='op'>=</span> <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_bank'>bank</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span>
        <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_bank'>bank</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>end</span>

      <span class='comment'># mark last vector as dont_compress
</span>      <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_bank'>bank</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dont_compress'>dont_compress</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='comment'># insert subroutine call
</span>      <span class='id identifier rubyid_call_subroutine'>call_subroutine</span> <span class='id identifier rubyid_sub_name'>sub_name</span>
    <span class='kw'>end</span> <span class='comment'># if microcode not placed
</span>    <span class='ivar'>@overlay_subr</span> <span class='op'>=</span> <span class='id identifier rubyid_sub_name'>sub_name</span>
  <span class='kw'>end</span>

  <span class='comment'># stage = sub_name
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Aug  5 16:00:08 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>
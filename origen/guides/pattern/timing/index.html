<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta property="og:locale" content="en_US">
    <meta name="content-language" content="en_US">

    
    <title>Origen - Guides</title>
    <meta property="og:title" content="Origen - Guides">
    <meta name="twitter:title" content="Origen - Guides">
    <meta itemprop="name" content="Origen - Guides">
      
  
  
    <link rel="author" href="https://plus.google.com/u/1/b/106463981272125989995/106463981272125989">
  
  
    <meta property="og:url" content="https://origen-sdk.org/origen/home/nxa09330/">
    <meta name="twitter:url" content="https://origen-sdk.org/origen/home/nxa09330/">
  
  
    <meta property="og:image" content="https://origen-sdk.org/favicon-260x260.png">
    <meta name="twitter:image" content="https://origen-sdk.org/favicon-260x260.png">
    <meta itemprop="image" content="https://origen-sdk.org/favicon-260x260.png">
    <meta name="twitter:card" content="summary">
  
    <meta property="og:site_name" content="Origen - The Semiconductor Developer's Kit">
  
  
    <meta property="fb:admins" content="origensdk">
  
  
    <meta name="twitter:site" content="@origensdk">
  

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://origen-sdk.org/css/bootstrap_custom.css"></script>
    <!-- Load this up top to allow pages to execute JQuery snippets -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
        ga('create', 'UA-64455560-1', 'auto');
        ga('send', 'pageview');
      </script>
    

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="https://origen-sdk.org/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://origen-sdk.org/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://origen-sdk.org/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://origen-sdk.org/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://origen-sdk.org/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://origen-sdk.org/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://origen-sdk.org/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://origen-sdk.org/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://origen-sdk.org/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="https://origen-sdk.org/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://origen-sdk.org/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="https://origen-sdk.org/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="https://origen-sdk.org/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="https://origen-sdk.org/manifest.json">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body>
    
      <div class="container">
        <nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <a href="/" class="navbar-brand" style="margin-top: -4px;">
        <img src="https://origen-sdk.org/img/origen-device.png" style="height:30px; margin-right: 2px; display: inline; margin-top: -2px;">
        <img src="https://origen-sdk.org/img/origen-text.png" style="height:15px; display: inline;">
      </a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/origen/guides/installation/introduction">Guides</a></li>
        <li class=""><a href="/origen/videos/1-pattern-in-20-minutes">Videos</a></li>
        <li class=""><a href="/origen/publications">Publications</a></li>
        <li class=""><a href="/origen/api">API</a></li>
        <li class=""><a href="https://github.com/Origen-SDK">Github</a></li>
        <li class=""><a href="/origen/community">Community</a></li>
        <li class=""><a href="/origen/release_notes">Release Notes</a></li>
        <li class=""><a href="/origen/plugins">Plugins</a></li>
      </ul>
    </div>
<!--/.nav-collapse -->
  </div>
</nav>

<div class="row">
  <div class="col-md-3 sidebar-nav-container">
    <div class="well sidebar-nav" style="margin-top: 20px;">
        <div id="search">
          <form style="margin-bottom: 15px;">
            <div class="input-group">
              <input class="form-control" type="search" placeholder="Search the guides...">
              <span class="input-group-btn">
                <button type="submit" class="btn btn-search">GO!</button>
              </span>
            </div>
          </form>
        </div>
        <div class="panel-group" id="sidebar-accordion">

          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-0">
              <a class="no-underline">
                Installing Origen
              </a>
            </div>
            <div id="sidebar-collapse-0" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/installation/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/installation/installing">How to Install</a></li>
<li class=""><a href="/origen/guides/installation/installwin">How to Install (Windows)</a></li>
<li class=""><a href="/origen/guides/installation/company">Company Customization</a></li>
<li class=""><a href="/origen/guides/installation/gems">Understanding Gems</a></li>
<li class=""><a href="/origen/guides/installation/invoking">Invoking Considerations</a></li>
<li class=""><a href="/origen/guides/installation/workspace">Workspace Management</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-1">
              <a class="no-underline">
                Getting Started with Origen
              </a>
            </div>
            <div id="sidebar-collapse-1" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/starting/core">Core concepts</a></li>
<li class=""><a href="/origen/guides/starting/app">Creating a New App</a></li>
<li class=""><a href="/origen/guides/starting/directory">Directory Structure</a></li>
<li class=""><a href="/origen/guides/starting/commit">The Initial Commit</a></li>
<li class=""><a href="/origen/guides/starting/files">Creating New Files</a></li>
<li class=""><a href="/origen/guides/starting/blocks">Understanding Blocks</a></li>
<li class=""><a href="/origen/guides/starting/architecture">Application Architecture</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-2">
              <a class="no-underline">
                Runtime Environment
              </a>
            </div>
            <div id="sidebar-collapse-2" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/runtime/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/runtime/mode">Mode</a></li>
<li class=""><a href="/origen/guides/runtime/environment">Environment</a></li>
<li class=""><a href="/origen/guides/runtime/target">Target</a></li>
<li class=""><a href="/origen/guides/runtime/production">Production Targets</a></li>
<li class=""><a href="/origen/guides/runtime/global">Global Setup</a></li>
<li class=""><a href="/origen/guides/runtime/loadorder">Load Order</a></li>
<li class=""><a href="/origen/guides/runtime/programming">Programming</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-3">
              <a class="no-underline">
                Models
              </a>
            </div>
            <div id="sidebar-collapse-3" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/models/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/models/naming">Naming</a></li>
<li class=""><a href="/origen/guides/models/defining">Definition &amp; Hierarchy</a></li>
<li class=""><a href="/origen/guides/models/attributes">Adding Attributes</a></li>
<li class=""><a href="/origen/guides/models/versioning">Versioning</a></li>
<li class=""><a href="/origen/guides/models/bugs">Bugs &amp; Features</a></li>
<li class=""><a href="/origen/guides/models/modes">Package, Mode &amp; Configuration</a></li>
<li class=""><a href="/origen/guides/models/registers">Registers</a></li>
<li class=""><a href="/origen/guides/models/pins">Pins</a></li>
<li class=""><a href="/origen/guides/models/power">Power Domains</a></li>
<li class=""><a href="/origen/guides/models/hw">Hardware Attributes</a></li>
<li class=""><a href="/origen/guides/models/parameters">Parameters</a></li>
<li class=""><a href="/origen/guides/models/specs">Specifications</a></li>
<li class=""><a href="/origen/guides/models/fuses">Fuses</a></li>
<li class=""><a href="/origen/guides/models/components">Generic Components</a></li>
<li class=""><a href="/origen/guides/models/componentable">Creating Your Own Components</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-4">
              <a class="no-underline">
                Compiler (Views)
              </a>
            </div>
            <div id="sidebar-collapse-4" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/compiler/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/compiler/creating">Creating Templates</a></li>
<li class=""><a href="/origen/guides/compiler/subtemplates">Using Sub-Templates</a></li>
<li class=""><a href="/origen/guides/compiler/helpers">Helpers</a></li>
<li class=""><a href="/origen/guides/compiler/running">Running The Compiler</a></li>
<li class=""><a href="/origen/guides/compiler/inline">Inline Compiler</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-5">
              <a class="no-underline">
                Controllers
              </a>
            </div>
            <div id="sidebar-collapse-5" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/controllers/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/controllers/shadow">Shadow Controllers</a></li>
<li class=""><a href="/origen/guides/controllers/direct">Direct Controllers</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-6">
              <a class="no-underline">
                Pattern Generator
              </a>
            </div>
            <div id="sidebar-collapse-6" class="panel-collapse collapse in">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/pattern/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/pattern/creating">Creating Patterns</a></li>
<li class=""><a href="/origen/guides/pattern/pins">Pins</a></li>
<li class="active"><a href="/origen/guides/pattern/timing">Timing and Waiting</a></li>
<li class=""><a href="/origen/guides/pattern/registers">Registers</a></li>
<li class=""><a href="/origen/guides/pattern/documenting">Documenting Patterns</a></li>
<li class=""><a href="/origen/guides/pattern/name">Generating by Name</a></li>
<li class=""><a href="/origen/guides/pattern/common">Common API</a></li>
<li class=""><a href="/origen/guides/pattern/j750">J750 API</a></li>
<li class=""><a href="/origen/guides/pattern/v93k">V93K API</a></li>
<li class=""><a href="/origen/guides/pattern/ultraflex">UltraFlex API</a></li>
<li class=""><a href="/origen/guides/pattern/stil">STIL &amp; Other Formats</a></li>
<li class=""><a href="/origen/guides/pattern/custom">Custom Testers</a></li>
<li class=""><a href="/origen/guides/pattern/running">Running The PatGen</a></li>
<li class=""><a href="/origen/guides/pattern/concurrent">Concurrent Patterns</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-7">
              <a class="no-underline">
                Test Program Generator
              </a>
            </div>
            <div id="sidebar-collapse-7" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/program/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/program/philosophy">Philosophy</a></li>
<li class=""><a href="/origen/guides/program/flows">Creating Flows</a></li>
<li class=""><a href="/origen/guides/program/flowapi">Managing Flow Control</a></li>
<li class=""><a href="/origen/guides/program/interface">Creating an Interface</a></li>
<li class=""><a href="/origen/guides/program/resources">Additional Resources</a></li>
<li class=""><a href="/origen/guides/program/code">Dynamic Custom Code</a></li>
<li class=""><a href="/origen/guides/program/j750">J750 API</a></li>
<li class=""><a href="/origen/guides/program/v93k">V93K Common API</a></li>
<li class=""><a href="/origen/guides/program/v93ksmt7">V93K SMT7 API</a></li>
<li class=""><a href="/origen/guides/program/v93ksmt8">V93K SMT8 API</a></li>
<li class=""><a href="/origen/guides/program/ultraflex">UltraFLEX API</a></li>
<li class=""><a href="/origen/guides/program/doc">Documenting the Program</a></li>
<li class=""><a href="/origen/guides/program/custom">Creating Custom Testers</a></li>
<li class=""><a href="/origen/guides/program/generating">Running the ProgGen</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-8">
              <a class="no-underline">
                Simulation
              </a>
            </div>
            <div id="sidebar-collapse-8" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/simulation/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/simulation/howitworks">How It Works</a></li>
<li class=""><a href="/origen/guides/simulation/compiling">Compiling the DUT</a></li>
<li class=""><a href="/origen/guides/simulation/ams">AMS Support</a></li>
<li class=""><a href="/origen/guides/simulation/environment">Environment Setup</a></li>
<li class=""><a href="/origen/guides/simulation/app">Application Setup</a></li>
<li class=""><a href="/origen/guides/simulation/patterns">Simulating Patterns</a></li>
<li class=""><a href="/origen/guides/simulation/flows">Simulating Flows</a></li>
<li class=""><a href="/origen/guides/simulation/direct">Direct DUT Manipulation</a></li>
<li class=""><a href="/origen/guides/simulation/log">Simulator Log Output</a></li>
<li class=""><a href="/origen/guides/simulation/artifacts">Artifacts</a></li>
<li class=""><a href="/origen/guides/simulation/debugging">Debugging</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-9">
              <a class="no-underline">
                Documentation Generator
              </a>
            </div>
            <div id="sidebar-collapse-9" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/documentation/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/documentation/markdown">Markdown</a></li>
<li class=""><a href="/origen/guides/documentation/linking">Linking</a></li>
<li class=""><a href="/origen/guides/documentation/styling">Styling</a></li>
<li class=""><a href="/origen/guides/documentation/testing">Testing</a></li>
<li class=""><a href="/origen/guides/documentation/api">API Generation</a></li>
<li class=""><a href="/origen/guides/documentation/deploying">Deploying</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-10">
              <a class="no-underline">
                Plugins
              </a>
            </div>
            <div id="sidebar-collapse-10" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/plugins/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/plugins/importing">Using a Plugin</a></li>
<li class=""><a href="/origen/guides/plugins/creating">Creating a Plugin</a></li>
<li class=""><a href="/origen/guides/plugins/current">Current Plugin</a></li>
<li class=""><a href="/origen/guides/plugins/environment">Dev Environment</a></li>
<li class=""><a href="/origen/guides/plugins/development">Dev Considerations</a></li>
<li class=""><a href="/origen/guides/plugins/paths">Paths &amp; Origen.root</a></li>
<li class=""><a href="/origen/guides/plugins/app">Config &amp; Origen.app</a></li>
<li class=""><a href="/origen/guides/plugins/misc">Miscellaneous Topics</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-11">
              <a class="no-underline">
                Miscellaneous
              </a>
            </div>
            <div id="sidebar-collapse-11" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/misc/revisioncontrol">Revision Control</a></li>
<li class=""><a href="/origen/guides/misc/remotes">Origen Remotes</a></li>
<li class=""><a href="/origen/guides/misc/lint">Lint Testing</a></li>
<li class=""><a href="/origen/guides/misc/session">Session Store</a></li>
<li class=""><a href="/origen/guides/misc/lsf">LSF API</a></li>
<li class=""><a href="/origen/guides/misc/users">Users, Emails &amp; Maillists</a></li>
<li class=""><a href="/origen/guides/misc/utilities">Utilities &amp; Helpers</a></li>
<li class=""><a href="/origen/guides/misc/coreext">Ruby Extensions</a></li>
<li class=""><a href="/origen/guides/misc/logger">Logger</a></li>
<li class=""><a href="/origen/guides/misc/commands">Adding Commands</a></li>
<li class=""><a href="/origen/guides/misc/commandsov">Overriding Commands</a></li>
<li class=""><a href="/origen/guides/misc/callbacks">Callbacks</a></li>
<li class=""><a href="/origen/guides/misc/appcallbacks">Application Callbacks</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-12">
              <a class="no-underline">
                Advanced Topics
              </a>
            </div>
            <div id="sidebar-collapse-12" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/advanced/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/advanced/invocations">Invocation Customization</a></li>
<li class=""><a href="/origen/guides/advanced/newapps">Custom App Generators</a></li>
                </ul>
              </div>
            </div>
          </div>
      

        </div>

    </div>
  </div>

  <div class="col-md-9 nav-page-container">
    <article class="search-results">

      <h3 class="topic-title">Pattern Generator</h3>

      <h2 class="topic-subtitle">Timing and Waiting</h2>

      <hr>

      <p>A common workflow is to have a tester timing file defined and managed outside of Origen, in
which case the main concern within your Origen source code is simply to refer to required
timeset(s) by name.</p>

      <p>However, Origen does also support a more complex timing definition where waveforms
can be defined and mastered in Origen source code. That is discussed later on in the 
<a href="/origen/guides/pattern/timing/#Complex_Timing">Complex Timing</a> section.</p>

      <div>    
  <a class="anchor" name="Simple_Timing"></a>          
  <h3><a href="#Simple_Timing">Simple Timing</a></h3>          
</div>

      <p>This guide gives an overview of some of the most common timing related
methods, but to get a complete overview of what is available consult
the <a href="http://origen-sdk.org/testers/api/OrigenTesters/Timing.html">OrigenTesters::Timing API</a>.</p>

      <p>A timeset declaration is used to provide information to Origen about what
timeset to use for future test cycles and what period of time each
cycle represents.</p>

      <p>Normally this would be initialized within the startup method before generating any
vectors as shown below:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MySoCController</span>
  include <span style="color:#036;font-weight:bold">Origen</span>::<span style="color:#036;font-weight:bold">Controller</span>

  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">startup</span>(options)
    <span style="color:#d70">$tester</span>.set_timeset(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">mode_entry</span><span style="color:#710">"</span></span>, <span style="color:#00D">40</span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <p>The first argument is the name of the timeset, this should correspond to
how the timeset will be named within the test program, and the second argument
is the cycle period in nano-seconds.</p>

      <p>This method also accepts a block in which case the contained vectors will generate
with the supplied timeset and subsequent vectors will return to the previous timeset
automatically.</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#d70">$tester</span>.set_timeset(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">bist_50mhz</span><span style="color:#710">"</span></span>, <span style="color:#00D">20</span>) <span style="color:#080;font-weight:bold">do</span>
  <span style="color:#777"># Any cycles generated in here will use 20ns for the period</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <p>The arguments can also be supplied as a single array, or not at all. In the latter case
the existing timeset will simply be preserved. This is useful if you have timesets that
can be conditionally set based on the target.</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Target 1</span>
<span style="color:#d70">$dut</span>.readout_timeset = [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">readout</span><span style="color:#710">"</span></span>, <span style="color:#00D">120</span>]
<span style="color:#777"># Target 2</span>
<span style="color:#d70">$dut</span>.readout_timeset = <span style="color:#069">false</span>

<span style="color:#777"># This code is compatible with both targets, in the first case the timeset will switch</span>
<span style="color:#777"># over, in the second case the existing timeset will be preserved.</span>
<span style="color:#d70">$tester</span>.set_timeset(<span style="color:#d70">$dut</span>.readout_timeset) <span style="color:#080;font-weight:bold">do</span>
  <span style="color:#777"># Generate readout vectors...</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Creating_a_Timing_Set"></a>          
  <h4><a href="#Creating_a_Timing_Set">Creating a Timing Set</a></h4>          
</div>

      <p>Currently the creation of the timing set for a given test platform must be
done independently of Origen, however adding an Origen API for this is on the roadmap.</p>

      <div>    
  <a class="anchor" name="Waiting"></a>          
  <h4><a href="#Waiting">Waiting</a></h4>          
</div>

      <p>All $tester models will support the following API to generate wait states
in the test patterns.</p>

      <p>Wait for specific number of cycles:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#d70">$tester</span>.wait(<span style="color:#606">cycles</span>: <span style="color:#00D">1000</span>)
</pre></div>
</div>
      </div>

      <p>Wait for a period of time:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#d70">$tester</span>.wait(<span style="color:#606">time_in_us</span>: <span style="color:#00D">500</span>)
<span style="color:#d70">$tester</span>.wait(<span style="color:#606">time_in_ms</span>: <span style="color:#00D">10</span>)
</pre></div>
</div>
      </div>

      <p>A shorthand for the above cases is available:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#00D">500</span>.us!  <span style="color:#777"># Wait for 500us</span>
<span style="color:#00D">10</span>.ms!   <span style="color:#777"># Wait for 10ms</span>
</pre></div>
</div>
      </div>

      <p>Multiple times specified in different units will be added together, this can be useful
if the delay is based on a complex calculation:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Wait for 500us + 100 cycles</span>
<span style="color:#d70">$tester</span>.wait(<span style="color:#606">time_in_us</span>: <span style="color:#00D">500</span>, <span style="color:#606">cycles</span>: <span style="color:#00D">100</span>)
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Waiting_for_an_Event"></a>          
  <h4><a href="#Waiting_for_an_Event">Waiting for an Event</a></h4>          
</div>

      <p>All testers provide an API for generating match loops, these can be used to
make the pattern wait dynamically for a pin-based or even a register-based
event.</p>

      <p>To do this enable the <code>:match</code> option and supply a block, within the block
generate the vectors that will test if the condition has been met.
Any time options passed in will be applied as a timeout, i.e. the maximum time to
wait for the required condition to resolve.</p>

      <p>Here are some examples:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Wait for up to 1 second for the done bit to be set</span>
<span style="color:#d70">$tester</span>.wait(<span style="color:#606">match</span>: <span style="color:#069">true</span>, <span style="color:#606">time_in_s</span>: <span style="color:#00D">1</span>) <span style="color:#080;font-weight:bold">do</span>
  reg(<span style="color:#A60">:status_reg</span>).bit(<span style="color:#A60">:done</span>).read!(<span style="color:#00D">1</span>)
<span style="color:#080;font-weight:bold">end</span>

<span style="color:#777"># Wait for up to 1 second for the done pin to be set</span>
<span style="color:#d70">$tester</span>.wait(<span style="color:#606">match</span>: <span style="color:#069">true</span>, <span style="color:#606">time_in_s</span>: <span style="color:#00D">1</span>) <span style="color:#080;font-weight:bold">do</span>
  pin(<span style="color:#A60">:done</span>).assert!(<span style="color:#00D">1</span>)
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Complex_Timing"></a>          
  <h3><a href="#Complex_Timing">Complex Timing</a></h3>          
</div>

      <div>    
  <a class="anchor" name="Defining_Timesets"></a>          
  <h4><a href="#Defining_Timesets">Defining Timesets</a></h4>          
</div>

      <p>A wave object defines the waveform that should be applied to a pin, and each pin will
have two wave objects assigned to it - one for drive cycles and one for cycles where the
pin is being read/compared.</p>

      <p>A timeset object is used to collect the wave objects for all pins. Multiple timesets can
be defined and therefore the waveforms being applied to the pins can be changed by changing
the timeset.
The API to change the timeset is the same as that already discussed above:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>tester.set_timeset(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">func</span><span style="color:#710">'</span></span>, <span style="color:#00D">100</span>)
</pre></div>
</div>
      </div>

      <p>The period of the timeset can be referenced in the wave definitions to make the waveforms
keep the same shape with different period settings.</p>

      <p>Here is the most basic timeset definition, this will give all pins a default waveform which
drives for the whole period on drive cycles, and strobes at 50% of compare cycles:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Simple definition, all pins have default waves</span>
add_timeset <span style="color:#A60">:t1</span>
</pre></div>
</div>
      </div>

      <p>Here is a more complex definition, which changes the default compare for all pins to be at
25% of the period, and which adds a unique drive wave to the :tck pin to create a clock:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Complex definition, defines an alternative default compare wave and specific timing for :tck</span>
timeset <span style="color:#A60">:func</span> <span style="color:#080;font-weight:bold">do</span> |t|
  t.compare_wave <span style="color:#080;font-weight:bold">do</span> |w|
    w.compare <span style="color:#A60">:data</span>, <span style="color:#606">at</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">period / 4</span><span style="color:#710">"</span></span>
  <span style="color:#080;font-weight:bold">end</span>

  t.drive_wave <span style="color:#A60">:tck</span> <span style="color:#080;font-weight:bold">do</span> |w|
     w.drive <span style="color:#A60">:data</span>, <span style="color:#606">at</span>: <span style="color:#00D">0</span>
     w.drive <span style="color:#00D">0</span>, <span style="color:#606">at</span>: <span style="color:#00D">25</span>
     w.dont_care <span style="color:#606">at</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">period - 10</span><span style="color:#710">"</span></span>  <span style="color:#777"># Just to show that dont_care can be used</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <p>Pin groups can also be referenced in the timeset definition, here to add common drive timing
to all pins in :gpio, and with a special compare waveform for :gpio5 only:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Another timeset to show the wave assignment to pin groups</span>
timeset <span style="color:#A60">:t2</span> <span style="color:#080;font-weight:bold">do</span> |t|
  t.compare_wave <span style="color:#A60">:gpio5</span> <span style="color:#080;font-weight:bold">do</span> |w|
    w.compare <span style="color:#A60">:data</span>, <span style="color:#606">at</span>: <span style="color:#00D">100</span>
  <span style="color:#080;font-weight:bold">end</span>

  t.drive_wave <span style="color:#A60">:gpio</span> <span style="color:#080;font-weight:bold">do</span> |w|
    w.drive <span style="color:#A60">:data</span>, <span style="color:#606">at</span>: <span style="color:#00D">200</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <p>Note that the API currently only supports edge compares, i.e. window compares cannot be defined.</p>

      <p>Additional drive and compare waves can be defined for any pin by giving them a code which can
be used to select the given waveform in a pattern - i.e. <a href="/origen/guides/pattern/v93k">the approach used by the 
V93K tester to select from multiple available waveforms.</a></p>

      <p>Here is an example with a single pulse waveform defined for a clk pin which will be applied
when the pin is driven to <code>1</code>, and a double pulse waveform that will be applied when the pin
is drive to <code>T</code>:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>timeset <span style="color:#A60">:func</span> <span style="color:#080;font-weight:bold">do</span> |t|
  t.drive_wave <span style="color:#A60">:tck</span> <span style="color:#080;font-weight:bold">do</span> |w|
    w.drive <span style="color:#00D">1</span>, <span style="color:#606">at</span>: <span style="color:#00D">0</span>
    w.drive <span style="color:#00D">0</span>, <span style="color:#606">at</span>: <span style="color:#00D">20</span>
  <span style="color:#080;font-weight:bold">end</span>

  t.drive_wave <span style="color:#A60">:tck</span>, <span style="color:#606">code</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">T</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span> |w|
    w.drive <span style="color:#00D">1</span>, <span style="color:#606">at</span>: <span style="color:#00D">0</span>
    w.drive <span style="color:#00D">0</span>, <span style="color:#606">at</span>: <span style="color:#00D">10</span>
    w.drive <span style="color:#00D">1</span>, <span style="color:#606">at</span>: <span style="color:#00D">20</span>
    w.drive <span style="color:#00D">0</span>, <span style="color:#606">at</span>: <span style="color:#00D">30</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Consuming_Timeset_Data"></a>          
  <h4><a href="#Consuming_Timeset_Data">Consuming Timeset Data</a></h4>          
</div>

      <p>The currently selected timeset can be retrieved via the following methods which are aliases:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>dut.timeset               <span style="color:#777"># =&gt; instance of Origen::Pins::Timing::Timeset</span>
dut.current_timeset
</pre></div>
</div>
      </div>

      <p>Using the plural returns a hash containing all timesets, thereby allowing access to specific timesets
regardless of the current selection:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>dut.timesets          <span style="color:#777"># =&gt; Hash</span>
dut.timesets[<span style="color:#A60">:func</span>]   <span style="color:#777"># =&gt; instance of Origen::Pins::Timing::Timeset</span>
<span style="color:#777"># This will also work:</span>
dut.timeset(<span style="color:#A60">:func</span>)   
</pre></div>
</div>
      </div>

      <p>Each timeset stores the waves in two arrays, one for drive waves and another for the compare waves:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>dut.timeset(<span style="color:#A60">:func</span>).drive_waves    <span style="color:#777"># =&gt; Array containing instances of Origen::Pins::Timing::Wave</span>
dut.timeset(<span style="color:#A60">:func</span>).compare_waves
</pre></div>
</div>
      </div>

      <p>Each wave object has an events array, and the pins assigned to it can also be retrieved:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>drive_wave = dut.timeset(<span style="color:#A60">:func</span>).drive_waves.first
compare_wave = dut.timeset(<span style="color:#A60">:func</span>).compare_waves.first

drive_wave.events    <span style="color:#777"># =&gt; [[0, :data], [50, 0], [75, :x]]</span>
drive_wave.pins      <span style="color:#777"># =&gt; Array of Origen::Pins::Pin instances</span>

compare_wave.events  <span style="color:#777"># =&gt; [["period / 2", :data]]</span>
</pre></div>
</div>
      </div>

      <p>The method evaluated_events can be used to get the events with the formulas evaluated based on the
current period:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>compare_wave.events            <span style="color:#777"># =&gt; [["period / 2", :data]]</span>
compare_wave.evaluated_events  <span style="color:#777"># =&gt; [[50, :data]]</span>
</pre></div>
</div>
      </div>

      <p>The waves assigned to a given pin by the current timeset can also be accessed via the pin API:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>dut.pin(<span style="color:#A60">:tms</span>).compare_wave.events[<span style="color:#00D">0</span>]   <span style="color:#777"># =&gt; ["period / 2", :data]</span>
</pre></div>
</div>
      </div>

      <p>The waveform associated with a particular code can be accessed as follows:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># The wave for driving 0 and 1 is returned by default, these are all aliases:</span>
dut.pin(<span style="color:#A60">:clk</span>).drive_wave.events       <span style="color:#777"># =&gt; [[0, 1], [20, 0]]</span>
dut.pin(<span style="color:#A60">:clk</span>).drive_wave(<span style="color:#00D">0</span>).events    <span style="color:#777"># =&gt; [[0, 1], [20, 0]]</span>
dut.pin(<span style="color:#A60">:clk</span>).drive_wave(<span style="color:#00D">1</span>).events    <span style="color:#777"># =&gt; [[0, 1], [20, 0]]</span>

dut.pin(<span style="color:#A60">:clk</span>).drive_wave(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">T</span><span style="color:#710">'</span></span>).events  <span style="color:#777"># =&gt; [[0, 1], [10, 0], [20, 1], [30, 0]]</span>
</pre></div>
</div>
      </div>

      <div style="position: relative">
  <hr>
  <div>    
  <a class="anchor" name="Comments"></a>          
  <h4><a href="#Comments">Comments</a></h4>          
</div>
</div>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'origen-sdk';
    var disqus_title;
    var disqus_url = 'http://' + window.location.hostname + window.location.pathname;

    disqus_title = $("h1").text();
    if (disqus_title.length == 0) {
      disqus_title = $("h2").text();
    }
    if (disqus_title.length == 0) {
      disqus_title = $("h3").text();
    }
    if (disqus_title.length == 0) {
      disqus_title = $("title").text();
    } else {
      disqus_title = disqus_title + ' (' + $("title").text() + ')';
    }

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>

    </article>
  </div>
</div>

<script src="/origen/search.js"></script>


      </div><!-- /.container -->
    

    <footer class="footer">
      <div class="container">
        <p class="pull-left text-muted">
          Generated with the <a href="https://origen-sdk.org">Origen Semiconductor Developer's Kit</a>
        </p>
        <p class="pull-right text-muted">Origen is released under the terms of the <a href="https://choosealicense.com/licenses/mit/">MIT license</a></p>
      </div>
    </footer>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://origen-sdk.org/js/lunr.min.js"></script>
    <script src="https://origen-sdk.org/js/highlight.js"></script>
    <script src="https://origen-sdk.org/js/custom.js"></script>
    
      <script>
        ((window.gitter = {}).chat = {}).options = {
          room: 'Origen-SDK/users'
        };
      </script>
      <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
    
  </body>
</html>

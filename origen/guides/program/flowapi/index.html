<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta property="og:locale" content="en_US">
    <meta name="content-language" content="en_US">

    
    <title>Origen - Guides</title>
    <meta property="og:title" content="Origen - Guides">
    <meta name="twitter:title" content="Origen - Guides">
    <meta itemprop="name" content="Origen - Guides">
      
  
  
    <link rel="author" href="https://plus.google.com/u/1/b/106463981272125989995/106463981272125989">
  
  
    <meta property="og:url" content="http://origen-sdk.org/origen/guides/program/flowapi">
    <meta name="twitter:url" content="http://origen-sdk.org/origen/guides/program/flowapi">
  
  
    <meta property="og:image" content="http://origen-sdk.org/favicon-260x260.png">
    <meta name="twitter:image" content="http://origen-sdk.org/favicon-260x260.png">
    <meta itemprop="image" content="http://origen-sdk.org/favicon-260x260.png">
    <meta name="twitter:card" content="summary">
  
    <meta property="og:site_name" content="Origen - The Semiconductor Developer's Kit">
  
  
    <meta property="fb:admins" content="origensdk">
  
  
    <meta name="twitter:site" content="@origensdk">
  

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://origen-sdk.org/css/bootstrap_custom.css"></script>
    <!-- Load this up top to allow pages to execute JQuery snippets -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
        ga('create', 'UA-64455560-1', 'auto');
        ga('send', 'pageview');
      </script>
    

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="http://origen-sdk.org/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="http://origen-sdk.org/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://origen-sdk.org/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="http://origen-sdk.org/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://origen-sdk.org/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="http://origen-sdk.org/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="http://origen-sdk.org/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="http://origen-sdk.org/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="http://origen-sdk.org/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="http://origen-sdk.org/manifest.json">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body>
    
      <div class="container">
        <nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <a href="/" class="navbar-brand" style="margin-top: -4px;">
        <img src="http://origen-sdk.org/img/origen-device.png" style="height:30px; margin-right: 2px; display: inline; margin-top: -2px;">
        <img src="http://origen-sdk.org/img/origen-text.png" style="height:15px; display: inline;">
      </a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown ">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="tour">Tour <span class="caret"></span></a>
          <ul class="dropdown-menu" aria-labelledby="tour">
            <li><a href="/origen/tour/basics">Basics</a></li>
            <li class="divider">
            </li>
<li><a href="/origen/tour/test-engineering">Test Engineers</a></li>
            <li><a href="/origen/tour/design-engineering">Design Engineers</a></li>
          </ul>
        </li>
        <li class="active"><a href="/origen/guides/starting/introduction">Guides</a></li>
        <li class=""><a href="/origen/videos/1-pattern-in-20-minutes">Videos</a></li>
        <li class=""><a href="/origen/publications">Publications</a></li>
        <li class=""><a href="/origen/api">API</a></li>
        <li class=""><a href="https://github.com/Origen-SDK">Github</a></li>
        <li class=""><a href="/origen/community">Community</a></li>
        <li class=""><a href="/origen/release_notes">Release Notes</a></li>
        <li class=""><a href="/origen/plugins">Plugins</a></li>
      </ul>
    </div>
<!--/.nav-collapse -->
  </div>
</nav>

<div class="row">
  <div class="col-md-3 sidebar-nav-container">
    <div class="well sidebar-nav" style="margin-top: 20px;">
        <div id="search">
          <form style="margin-bottom: 15px;">
            <div class="input-group">
              <input class="form-control" type="search" placeholder="Search the guides...">
              <span class="input-group-btn">
                <button type="submit" class="btn btn-search">GO!</button>
              </span>
            </div>
          </form>
        </div>
        <div class="panel-group" id="sidebar-accordion">

          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-0">
              <a class="no-underline">
                Getting Started with Origen
              </a>
            </div>
            <div id="sidebar-collapse-0" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/starting/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/starting/core">Core concepts</a></li>
<li class=""><a href="/origen/guides/starting/installing">How to Install</a></li>
<li class=""><a href="/origen/guides/starting/installwin">How to Install (Windows)</a></li>
<li class=""><a href="/origen/guides/starting/company">Company Customization</a></li>
<li class=""><a href="/origen/guides/starting/gems">Understanding Gems</a></li>
<li class=""><a href="/origen/guides/starting/app">Creating a New App</a></li>
<li class=""><a href="/origen/guides/starting/commit">The Initial Commit</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-1">
              <a class="no-underline">
                Runtime Environment
              </a>
            </div>
            <div id="sidebar-collapse-1" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/runtime/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/runtime/mode">Mode</a></li>
<li class=""><a href="/origen/guides/runtime/environment">Environment</a></li>
<li class=""><a href="/origen/guides/runtime/target">Target</a></li>
<li class=""><a href="/origen/guides/runtime/production">Production Targets</a></li>
<li class=""><a href="/origen/guides/runtime/global">Global Setup</a></li>
<li class=""><a href="/origen/guides/runtime/loadorder">Load Order</a></li>
<li class=""><a href="/origen/guides/runtime/programming">Programming</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-2">
              <a class="no-underline">
                Models
              </a>
            </div>
            <div id="sidebar-collapse-2" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/models/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/models/naming">Naming</a></li>
<li class=""><a href="/origen/guides/models/defining">Definition &amp; Hierarchy</a></li>
<li class=""><a href="/origen/guides/models/attributes">Adding Attributes</a></li>
<li class=""><a href="/origen/guides/models/versioning">Versioning</a></li>
<li class=""><a href="/origen/guides/models/bugs">Bugs &amp; Features</a></li>
<li class=""><a href="/origen/guides/models/modes">Package, Mode &amp; Configuration</a></li>
<li class=""><a href="/origen/guides/models/registers">Registers</a></li>
<li class=""><a href="/origen/guides/models/pins">Pins</a></li>
<li class=""><a href="/origen/guides/models/hw">Hardware Attributes</a></li>
<li class=""><a href="/origen/guides/models/parameters">Parameters</a></li>
<li class=""><a href="/origen/guides/models/specs">Specifications</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-3">
              <a class="no-underline">
                Compiler (Views)
              </a>
            </div>
            <div id="sidebar-collapse-3" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/compiler/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/compiler/creating">Creating Templates</a></li>
<li class=""><a href="/origen/guides/compiler/subtemplates">Using Sub-Templates</a></li>
<li class=""><a href="/origen/guides/compiler/helpers">Helpers</a></li>
<li class=""><a href="/origen/guides/compiler/running">Running The Compiler</a></li>
<li class=""><a href="/origen/guides/compiler/inline">Inline Compiler</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-4">
              <a class="no-underline">
                Controllers
              </a>
            </div>
            <div id="sidebar-collapse-4" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/controllers/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/controllers/shadow">Shadow Controllers</a></li>
<li class=""><a href="/origen/guides/controllers/direct">Direct Controllers</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-5">
              <a class="no-underline">
                Pattern Generator
              </a>
            </div>
            <div id="sidebar-collapse-5" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/pattern/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/pattern/creating">Creating Patterns</a></li>
<li class=""><a href="/origen/guides/pattern/pins">Pins</a></li>
<li class=""><a href="/origen/guides/pattern/timing">Timing and Waiting</a></li>
<li class=""><a href="/origen/guides/pattern/registers">Registers</a></li>
<li class=""><a href="/origen/guides/pattern/documenting">Documenting Patterns</a></li>
<li class=""><a href="/origen/guides/pattern/name">Generating by Name</a></li>
<li class=""><a href="/origen/guides/pattern/common">Common API</a></li>
<li class=""><a href="/origen/guides/pattern/j750">J750 API</a></li>
<li class=""><a href="/origen/guides/pattern/v93k">V93K API</a></li>
<li class=""><a href="/origen/guides/pattern/ultraflex">UltraFlex API</a></li>
<li class=""><a href="/origen/guides/pattern/custom">Custom Testers</a></li>
<li class=""><a href="/origen/guides/pattern/running">Running The PatGen</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-6">
              <a class="no-underline">
                Test Program Generator
              </a>
            </div>
            <div id="sidebar-collapse-6" class="panel-collapse collapse in">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/program/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/program/philosophy">Philosophy</a></li>
<li class=""><a href="/origen/guides/program/flows">Creating Flows</a></li>
<li class="active"><a href="/origen/guides/program/flowapi">Managing Flow Control</a></li>
<li class=""><a href="/origen/guides/program/interface">Creating an Interface</a></li>
<li class=""><a href="/origen/guides/program/resources">Additional Resources</a></li>
<li class=""><a href="/origen/guides/program/code">Dynamic Custom Code</a></li>
<li class=""><a href="/origen/guides/program/j750">J750 API</a></li>
<li class=""><a href="/origen/guides/program/v93k">V93K API</a></li>
<li class=""><a href="/origen/guides/program/ultraflex">UltraFLEX API</a></li>
<li class=""><a href="/origen/guides/program/doc">Documenting the Program</a></li>
<li class=""><a href="/origen/guides/program/custom">Creating Custom Testers</a></li>
<li class=""><a href="/origen/guides/program/generating">Running the ProgGen</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-7">
              <a class="no-underline">
                Documentation Generator
              </a>
            </div>
            <div id="sidebar-collapse-7" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/documentation/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/documentation/markdown">Markdown</a></li>
<li class=""><a href="/origen/guides/documentation/linking">Linking</a></li>
<li class=""><a href="/origen/guides/documentation/styling">Styling</a></li>
<li class=""><a href="/origen/guides/documentation/testing">Testing</a></li>
<li class=""><a href="/origen/guides/documentation/api">API Generation</a></li>
<li class=""><a href="/origen/guides/documentation/deploying">Deploying</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-8">
              <a class="no-underline">
                Plugins
              </a>
            </div>
            <div id="sidebar-collapse-8" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/plugins/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/plugins/importing">Using a Plugin</a></li>
<li class=""><a href="/origen/guides/plugins/creating">Creating a Plugin</a></li>
<li class=""><a href="/origen/guides/plugins/current">Current Plugin</a></li>
<li class=""><a href="/origen/guides/plugins/environment">Dev Environment</a></li>
<li class=""><a href="/origen/guides/plugins/development">Dev Considerations</a></li>
<li class=""><a href="/origen/guides/plugins/paths">Paths &amp; Origen.root</a></li>
<li class=""><a href="/origen/guides/plugins/app">Config &amp; Origen.app</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-9">
              <a class="no-underline">
                Miscellaneous
              </a>
            </div>
            <div id="sidebar-collapse-9" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/misc/revisioncontrol">Revision Control</a></li>
<li class=""><a href="/origen/guides/misc/remotes">Origen Remotes</a></li>
<li class=""><a href="/origen/guides/misc/lint">Lint Testing</a></li>
<li class=""><a href="/origen/guides/misc/session">Session Store</a></li>
<li class=""><a href="/origen/guides/misc/lsf">LSF API</a></li>
<li class=""><a href="/origen/guides/misc/users">Users, Emails &amp; Maillists</a></li>
<li class=""><a href="/origen/guides/misc/coreext">Ruby Extensions</a></li>
<li class=""><a href="/origen/guides/misc/logger">Logger</a></li>
<li class=""><a href="/origen/guides/misc/commands">Adding Commands</a></li>
<li class=""><a href="/origen/guides/misc/commandsov">Overriding Commands</a></li>
<li class=""><a href="/origen/guides/misc/callbacks">Callbacks</a></li>
<li class=""><a href="/origen/guides/misc/appcallbacks">Application Callbacks</a></li>
                </ul>
              </div>
            </div>
          </div>
      

        </div>

    </div>
  </div>

  <div class="col-md-9 nav-page-container">
    <article>

      <h3 class="topic-title">Test Program Generator</h3>

      <h2 class="topic-subtitle">Managing Flow Control</h2>

      <hr>

      <p>The runtime flow control of a test program is an area that can be particularly messy:</p>

      <ul>
        <li>Need to deal with different and often obscure vendor APIs</li>
        <li>It can be very hard to decipher both the intention and the actual behavior
during code reviews</li>
        <li>It is easy to make mistakes</li>
        <li>Mistakes can be costly - there have been many customer quality
incidents in the past from missed test caused by errors in flow control</li>
      </ul>

      <p>To deal with these problems Origen provides a simple and intuitive API
to describe runtime flow logic:</p>

      <ul>
        <li>Generates legal and battle-tested code</li>
        <li>Takes care of cross-platform implementation</li>
        <li>Makes flow control easy to review</li>
        <li>Covers over gaps or weaknesses in the vendor APIs</li>
      </ul>

      <p>Conditional tests fall into two categories:</p>

      <ul>
        <li>Those that will run based on the flow execution environment. For example based on
the job selected at runtime or on some enable flag that can be set by the user at
runtime.</li>
        <li>Those that will only run based on the outcome of another test - i.e. execute a given
test based on whether a previous test passed, failed or ran at all.</li>
      </ul>

      <div>    
  <a class="anchor" name="Execution_Based_on_the_Runtime_Environment"></a>          
  <h4><a href="#Execution_Based_on_the_Runtime_Environment">Execution Based on the Runtime Environment</a></h4>          
</div>

      <p>The following methods are available to describe these cases:</p>

      <ul>
        <li>
<strong>if_enable / unless_enable</strong> - Run the test if a flow runtime option is/is not enabled at runtime</li>
        <li>
<strong>if_job / unless_job</strong> - Run based on the current job (P1, FR, QC, etc)</li>
      </ul>

      <p>Here are some examples of how to apply these methods to single tests:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Run this test to characterize the vreg, only if the 'vreg_cz' flag has been enabled</span>
para <span style="color:#A60">:vreg_meas</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">107</span>, <span style="color:#606">cz</span>: <span style="color:#069">true</span>, <span style="color:#606">if_enable</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">vreg_cz</span><span style="color:#710">"</span></span>
<span style="color:#777"># Apply HVST to the vreg module, unless the 'skip_hvst' flag has been enabled</span>
func <span style="color:#A60">:vreg_hvst</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">101</span>, <span style="color:#606">hv</span>: <span style="color:#00D">10</span>.V, <span style="color:#606">vdd</span>: <span style="color:#A60">:max</span>, <span style="color:#606">unless_enable</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">skip_hvst</span><span style="color:#710">"</span></span>
<span style="color:#777"># Run this test only at cold</span>
para <span style="color:#A60">:vreg_meas</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">105</span>, <span style="color:#606">lo</span>: <span style="color:#60E">1.12</span>, <span style="color:#606">hi</span>: <span style="color:#60E">1.34</span><span style="color:#036;font-weight:bold">V</span>, <span style="color:#606">if_job</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">FC</span><span style="color:#710">"</span></span>
</pre></div>
</div>
      </div>

      <p>For an IG-XL based tester this would generate code like this:</p>

      <div class="language-text highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre># Label           Job        Enable         Test
                             vreg_cz        Characterize    vreg_meas char    107
                             skip_hvst      goto            VREG_LABEL_1
                                            Test            vreg_hvst_max     101
VREG_LABEL_1                                nop                      
                  FC                        Test            vreg_meas         105
</pre></div>
</div>
      </div>

      <p>The unless “skip_hvst” is enabled is a good example of where Origen patches around
weaknesses in the underlying vendor API - IG-XL doesn’t provide a native !enabled
control, however you can write your flow as if it does and Origen will generate
the equivalent logic.</p>

      <div>    
  <a class="anchor" name="Execution_Based_on_a_Previous_Test"></a>          
  <h4><a href="#Execution_Based_on_a_Previous_Test">Execution Based on a Previous Test</a></h4>          
</div>

      <p>The following methods are available to describe these cases:</p>

      <ul>
        <li>
<strong>if_ran / unless_ran</strong> - Run only if a previous test did or did not run</li>
        <li>
<strong>if_failed (unless_passed)</strong> - Run only if a previous test failed (site specific)</li>
        <li>
<strong>if_passed (unless_failed)</strong> - Run only if a previous test passed (site specific)</li>
      </ul>

      <p>All of these methods require you to provide the ID of the previous test on which
the conditional execution will depend.
This ID must be assigned by you in the flow line of the previous test by adding
and <code>id</code> key like this:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>para <span style="color:#A60">:vreg_meas</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">105</span>, <span style="color:#606">lo</span>: <span style="color:#60E">1.12</span>, <span style="color:#606">hi</span>: <span style="color:#60E">1.34</span>, <span style="color:#606">id</span>: <span style="color:#A60">:vreg_meas_1</span>
</pre></div>
</div>
      </div>

      <p>The ID can be any value you like as long as it is unique, Origen will raise an error
if any duplicate IDs are encountered.</p>

      <p>On the dependent tests the API is similar to the previous examples except the ID
of the previous test is given in place of the enable flag or job name.
Here are some examples:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>para <span style="color:#A60">:vreg_meas</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">105</span>, <span style="color:#606">lo</span>: <span style="color:#60E">1.12</span>, <span style="color:#606">hi</span>: <span style="color:#60E">1.34</span>, <span style="color:#606">id</span>: <span style="color:#A60">:vreg_meas_1</span>
<span style="color:#777"># Automatically characterize the vreg if the measurement fails</span>
para <span style="color:#A60">:vreg_meas</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">107</span>, <span style="color:#606">cz</span>: <span style="color:#069">true</span>, <span style="color:#606">if_failed</span>: <span style="color:#A60">:vreg_meas_1</span>
<span style="color:#777"># Then bin out</span>
bin_out <span style="color:#606">softbin</span>: <span style="color:#00D">105</span>, <span style="color:#606">if_failed</span>: <span style="color:#A60">:vreg_meas_1</span>
<span style="color:#777"># Check if the HVST has already been run on this device</span>
func <span style="color:#A60">:rd_vreg_hvst_passcode</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">50</span>, <span style="color:#606">vdd</span>: <span style="color:#A60">:nom</span>, <span style="color:#606">id</span>: <span style="color:#A60">:vreg_hvst_done</span>
<span style="color:#777"># If not run it</span>
func <span style="color:#A60">:vreg_hvst</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">101</span>, <span style="color:#606">hv</span>: <span style="color:#00D">10</span>.V, <span style="color:#606">vdd</span>: <span style="color:#A60">:max</span>, <span style="color:#606">unless_passed</span>: <span style="color:#A60">:vreg_hvst_done</span>
<span style="color:#777"># And program the flag for next time</span>
func <span style="color:#A60">:pgm_vreg_hvst_passcode</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">51</span>, <span style="color:#606">vdd</span>: <span style="color:#A60">:nom</span>, <span style="color:#606">unless_passed</span>: <span style="color:#A60">:vreg_hvst_done</span>
</pre></div>
</div>
      </div>

      <p>For an IG-XL based tester this would generate code like this:</p>

      <div class="language-text highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre># Test                                   Result                          Condition
Test            vreg_meas                None    vreg_meas_1_FAILED      
Characterize    vreg_meas char           Fail                            flag-true vreg_meas_1_FAILED
Set-Device      105                                                      flag-true vreg_meas_1_FAILED 
Test            rd_vreg_hvst_passcode    None    vreg_hvst_done_PASSED  
Test            vreg_hvst                Fail                            flag-true vreg_hvst_done_PASSED
Test            pgm_vreg_hvst_passcode   Fail                            flag-true vreg_hvst_done_PASSED
</pre></div>
</div>
      </div>

      <p>Origen automatically takes care of setting up all of the tests in the relationship:</p>

      <ul>
        <li>The parent tests in the relationship are automatically set to continue on fail</li>
        <li>Flag(s) will be set to indicate whether the parent test passed or failed</li>
        <li>Conditional execution flags are set on all dependent tests</li>
      </ul>

      <div>    
  <a class="anchor" name="Controlling_the_Execution_of_a_Group_of_Tests"></a>          
  <h4><a href="#Controlling_the_Execution_of_a_Group_of_Tests">Controlling the Execution of a Group of Tests</a></h4>          
</div>

      <p>All of the flow control methods have a block form which will apply the
condition to all tests within the block.</p>

      <p>The previous example could be more clearly written using the block form:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>para <span style="color:#A60">:vreg_meas</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">105</span>, <span style="color:#606">lo</span>: <span style="color:#60E">1.12</span>, <span style="color:#606">hi</span>: <span style="color:#60E">1.34</span>, <span style="color:#606">id</span>: <span style="color:#A60">:vreg_meas_1</span>
if_failed <span style="color:#A60">:vreg_meas_1</span> <span style="color:#080;font-weight:bold">do</span>
  <span style="color:#777"># Automatically characterize the vreg if the measurement fails</span>
  para <span style="color:#A60">:vreg_meas</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">107</span>, <span style="color:#606">cz</span>: <span style="color:#069">true</span>
  <span style="color:#777"># Then bin out</span>
  bin_out <span style="color:#606">softbin</span>: <span style="color:#00D">105</span>
<span style="color:#080;font-weight:bold">end</span>
<span style="color:#777"># Check if the HVST has already been run on this device</span>
func <span style="color:#A60">:rd_vreg_hvst_passcode</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">50</span>, <span style="color:#606">vdd</span>: <span style="color:#A60">:nom</span>, <span style="color:#606">id</span>: <span style="color:#A60">:vreg_hvst_done</span>
unless_passed <span style="color:#A60">:vreg_hvst_done</span> <span style="color:#080;font-weight:bold">do</span>
  <span style="color:#777"># If not run it</span>
  func <span style="color:#A60">:vreg_hvst</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">101</span>, <span style="color:#606">hv</span>: <span style="color:#00D">10</span>.V, <span style="color:#606">vdd</span>: <span style="color:#A60">:max</span>
  <span style="color:#777"># And program the flag for next time</span>
  func <span style="color:#A60">:pgm_vreg_hvst_passcode</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">51</span>, <span style="color:#606">vdd</span>: <span style="color:#A60">:nom</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <p>This will generate the exact same code as before.</p>

      <p>A very useful pattern is to split your code into small re-usable snippets
and then wrap the import with these flow control methods to apply conditional
execution.
For example here the ‘FH’ job requirement will be applied to all tests
imported from the vreg component:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Only run the vreg tests at hot</span>
if_job <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">FH</span><span style="color:#710">"</span></span> <span style="color:#080;font-weight:bold">do</span>
  import <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">components/vreg</span><span style="color:#710">"</span></span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Skipping_a_Section"></a>          
  <h4><a href="#Skipping_a_Section">Skipping a Section</a></h4>          
</div>

      <p>An additional method <code>skip</code> is available to skip over a section, this
would normally be qualified by one of the other flow control methods:</p>

      <div class="language-ruby highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#777"># Don't bother running the hot vreg flow if the device already received it at probe</span>
func <span style="color:#A60">:rd_hot_sort2_passcode</span>, <span style="color:#606">softbin</span>: <span style="color:#00D">50</span>, <span style="color:#606">vdd</span>: <span style="color:#A60">:nom</span>, <span style="color:#606">id</span>: <span style="color:#A60">:hot_sort2_done</span>
skip <span style="color:#606">if_passed</span>: <span style="color:#A60">:hot_sort2_done</span> <span style="color:#080;font-weight:bold">do</span>
  if_job <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">FH</span><span style="color:#710">"</span></span> <span style="color:#080;font-weight:bold">do</span>
    import <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">components/vreg</span><span style="color:#710">"</span></span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <div style="position: relative">
  <hr>
  <div>    
  <a class="anchor" name="Comments"></a>          
  <h4><a href="#Comments">Comments</a></h4>          
</div>
</div>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'origen-sdk';
    var disqus_title;
    var disqus_url = 'http://' + window.location.hostname + window.location.pathname;

    disqus_title = $("h1").text();
    if (disqus_title.length == 0) {
      disqus_title = $("h2").text();
    }
    if (disqus_title.length == 0) {
      disqus_title = $("h3").text();
    }
    if (disqus_title.length == 0) {
      disqus_title = $("title").text();
    } else {
      disqus_title = disqus_title + ' (' + $("title").text() + ')';
    }

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>

    </article>
  </div>
</div>

<script src="/origen/search.js"></script>


      </div><!-- /.container -->
    

    <footer class="footer">
      <div class="container">
        <p class="pull-left text-muted">
          Generated with the <a href="http://origen-sdk.org">Origen Semiconductor Developer's Kit</a>
        </p>
        <p class="pull-right text-muted">Origen is released under the terms of the <a href="http://choosealicense.com/licenses/lgpl-3.0/">LGPLv3</a></p>
      </div>
    </footer>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="http://origen-sdk.org/js/lunr.min.js"></script>
    <script src="http://origen-sdk.org/js/highlight.js"></script>
    <script src="http://origen-sdk.org/js/custom.js"></script>
    
      <script>
        ((window.gitter = {}).chat = {}).options = {
          room: 'Origen-SDK/users'
        };
      </script>
      <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
    
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Origen - Guides</title>
        
    

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://origen-sdk.org/css/bootstrap_custom.css"></script>
    <!-- Load this up top to allow pages to execute JQuery snippets -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
        ga('create', 'UA-64455560-1', 'auto');
        ga('send', 'pageview');
      </script>
    

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="http://origen-sdk.org/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="http://origen-sdk.org/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://origen-sdk.org/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="http://origen-sdk.org/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://origen-sdk.org/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="http://origen-sdk.org/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="http://origen-sdk.org/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="http://origen-sdk.org/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="http://origen-sdk.org/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="http://origen-sdk.org/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="http://origen-sdk.org/manifest.json">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body>
    
      <div class="container">
        <nav class="navbar navbar-inverse navbar-fixed-top"><div class="container">
    <div class="navbar-header">
      <a href="/" class="navbar-brand" style="margin-top: -4px;">
        <img src="http://origen-sdk.org/img/origen-device.png" style="height:30px; margin-right: 2px; display: inline; margin-top: -2px;"><img src="http://origen-sdk.org/img/origen-text.png" style="height:15px; display: inline;"></a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
<li class="dropdown ">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="tour">Tour <span class="caret"></span></a>
          <ul class="dropdown-menu" aria-labelledby="tour">
<li><a href="/origen/tour/basics">Basics</a></li>
            <li class="divider">
            </li>
<li><a href="/origen/tour/test-engineering">Test Engineers</a></li>
            <li><a href="/origen/tour/design-engineering">Design Engineers</a></li>
          </ul>
</li>
        <li class="active"><a href="/origen/guides/starting/introduction">Guides</a></li>
        <li class=""><a href="/origen/api">API</a></li>
        <li class=""><a href="https://github.com/Origen-SDK">Github</a></li>
        <li class=""><a href="/origen/community">Community</a></li>
        <li class=""><a href="/origen/release_notes">Release Notes</a></li>
        <li class=""><a href="/origen/plugins">Plugins</a></li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
</nav><div class="row">
  <div class="col-md-3 sidebar-nav-container">
    <div class="well sidebar-nav" style="margin-top: 20px;">
        <div id="search">
          <form style="margin-bottom: 15px;">
            <div class="input-group">
              <input class="form-control" type="search" placeholder="Search these docs..."><span class="input-group-btn">
                <button type="submit" class="btn btn-search">GO!</button>
              </span>
            </div>
          </form>
        </div>
        <div class="panel-group" id="sidebar-accordion">

          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-0">
              <a class="no-underline">
                Getting Started with Origen
              </a>
            </div>
            <div id="sidebar-collapse-0" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/starting/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/starting/core">Core concepts</a></li>
<li class=""><a href="/origen/guides/starting/installing">How to Install</a></li>
<li class=""><a href="/origen/guides/starting/installwin">How to Install (Windows)</a></li>
<li class=""><a href="/origen/guides/starting/company">Company Customization</a></li>
<li class=""><a href="/origen/guides/starting/gems">Understanding Gems</a></li>
<li class=""><a href="/origen/guides/starting/app">Creating a New App</a></li>
<li class=""><a href="/origen/guides/starting/commit">The Initial Commit</a></li>
                </ul>
</div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-1">
              <a class="no-underline">
                Runtime Environment
              </a>
            </div>
            <div id="sidebar-collapse-1" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/runtime/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/runtime/mode">Mode</a></li>
<li class=""><a href="/origen/guides/runtime/environment">Environment</a></li>
<li class=""><a href="/origen/guides/runtime/target">Target</a></li>
<li class=""><a href="/origen/guides/runtime/production">Production Targets</a></li>
<li class=""><a href="/origen/guides/runtime/global">Global Setup</a></li>
<li class=""><a href="/origen/guides/runtime/loadorder">Load Order</a></li>
<li class=""><a href="/origen/guides/runtime/programming">Programming</a></li>
                </ul>
</div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-2">
              <a class="no-underline">
                Models
              </a>
            </div>
            <div id="sidebar-collapse-2" class="panel-collapse collapse in">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/models/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/models/naming">Naming</a></li>
<li class=""><a href="/origen/guides/models/defining">Definition &amp; Hierarchy</a></li>
<li class=""><a href="/origen/guides/models/attributes">Adding Attributes</a></li>
<li class=""><a href="/origen/guides/models/versioning">Versioning</a></li>
<li class=""><a href="/origen/guides/models/bugs">Bugs &amp; Features</a></li>
<li class="active"><a href="/origen/guides/models/modes">Package, Mode &amp; Configuration</a></li>
<li class=""><a href="/origen/guides/models/registers">Registers</a></li>
<li class=""><a href="/origen/guides/models/pins">Pins</a></li>
<li class=""><a href="/origen/guides/models/hw">Hardware Attributes</a></li>
<li class=""><a href="/origen/guides/models/parameters">Parameters</a></li>
<li class=""><a href="/origen/guides/models/specs">Specifications</a></li>
                </ul>
</div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading clickable" data-toggle="collapse" data-parent="#sidebar-accordion" href="#sidebar-collapse-3">
              <a class="no-underline">
                Compiler
              </a>
            </div>
            <div id="sidebar-collapse-3" class="panel-collapse collapse ">
              <div class="panel-body">
                <ul class="nav nav-list">
<li class=""><a href="/origen/guides/compiler/introduction">Introduction</a></li>
<li class=""><a href="/origen/guides/compiler/creating">Creating Templates</a></li>
<li class=""><a href="/origen/guides/compiler/subtemplates">Using Sub-Templates</a></li>
<li class=""><a href="/origen/guides/compiler/helpers">Helpers</a></li>
<li class=""><a href="/origen/guides/compiler/running">Running The Compiler</a></li>
<li class=""><a href="/origen/guides/compiler/inline">Inline Compiler</a></li>
                </ul>
</div>
            </div>
          </div>
      

        </div>

    </div>
  </div>

  <div class="col-md-9 nav-page-container">
    <article><h3 class="topic-title">Models</h3>

      <h2 class="topic-subtitle">Package, Mode &amp; Configuration</h2>

      <hr>
<p>A given SoC or IP block can typically operate in various modes or configurations
and may have its feature set modulated by the package that it is in.</p>

      <p>The following APIs allow such concepts to be modelled so that they can then be used
to scope things like pin availability.</p>

      <div>    
  <a class="anchor" name="Package"></a>          
  <h4><a href="#Package">Package</a></h4>          
</div>

      <p>This represents the package that the device is in, however this could be a real physical
package or a pseudo package such as the subset of pins available to a given probecard.
The package is an a SoC attribute and therefore this API is only available to models
that include the <code>Origen::TopLevel</code> module.</p>

      <p>A simple package definition requires simply supplying a name for it, here are
some examples but the names are completely arbitrary and you can use whatever you
like:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyDut</span>
  include <span style="color:#036;font-weight:bold">Origen</span>::<span style="color:#036;font-weight:bold">TopLevel</span>

  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>
    add_package <span style="color:#A60">:probe</span>
    add_package <span style="color:#A60">:mapbga</span>
    add_package <span style="color:#A60">:qfp</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
      </div>

      <p>By default the model will boot with no package set, this state would be used
to represent the die with all pins exposed.</p>

      <p>The package state can then be changed as shown:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#d70">$dut</span>.package                  <span style="color:#777"># =&gt; nil</span>
<span style="color:#d70">$dut</span>.package = <span style="color:#A60">:mapbga</span>       
<span style="color:#d70">$dut</span>.package                  <span style="color:#777"># =&gt; &lt;mapbga package object&gt;</span>
<span style="color:#d70">$dut</span>.with_package <span style="color:#A60">:qfp</span> <span style="color:#080;font-weight:bold">do</span>
  <span style="color:#d70">$dut</span>.package                <span style="color:#777"># =&gt; &lt;qfp package object&gt;</span>
<span style="color:#080;font-weight:bold">end</span>
<span style="color:#d70">$dut</span>.package                  <span style="color:#777"># =&gt; &lt;mapbga package object&gt;</span>
</pre></div>
</div>
      </div>

      <p>Packages are objects (an instance of the <a href="/origen/api/Origen/ChipPackage.html"><code>Origen::ChipPackage</code></a> class)
and additional attributes can be set at definition time like this:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>
  add_package <span style="color:#A60">:t2080</span> <span style="color:#080;font-weight:bold">do</span> |package|
    package.number_of_rows = <span style="color:#00D">16</span>
    package.number_of_columns = <span style="color:#00D">16</span>
  <span style="color:#080;font-weight:bold">end</span>
  add_package <span style="color:#A60">:t4080</span> <span style="color:#080;font-weight:bold">do</span> |package|
    package.number_of_rows = <span style="color:#00D">32</span>
    package.number_of_columns = <span style="color:#00D">32</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>

<span style="color:#d70">$dut</span>.package = <span style="color:#A60">:t2080</span>
<span style="color:#d70">$dut</span>.package.number_of_columns     <span style="color:#777"># =&gt; 16</span>
<span style="color:#d70">$dut</span>.package = <span style="color:#A60">:t4080</span>
<span style="color:#d70">$dut</span>.package.number_of_columns     <span style="color:#777"># =&gt; 32</span>
</pre></div>
</div>
      </div>

      <p>See the <a href="/origen/api/Origen/ChipPackage.html">ChipPackage API</a> for the up to
date list of available attributes.</p>

      <div>    
  <a class="anchor" name="Mode"></a>          
  <h4><a href="#Mode">Mode</a></h4>          
</div>

      <p>This represents which mode the device is in, again this can represent a real operating mode
such as user, functional test, RAMBIST, etc. or some abstract concept that is specific to the
given domain.</p>

      <p>The mode API is available to any object that includes <code>Origen::Model</code> and therefore
sub-blocks can also define their own modes and have a mode context independent of the top-level
object.</p>

      <p>Modes are defined and set in the same way as packages, here are some examples:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyDut</span>
  include <span style="color:#036;font-weight:bold">Origen</span>::<span style="color:#036;font-weight:bold">TopLevel</span>

  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>
    add_mode <span style="color:#A60">:user</span>
    add_mode <span style="color:#A60">:rambist</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>

<span style="color:#d70">$dut</span>.mode                     <span style="color:#777"># =&gt; nil</span>
<span style="color:#d70">$dut</span>.mode = <span style="color:#A60">:user</span>          
<span style="color:#d70">$dut</span>.mode                     <span style="color:#777"># =&gt; &lt;user mode object&gt;</span>
<span style="color:#d70">$dut</span>.with_mode <span style="color:#A60">:rambist</span> <span style="color:#080;font-weight:bold">do</span>
  <span style="color:#d70">$dut</span>.mode                   <span style="color:#777"># =&gt; &lt;rambist mode object&gt;</span>
<span style="color:#080;font-weight:bold">end</span>
<span style="color:#d70">$dut</span>.mode                     <span style="color:#777"># =&gt; &lt;user mode object&gt;</span>
</pre></div>
</div>
      </div>

      <p>Note that like packages the modes are represented by objects which can be assigned attributes,
see the <a href="/origen/api/Origen/ChipMode.html">ChipMode API</a> for the up to
date list of available attributes.</p>

      <p>Mode objects do support a convenience API for checking the current mode:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#d70">$dut</span>.mode.user?      <span style="color:#777"># =&gt; false</span>
<span style="color:#d70">$dut</span>.mode.rambist?   <span style="color:#777"># =&gt; true</span>
</pre></div>
</div>
      </div>

      <div>    
  <a class="anchor" name="Configuration"></a>          
  <h4><a href="#Configuration">Configuration</a></h4>          
</div>

      <p>This is another layer which supports the concept that different configurations may exist within
the one mode. More generally it is simply another scope that the application can use to describe
different states/configurations.</p>

      <p>Like modes, the configuration API is available to any object that includes <code>Origen::Model</code> and therefore
sub-blocks can also define their own configurations and have a configuration context independent of the top-level
object.</p>

      <p>Here are some examples:</p>

      <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyDut</span>
  include <span style="color:#036;font-weight:bold">Origen</span>::<span style="color:#036;font-weight:bold">TopLevel</span>

  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>
    add_mode <span style="color:#A60">:user</span>
    add_mode <span style="color:#A60">:bist</span>
    add_configuration <span style="color:#A60">:nvm</span>
    add_configuration <span style="color:#A60">:ram</span>
  <span style="color:#080;font-weight:bold">end</span>

  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">enter_rambist_mode</span>
    <span style="color:#069">self</span>.mode = <span style="color:#A60">:bist</span>
    <span style="color:#069">self</span>.configuration = <span style="color:#A60">:ram</span>
    <span style="color:#777"># In a test application you would generate the necessary vectors to actually do this here</span>
    <span style="color:#777"># Upon exit from this method 3rd parties will now be able to tell that the DUT is in RAMBIST mode/configuration</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>

<span style="color:#d70">$dut</span>.enter_rambist_mode       <span style="color:#777"># =&gt; nil</span>
<span style="color:#d70">$dut</span>.mode.bist?               <span style="color:#777"># =&gt; true</span>
<span style="color:#d70">$dut</span>.configuration            <span style="color:#777"># =&gt; :ram</span>
</pre></div>
</div>
      </div>

      <p>Note that currently the configuration is not represented as an object and therefore cannot
store additional attributes associated with the given configuration.</p>

      <div style="position: relative">
  <hr>
<div>    
  <a class="anchor" name="Comments"></a>          
  <h4><a href="#Comments">Comments</a></h4>          
</div>
</div>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'origen-sdk';
    var disqus_title;
    var disqus_url = 'http://' + window.location.hostname + window.location.pathname;

    disqus_title = $("h1").text();
    if (disqus_title.length == 0) {
      disqus_title = $("h2").text();
    }
    if (disqus_title.length == 0) {
      disqus_title = $("h3").text();
    }
    if (disqus_title.length == 0) {
      disqus_title = $("title").text();
    } else {
      disqus_title = disqus_title + ' (' + $("title").text() + ')';
    }

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>

    </article>
</div>
</div>

<script src="/origen/search.js"></script>
      </div><!-- /.container -->
    

    <footer class="footer">
      <div class="container">
        <p class="pull-left text-muted">
          Generated with the <a href="http://origen-sdk.org">Origen Semiconductor Developer's Kit</a>
        </p>
        <p class="pull-right text-muted">Origen is released under the terms of the <a href="http://choosealicense.com/licenses/lgpl-3.0/">LGPLv3</a></p>
      </div>
    </footer>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="http://origen-sdk.org/js/lunr.min.js"></script>
    <script src="http://origen-sdk.org/js/highlight.js"></script>
    <script src="http://origen-sdk.org/js/custom.js"></script>
  </body>
</html>

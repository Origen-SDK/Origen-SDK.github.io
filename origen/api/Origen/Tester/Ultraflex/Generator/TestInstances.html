<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Origen::Tester::Ultraflex::Generator::TestInstances
  
    &mdash; Origen Core 0.0.4
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../../../';
  framesUrl = "../../../../frames.html#!Origen/Tester/Ultraflex/Generator/TestInstances.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Origen.html" title="Origen (module)">Origen</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Tester.html" title="Origen::Tester (module)">Tester</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Ultraflex.html" title="Origen::Tester::Ultraflex (class)">Ultraflex</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Generator.html" title="Origen::Tester::Ultraflex::Generator (module)">Generator</a></span></span>
     &raquo; 
    <span class="title">TestInstances</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Origen::Tester::Ultraflex::Generator::TestInstances
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Origen::Tester::Ultraflex::Generator::TestInstances</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../../Generator.html" title="Origen::Tester::Generator (module)">Generator</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/origen/tester/ultraflex/generator/test_instances.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="TestInstances/IndexedString.html" title="Origen::Tester::Ultraflex::Generator::TestInstances::IndexedString (class)">IndexedString</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="TEMPLATE-constant" class="">TEMPLATE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Origen</span><span class='period'>.</span><span class='id identifier rubyid_top'>top</span><span class='embexpr_end'>}</span><span class='tstring_content'>/lib/origen/tester/ultraflex/generator/templates/instances.txt.erb</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="OUTPUT_POSTFIX-constant" class="">OUTPUT_POSTFIX =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>instances</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add-instance_method" title="#add (instance method)">- (Object) <strong>add</strong>(name, type, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bpmu-instance_method" title="#bpmu (instance method)">- (Object) <strong>bpmu</strong>(name, options = {}) </a>
    

    
      (also: #board_pmu)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty-instance_method" title="#empty (instance method)">- (Object) <strong>empty</strong>(name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#finalize-instance_method" title="#finalize (instance method)">- (Object) <strong>finalize</strong>(_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#functional-instance_method" title="#functional (instance method)">- (Object) <strong>functional</strong>(name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#group-instance_method" title="#group (instance method)">- (Object) <strong>group</strong>(name = nil, options = {}) {|@current_group| ... }</a>
    

    
      (also: #add_group)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>IG-XL doesn&#39;t have a formal instance group type and instead declares
them anonymously whenever test instances of the same name appear
consecutively in the test instance sheet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#other-instance_method" title="#other (instance method)">- (Object) <strong>other</strong>(name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ppmu-instance_method" title="#ppmu (instance method)">- (Object) <strong>ppmu</strong>(name, options = {}) </a>
    

    
      (also: #pin_pmu)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sort%21-instance_method" title="#sort! (instance method)">- (Object) <strong>sort!</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uniq%21-instance_method" title="#uniq! (instance method)">- (Object) <strong>uniq!</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../Generator.html" title="Origen::Tester::Generator (module)">Generator</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../Generator.html#close-instance_method" title="Origen::Tester::Generator#close (method)">#close</a></span>, <span class='object_link'><a href="../../Generator.html#collection-instance_method" title="Origen::Tester::Generator#collection (method)">#collection</a></span>, <span class='object_link'><a href="../../Generator.html#collection%3D-instance_method" title="Origen::Tester::Generator#collection= (method)">#collection=</a></span>, <span class='object_link'><a href="../../Generator.html#compiler-instance_method" title="Origen::Tester::Generator#compiler (method)">#compiler</a></span>, <span class='object_link'><a href="../../Generator.html#current_dir-instance_method" title="Origen::Tester::Generator#current_dir (method)">#current_dir</a></span>, <span class='object_link'><a href="../../Generator.html#dont_diff%3D-instance_method" title="Origen::Tester::Generator#dont_diff= (method)">#dont_diff=</a></span>, <span class='object_link'><a href="../../Generator.html#execute_source-class_method" title="Origen::Tester::Generator.execute_source (method)">execute_source</a></span>, <span class='object_link'><a href="../../Generator.html#file_extension-instance_method" title="Origen::Tester::Generator#file_extension (method)">#file_extension</a></span>, <span class='object_link'><a href="../../Generator.html#file_pipeline-instance_method" title="Origen::Tester::Generator#file_pipeline (method)">#file_pipeline</a></span>, <span class='object_link'><a href="../../Generator.html#filename-instance_method" title="Origen::Tester::Generator#filename (method)">#filename</a></span>, <span class='object_link'><a href="../../Generator.html#filename%3D-instance_method" title="Origen::Tester::Generator#filename= (method)">#filename=</a></span>, <span class='object_link'><a href="../../Generator.html#identity_map-instance_method" title="Origen::Tester::Generator#identity_map (method)">#identity_map</a></span>, <span class='object_link'><a href="../../Generator.html#import-instance_method" title="Origen::Tester::Generator#import (method)">#import</a></span>, <span class='object_link'><a href="../../Generator.html#inhibit_output-instance_method" title="Origen::Tester::Generator#inhibit_output (method)">#inhibit_output</a></span>, <span class='object_link'><a href="../../Generator.html#on_close-instance_method" title="Origen::Tester::Generator#on_close (method)">#on_close</a></span>, <span class='object_link'><a href="../../Generator.html#output_file-instance_method" title="Origen::Tester::Generator#output_file (method)">#output_file</a></span>, <span class='object_link'><a href="../../Generator.html#output_inhibited%3F-instance_method" title="Origen::Tester::Generator#output_inhibited? (method)">#output_inhibited?</a></span>, <span class='object_link'><a href="../../Generator.html#reference_file-instance_method" title="Origen::Tester::Generator#reference_file (method)">#reference_file</a></span>, <span class='object_link'><a href="../../Generator.html#render-instance_method" title="Origen::Tester::Generator#render (method)">#render</a></span>, <span class='object_link'><a href="../../Generator.html#set_flow_description-instance_method" title="Origen::Tester::Generator#set_flow_description (method)">#set_flow_description</a></span>, <span class='object_link'><a href="../../Generator.html#stats-instance_method" title="Origen::Tester::Generator#stats (method)">#stats</a></span>, <span class='object_link'><a href="../../Generator.html#to_be_written%3F-instance_method" title="Origen::Tester::Generator#to_be_written? (method)">#to_be_written?</a></span>, <span class='object_link'><a href="../../Generator.html#write_from_template-instance_method" title="Origen::Tester::Generator#write_from_template (method)">#write_from_template</a></span>, <span class='object_link'><a href="../../Generator.html#write_to_file-instance_method" title="Origen::Tester::Generator#write_to_file (method)">#write_to_file</a></span></p>

  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>add</strong>(name, type, options = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>test_instance_class:</span> <span class='const'>TestInstance</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ins'>ins</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:test_instance_class</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@current_group</span>
    <span class='ivar'>@current_group</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_ins'>ins</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_collection'>collection</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_ins'>ins</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='const'>Origen</span><span class='period'>.</span><span class='id identifier rubyid_interface'>interface</span><span class='period'>.</span><span class='id identifier rubyid_consume_comments'>consume_comments</span>
  <span class='const'>Origen</span><span class='period'>.</span><span class='id identifier rubyid_interface'>interface</span><span class='period'>.</span><span class='id identifier rubyid_descriptions'>descriptions</span><span class='period'>.</span><span class='id identifier rubyid_add_for_test_definition'>add_for_test_definition</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ins'>ins</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bpmu-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>bpmu</strong>(name, options = {}) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='board_pmu-instance_method'>board_pmu</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 149</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bpmu'>bpmu</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:board_pmu</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>empty</strong>(name, options = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_empty'>empty</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:empty</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="finalize-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>finalize</strong>(_options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_finalize'>finalize</span><span class='lparen'>(</span><span class='id identifier rubyid__options'>_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_uniq!'>uniq!</span>
  <span class='id identifier rubyid_sort!'>sort!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="functional-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>functional</strong>(name, options = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 159</span>

<span class='kw'>def</span> <span class='id identifier rubyid_functional'>functional</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:functional</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="group-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>group</strong>(name = nil, options = {}) {|@current_group| ... }
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='add_group-instance_method'>add_group</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>IG-XL doesn&#39;t have a formal instance group type and instead declares
them anonymously whenever test instances of the same name appear
consecutively in the test instance sheet. However when it comes to
generating a test program life becomes much easier if we have a way to
explicitly declare instances as part of a group - this makes duplicate
tracking and sorting of the test instance sheet much easier.</p>

<p>Use this method to generate instance groups via a block. Within the the
block you should generate instances as normal and they will automatically
be assigned to the current group. Note that the name of the instances
generated within the group is discarded and replaced with the name of the
group. Origen automatically appends “grp” to this name to highlight
instances that were generated as part of the group.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_test_instances'>test_instances</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>erase_all_blocks</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
  <span class='comment'># Generate instances here as normal
</span>  <span class='id identifier rubyid_test_instances'>test_instances</span><span class='period'>.</span><span class='id identifier rubyid_functional'>functional</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>erase_blk0</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_test_instances'>test_instances</span><span class='period'>.</span><span class='id identifier rubyid_functional'>functional</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>erase_blk1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<p>The group object is passed into the block but usually you should not need
to interact with this directly except maybe to set the name if it is not
yet established at the point where the group is initiated:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_test_instances'>test_instances</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
  <span class='comment'># Generate instances here as normal
</span>  <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>group_blah</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>A common way to generate groups is to create a helper method in your
application which is responsible for creating groups as required:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_group_wrapper'>group_wrapper</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:by_block</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_test_instances'>test_instances</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_group'>group</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>In that case the group argument becomes quite useful for branching based on
whether you are generating a group or standalone instances:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_group_wrapper'>group_wrapper</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_group'>group</span>
    <span class='comment'># Generate group instances
</span>  <span class='kw'>else</span>
    <span class='comment'># Generate standalone instances
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>@current_group</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
  <span class='ivar'>@current_group</span> <span class='op'>=</span> <span class='const'>TestInstanceGroup</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_collection'>collection</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@current_group</span>
  <span class='kw'>yield</span> <span class='ivar'>@current_group</span>
  <span class='ivar'>@current_group</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="other-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>other</strong>(name, options = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 167</span>

<span class='kw'>def</span> <span class='id identifier rubyid_other'>other</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:other</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ppmu-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ppmu</strong>(name, options = {}) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='pin_pmu-instance_method'>pin_pmu</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ppmu'>ppmu</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:pin_pmu</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sort!-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>sort!</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144
145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sort!'>sort!</span> <span class='comment'># :nodoc:
</span>  <span class='comment'># Present the instances in the final sheet in alphabetical order
</span>  <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ins'>ins</span><span class='comma'>,</span> <span class='id identifier rubyid__i'>_i</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_ins'>ins</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>   <span class='comment'># Can happen if content has been rendered in from a template
</span>      <span class='id identifier rubyid_ins'>ins</span> <span class='op'>=</span> <span class='const'>IndexedString</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_ins'>ins</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_ins'>ins</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>&lt;=&gt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uniq!-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>uniq!</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/ultraflex/generator/test_instances.rb', line 98</span>

<span class='kw'>def</span> <span class='id identifier rubyid_uniq!'>uniq!</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_uniques'>uniques</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_multi_version_tests'>multi_version_tests</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_instance'>instance</span><span class='op'>|</span>
    <span class='comment'># If a uniquely named instance is found add it, otherwise update the version
</span>    <span class='comment'># of the current instance to match that of the existing instance that it duplicates
</span>    <span class='kw'>unless</span> <span class='id identifier rubyid_uniques'>uniques</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='id identifier rubyid_instance'>instance</span>
        <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
        <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='kw'>false</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:version=</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_versions'>versions</span><span class='lbracket'>[</span><span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_unversioned_name'>unversioned_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='int'>0</span>
        <span class='id identifier rubyid_versions'>versions</span><span class='lbracket'>[</span><span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_unversioned_name'>unversioned_name</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_versions'>versions</span><span class='lbracket'>[</span><span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_unversioned_name'>unversioned_name</span><span class='rbracket'>]</span> <span class='op'>&gt;</span> <span class='int'>1</span>
          <span class='id identifier rubyid_multi_version_tests'>multi_version_tests</span><span class='lbracket'>[</span><span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_unversioned_name'>unversioned_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_versions'>versions</span><span class='lbracket'>[</span><span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_unversioned_name'>unversioned_name</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_uniques'>uniques</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_instance'>instance</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># This final loop disables the version identifier for tests that have only a single version,
</span>  <span class='comment'># this makes it clearer when multiple versions exist - whenever you see a v1 you know there
</span>  <span class='comment'># is at least a v2 also.
</span>  <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_instance'>instance</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:version=</span><span class='rparen'>)</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_multi_version_tests'>multi_version_tests</span><span class='lbracket'>[</span><span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_unversioned_name'>unversioned_name</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_append_version'>append_version</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_instance'>instance</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collection'>collection</span> <span class='op'>=</span> <span class='id identifier rubyid_uniques'>uniques</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jun 25 13:48:36 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.5).
</div>

  </body>
</html>
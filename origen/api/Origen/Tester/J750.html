<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Origen::Tester::J750
  
    &mdash; Origen Core 0.0.4
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!Origen/Tester/J750.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (J)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Tester.html" title="Origen::Tester (module)">Tester</a></span></span>
     &raquo; 
    <span class="title">J750</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Origen::Tester::J750
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Origen::Tester::J750</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../Tester.html" title="Origen::Tester (module)">Origen::Tester</a></span>, <span class='object_link'><a href="J750/Files.html" title="Origen::Tester::J750::Files (module)">Files</a></span>, <span class='object_link'><a href="Parser.html" title="Origen::Tester::Parser (module)">Parser</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/origen/tester/j750/j750.rb<span class="defines">,<br />
  lib/origen/tester/j750/files.rb,<br /> lib/origen/tester/j750/parser.rb,<br /> lib/origen/tester/j750/generator.rb,<br /> lib/origen/tester/j750/parser/flow.rb,<br /> lib/origen/tester/j750/parser/flows.rb,<br /> lib/origen/tester/j750/parser/ac_spec.rb,<br /> lib/origen/tester/j750/parser/timeset.rb,<br /> lib/origen/tester/j750/parser/dc_spec.rb,<br /> lib/origen/tester/j750/generator/flow.rb,<br /> lib/origen/tester/j750/parser/dc_specs.rb,<br /> lib/origen/tester/j750/parser/flow_line.rb,<br /> lib/origen/tester/j750/generator/patset.rb,<br /> lib/origen/tester/j750/generator/patsets.rb,<br /> lib/origen/tester/j750/parser/pattern_set.rb,<br /> lib/origen/tester/j750/generator/patgroup.rb,<br /> lib/origen/tester/j750/parser/descriptions.rb,<br /> lib/origen/tester/j750/generator/flow_line.rb,<br /> lib/origen/tester/j750/parser/pattern_sets.rb,<br /> lib/origen/tester/j750/generator/patgroups.rb,<br /> lib/origen/tester/j750/parser/test_instance.rb,<br /> lib/origen/tester/j750/parser/test_instances.rb,<br /> lib/origen/tester/j750/generator/test_instance.rb,<br /> lib/origen/tester/j750/generator/test_instances.rb,<br /> lib/origen/tester/j750/generator/test_instance_group.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Tester model to generate .atp patterns for the Teradyne J750</p>

<h2 id="label-Basic+Usage">Basic Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span> <span class='op'>=</span> <span class='const'>Origen</span><span class='op'>::</span><span class='const'>Tester</span><span class='op'>::</span><span class='const'>J750</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>       <span class='comment'># Generate a vector</span></code></pre>

<p>Many more methods exist to generate J750 specific micro-code, see below for
details.</p>

<p>Also note that this class inherits from the base Tester class and so all
methods described there are also available.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="J750_HPT.html" title="Origen::Tester::J750_HPT (class)">J750_HPT</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="J750/Files.html" title="Origen::Tester::J750::Files (module)">Files</a></span>, <span class='object_link'><a href="J750/Generator.html" title="Origen::Tester::J750::Generator (module)">Generator</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="J750/Parser.html" title="Origen::Tester::J750::Parser (class)">Parser</a></span>
    
  
</p>




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#software_version-instance_method" title="#software_version (instance method)">- (Object) <strong>software_version</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute software_version.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_hv_pin-instance_method" title="#use_hv_pin (instance method)">- (Object) <strong>use_hv_pin</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute use_hv_pin.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="API.html" title="Origen::Tester::API (module)">API</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="API.html#comment_level-instance_method" title="Origen::Tester::API#comment_level (method)">#comment_level</a></span>, <span class='object_link'><a href="API.html#generating-instance_method" title="Origen::Tester::API#generating (method)">#generating</a></span>, <span class='object_link'><a href="API.html#includes-instance_method" title="Origen::Tester::API#includes (method)">#includes</a></span>, <span class='object_link'><a href="API.html#inhibit_comments-instance_method" title="Origen::Tester::API#inhibit_comments (method)">#inhibit_comments</a></span>, <span class='object_link'><a href="API.html#inhibit_vectors-instance_method" title="Origen::Tester::API#inhibit_vectors (method)">#inhibit_vectors</a></span></p>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hpt_mode-class_method" title="hpt_mode (class method)">+ (Object) <strong>hpt_mode</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hpt_mode%3F-class_method" title="hpt_mode? (class method)">+ (Boolean) <strong>hpt_mode?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#branch_to-instance_method" title="#branch_to (instance method)">- (Object) <strong>branch_to</strong>(label) </a>
    

    
      (also: #branch)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Branch execution to the given point.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_match-instance_method" title="#call_match (instance method)">- (Object) <strong>call_match</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Call a match loop.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_subroutine-instance_method" title="#call_subroutine (instance method)">- (Object) <strong>call_subroutine</strong>(name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Call a subroutine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#called_subroutines-instance_method" title="#called_subroutines (instance method)">- (Object) <strong>called_subroutines</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of subroutines called while generating the current
pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enable_flag-instance_method" title="#enable_flag (instance method)">- (Object) <strong>enable_flag</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><ul><li>
<p>J750 Specific *.</p>
</li></ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end_subroutine-instance_method" title="#end_subroutine (instance method)">- (Object) <strong>end_subroutine</strong>(cond = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>End a subroutine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flows-instance_method" title="#flows (instance method)">- (Object) <strong>flows</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_vector-instance_method" title="#format_vector (instance method)">- (Object) <strong>format_vector</strong>(vec) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is an internal method use by Origen which returns a fully formatted
vector You can override this if you wish to change the output formatting at
vector level.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#freq_count-instance_method" title="#freq_count (instance method)">- (Object) <strong>freq_count</strong>(pin, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do a frequency measure.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handshake-instance_method" title="#handshake (instance method)">- (Object) <strong>handshake</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handshake with the tester.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ignore_fails-instance_method" title="#ignore_fails (instance method)">- (Object) <strong>ignore_fails</strong>(*pins) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (J750) <strong>initialize</strong> </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new J750 instance, normally there would only ever be one of these
assigned to the global variable such as $tester by your target:   $tester =
J750.new.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#j750%3F-instance_method" title="#j750? (instance method)">- (Boolean) <strong>j750?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#label-instance_method" title="#label (instance method)">- (Object) <strong>label</strong>(name, global = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Apply a label to the pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_subroutines-instance_method" title="#local_subroutines (instance method)">- (Object) <strong>local_subroutines</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of subroutines created by the current pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loop_vectors-instance_method" title="#loop_vectors (instance method)">- (Object) <strong>loop_vectors</strong>(name, number_of_loops, global = false, label_first = false) </a>
    

    
      (also: #loop_vector)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add loop to the pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match-instance_method" title="#match (instance method)">- (Object) <strong>match</strong>(pin, state, timeout, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a match loop on up to two pins.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match_block-instance_method" title="#match_block (instance method)">- (Object) <strong>match_block</strong>(timeout, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a match loop based on vector condition passed in via block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#memory_test-instance_method" title="#memory_test (instance method)">- (Object) <strong>memory_test</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><ul><li>
<p>J750 Specific *.</p>
</li></ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser-instance_method" title="#parser (instance method)">- (Object) <strong>parser</strong>(prog_dir = Origen.config.test_program_output_directory) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Main accessor to all content parsed from existing test program sheets found
in the supplied directory or in
Origen.config.test_program_output_directory.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pattern_footer-instance_method" title="#pattern_footer (instance method)">- (Object) <strong>pattern_footer</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An internal method called by Origen to generate the pattern footer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pattern_header-instance_method" title="#pattern_header (instance method)">- (Object) <strong>pattern_header</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An internal method called by Origen to create the pattern header.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#push_microcode-instance_method" title="#push_microcode (instance method)">- (Object) <strong>push_microcode</strong>(code) </a>
    

    
      (also: #microcode)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Override this to force the formatting to match the v1 J750 model (easier
diffs).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#repeat_previous-instance_method" title="#repeat_previous (instance method)">- (Object) <strong>repeat_previous</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>All vectors generated with the supplied block will have all pins set to the
repeat previous state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_code-instance_method" title="#set_code (instance method)">- (Object) <strong>set_code</strong>(code) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><ul><li>
<p>J750 Specific *.</p>
</li></ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_flag-instance_method" title="#set_flag (instance method)">- (Object) <strong>set_flag</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><ul><li>
<p>J750 Specific *.</p>
</li></ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_subroutine-instance_method" title="#start_subroutine (instance method)">- (Object) <strong>start_subroutine</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Start a subroutine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store-instance_method" title="#store (instance method)">- (Object) <strong>store</strong>(*pins) </a>
    

    
      (also: #to_hram, #capture)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Capture a vector to the tester HRAM.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store_next_cycle-instance_method" title="#store_next_cycle (instance method)">- (Object) <strong>store_next_cycle</strong>(*pins) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Capture the next vector generated to HRAM.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="J750/Files.html" title="Origen::Tester::J750::Files (module)">Files</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="J750/Files.html#read_test_times-instance_method" title="Origen::Tester::J750::Files#read_test_times (method)">#read_test_times</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Parser.html" title="Origen::Tester::Parser (module)">Parser</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Parser.html#parse-instance_method" title="Origen::Tester::Parser#parse (method)">#parse</a></span>, <span class='object_link'><a href="Parser.html#tests-instance_method" title="Origen::Tester::Parser#tests (method)">#tests</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Tester.html" title="Origen::Tester (module)">Origen::Tester</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Tester.html#register_tester-instance_method" title="Origen::Tester#register_tester (method)">#register_tester</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="API.html" title="Origen::Tester::API (module)">API</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="API.html#annotate-instance_method" title="Origen::Tester::API#annotate (method)">#annotate</a></span>, <span class='object_link'><a href="API.html#any_clocks_running%3F-instance_method" title="Origen::Tester::API#any_clocks_running? (method)">#any_clocks_running?</a></span>, <span class='object_link'><a href="API.html#c1-instance_method" title="Origen::Tester::API#c1 (method)">#c1</a></span>, <span class='object_link'><a href="API.html#c2-instance_method" title="Origen::Tester::API#c2 (method)">#c2</a></span>, <span class='object_link'><a href="API.html#clocks_running-instance_method" title="Origen::Tester::API#clocks_running (method)">#clocks_running</a></span>, <span class='object_link'><a href="API.html#comment_char-instance_method" title="Origen::Tester::API#comment_char (method)">#comment_char</a></span>, <span class='object_link'><a href="API.html#cycle-instance_method" title="Origen::Tester::API#cycle (method)">#cycle</a></span>, <span class='object_link'><a href="API.html#doc%3F-instance_method" title="Origen::Tester::API#doc? (method)">#doc?</a></span>, <span class='object_link'><a href="API.html#generate%3F-instance_method" title="Origen::Tester::API#generate? (method)">#generate?</a></span>, <span class='object_link'><a href="API.html#generating_pattern%3F-instance_method" title="Origen::Tester::API#generating_pattern? (method)">#generating_pattern?</a></span>, <span class='object_link'><a href="API.html#generating_program%3F-instance_method" title="Origen::Tester::API#generating_program? (method)">#generating_program?</a></span>, <span class='object_link'><a href="API.html#import_test_time-instance_method" title="Origen::Tester::API#import_test_time (method)">#import_test_time</a></span>, <span class='object_link'><a href="API.html#inhibit_vectors_and_comments-instance_method" title="Origen::Tester::API#inhibit_vectors_and_comments (method)">#inhibit_vectors_and_comments</a></span>, <span class='object_link'><a href="API.html#is_command_based%3F-instance_method" title="Origen::Tester::API#is_command_based? (method)">#is_command_based?</a></span>, <span class='object_link'><a href="API.html#is_vector_based%3F-instance_method" title="Origen::Tester::API#is_vector_based? (method)">#is_vector_based?</a></span>, <span class='object_link'><a href="API.html#j750_hpt%3F-instance_method" title="Origen::Tester::API#j750_hpt? (method)">#j750_hpt?</a></span>, <span class='object_link'><a href="API.html#name-instance_method" title="Origen::Tester::API#name (method)">#name</a></span>, <span class='object_link'><a href="API.html#pat_extension-instance_method" title="Origen::Tester::API#pat_extension (method)">#pat_extension</a></span>, <span class='object_link'><a href="API.html#pattern_section-instance_method" title="Origen::Tester::API#pattern_section (method)">#pattern_section</a></span>, <span class='object_link'><a href="API.html#pins_need_toggling-instance_method" title="Origen::Tester::API#pins_need_toggling (method)">#pins_need_toggling</a></span>, <span class='object_link'><a href="API.html#pop_running_clock-instance_method" title="Origen::Tester::API#pop_running_clock (method)">#pop_running_clock</a></span>, <span class='object_link'><a href="API.html#program_comment_char-instance_method" title="Origen::Tester::API#program_comment_char (method)">#program_comment_char</a></span>, <span class='object_link'><a href="API.html#push_running_clock-instance_method" title="Origen::Tester::API#push_running_clock (method)">#push_running_clock</a></span>, <span class='object_link'><a href="API.html#slice_repeats-instance_method" title="Origen::Tester::API#slice_repeats (method)">#slice_repeats</a></span>, <span class='object_link'><a href="API.html#snip-instance_method" title="Origen::Tester::API#snip (method)">#snip</a></span>, <span class='object_link'><a href="API.html#ss-instance_method" title="Origen::Tester::API#ss (method)">#ss</a></span>, <span class='object_link'><a href="API.html#step_comment_prefix-instance_method" title="Origen::Tester::API#step_comment_prefix (method)">#step_comment_prefix</a></span>, <span class='object_link'><a href="API.html#ultraflex%3F-instance_method" title="Origen::Tester::API#ultraflex? (method)">#ultraflex?</a></span>, <span class='object_link'><a href="API.html#update_running_clocks-instance_method" title="Origen::Tester::API#update_running_clocks (method)">#update_running_clocks</a></span>, <span class='object_link'><a href="API.html#v93k%3F-instance_method" title="Origen::Tester::API#v93k? (method)">#v93k?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Timing.html" title="Origen::Tester::Timing (module)">Timing</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Timing.html#before_timeset_change-instance_method" title="Origen::Tester::Timing#before_timeset_change (method)">#before_timeset_change</a></span>, <span class='object_link'><a href="Timing.html#called_timesets-instance_method" title="Origen::Tester::Timing#called_timesets (method)">#called_timesets</a></span>, <span class='object_link'><a href="Timing.html#count-instance_method" title="Origen::Tester::Timing#count (method)">#count</a></span>, <span class='object_link'><a href="Timing.html#current_period_in_ns-instance_method" title="Origen::Tester::Timing#current_period_in_ns (method)">#current_period_in_ns</a></span>, <span class='object_link'><a href="Timing.html#current_timeset-instance_method" title="Origen::Tester::Timing#current_timeset (method)">#current_timeset</a></span>, <span class='object_link'><a href="Timing.html#cycles_to_ms-instance_method" title="Origen::Tester::Timing#cycles_to_ms (method)">#cycles_to_ms</a></span>, <span class='object_link'><a href="Timing.html#cycles_to_time-instance_method" title="Origen::Tester::Timing#cycles_to_time (method)">#cycles_to_time</a></span>, <span class='object_link'><a href="Timing.html#cycles_to_ts-instance_method" title="Origen::Tester::Timing#cycles_to_ts (method)">#cycles_to_ts</a></span>, <span class='object_link'><a href="Timing.html#cycles_to_us-instance_method" title="Origen::Tester::Timing#cycles_to_us (method)">#cycles_to_us</a></span>, <span class='object_link'><a href="Timing.html#delay-instance_method" title="Origen::Tester::Timing#delay (method)">#delay</a></span>, <span class='object_link'><a href="Timing.html#max_repeat_loop-instance_method" title="Origen::Tester::Timing#max_repeat_loop (method)">#max_repeat_loop</a></span>, <span class='object_link'><a href="Timing.html#ms_to_cycles-instance_method" title="Origen::Tester::Timing#ms_to_cycles (method)">#ms_to_cycles</a></span>, <span class='object_link'><a href="Timing.html#ns_to_cycles-instance_method" title="Origen::Tester::Timing#ns_to_cycles (method)">#ns_to_cycles</a></span>, <span class='object_link'><a href="Timing.html#s_to_cycles-instance_method" title="Origen::Tester::Timing#s_to_cycles (method)">#s_to_cycles</a></span>, <span class='object_link'><a href="Timing.html#set_timeset-instance_method" title="Origen::Tester::Timing#set_timeset (method)">#set_timeset</a></span>, <span class='object_link'><a href="Timing.html#timeset_changed-instance_method" title="Origen::Tester::Timing#timeset_changed (method)">#timeset_changed</a></span>, <span class='object_link'><a href="Timing.html#us_to_cycles-instance_method" title="Origen::Tester::Timing#us_to_cycles (method)">#us_to_cycles</a></span>, <span class='object_link'><a href="Timing.html#wait-instance_method" title="Origen::Tester::Timing#wait (method)">#wait</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="VectorGenerator.html" title="Origen::Tester::VectorGenerator (module)">VectorGenerator</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="VectorGenerator.html#_render-instance_method" title="Origen::Tester::VectorGenerator#_render (method)">#_render</a></span>, <span class='object_link'><a href="VectorGenerator.html#add_microcode_to_last_or_cycle-instance_method" title="Origen::Tester::VectorGenerator#add_microcode_to_last_or_cycle (method)">#add_microcode_to_last_or_cycle</a></span>, <span class='object_link'><a href="VectorGenerator.html#before_write_pattern_line-instance_method" title="Origen::Tester::VectorGenerator#before_write_pattern_line (method)">#before_write_pattern_line</a></span>, <span class='object_link'><a href="VectorGenerator.html#compressable_vector%3F-instance_method" title="Origen::Tester::VectorGenerator#compressable_vector? (method)">#compressable_vector?</a></span>, <span class='object_link'><a href="VectorGenerator.html#current_pin_vals-instance_method" title="Origen::Tester::VectorGenerator#current_pin_vals (method)">#current_pin_vals</a></span>, <span class='object_link'><a href="VectorGenerator.html#cycle_count-instance_method" title="Origen::Tester::VectorGenerator#cycle_count (method)">#cycle_count</a></span>, <span class='object_link'><a href="VectorGenerator.html#dec_vec_count-instance_method" title="Origen::Tester::VectorGenerator#dec_vec_count (method)">#dec_vec_count</a></span>, <span class='object_link'><a href="VectorGenerator.html#dont_compress-instance_method" title="Origen::Tester::VectorGenerator#dont_compress (method)">#dont_compress</a></span>, <span class='object_link'><a href="VectorGenerator.html#dont_compress%3D-instance_method" title="Origen::Tester::VectorGenerator#dont_compress= (method)">#dont_compress=</a></span>, <span class='object_link'><a href="VectorGenerator.html#expand_vector-instance_method" title="Origen::Tester::VectorGenerator#expand_vector (method)">#expand_vector</a></span>, <span class='object_link'><a href="VectorGenerator.html#format-instance_method" title="Origen::Tester::VectorGenerator#format (method)">#format</a></span>, <span class='object_link'><a href="VectorGenerator.html#format_pin_state-instance_method" title="Origen::Tester::VectorGenerator#format_pin_state (method)">#format_pin_state</a></span>, <span class='object_link'><a href="VectorGenerator.html#get_pingroup-instance_method" title="Origen::Tester::VectorGenerator#get_pingroup (method)">#get_pingroup</a></span>, <span class='object_link'><a href="VectorGenerator.html#inc_cycle_count-instance_method" title="Origen::Tester::VectorGenerator#inc_cycle_count (method)">#inc_cycle_count</a></span>, <span class='object_link'><a href="VectorGenerator.html#inc_vec_count-instance_method" title="Origen::Tester::VectorGenerator#inc_vec_count (method)">#inc_vec_count</a></span>, <span class='object_link'><a href="VectorGenerator.html#inhibit_pin-instance_method" title="Origen::Tester::VectorGenerator#inhibit_pin (method)">#inhibit_pin</a></span>, <span class='object_link'><a href="VectorGenerator.html#inhibited_pins-instance_method" title="Origen::Tester::VectorGenerator#inhibited_pins (method)">#inhibited_pins</a></span>, <span class='object_link'><a href="VectorGenerator.html#last_object-instance_method" title="Origen::Tester::VectorGenerator#last_object (method)">#last_object</a></span>, <span class='object_link'><a href="VectorGenerator.html#last_vector-instance_method" title="Origen::Tester::VectorGenerator#last_vector (method)">#last_vector</a></span>, <span class='object_link'><a href="VectorGenerator.html#multi_mode_optimize-instance_method" title="Origen::Tester::VectorGenerator#multi_mode_optimize (method)">#multi_mode_optimize</a></span>, <span class='object_link'><a href="VectorGenerator.html#optimize-instance_method" title="Origen::Tester::VectorGenerator#optimize (method)">#optimize</a></span>, <span class='object_link'><a href="VectorGenerator.html#ordered_pins-instance_method" title="Origen::Tester::VectorGenerator#ordered_pins (method)">#ordered_pins</a></span>, <span class='object_link'><a href="VectorGenerator.html#ordered_pins_cache-instance_method" title="Origen::Tester::VectorGenerator#ordered_pins_cache (method)">#ordered_pins_cache</a></span>, <span class='object_link'><a href="VectorGenerator.html#pingroup_map-instance_method" title="Origen::Tester::VectorGenerator#pingroup_map (method)">#pingroup_map</a></span>, <span class='object_link'><a href="VectorGenerator.html#pipeline-instance_method" title="Origen::Tester::VectorGenerator#pipeline (method)">#pipeline</a></span>, <span class='object_link'><a href="VectorGenerator.html#preset_next_vector-instance_method" title="Origen::Tester::VectorGenerator#preset_next_vector (method)">#preset_next_vector</a></span>, <span class='object_link'><a href="VectorGenerator.html#push_comment-instance_method" title="Origen::Tester::VectorGenerator#push_comment (method)">#push_comment</a></span>, <span class='object_link'><a href="VectorGenerator.html#push_vector-instance_method" title="Origen::Tester::VectorGenerator#push_vector (method)">#push_vector</a></span>, <span class='object_link'><a href="VectorGenerator.html#render-instance_method" title="Origen::Tester::VectorGenerator#render (method)">#render</a></span>, <span class='object_link'><a href="VectorGenerator.html#render_body-instance_method" title="Origen::Tester::VectorGenerator#render_body (method)">#render_body</a></span>, <span class='object_link'><a href="VectorGenerator.html#render_footer-instance_method" title="Origen::Tester::VectorGenerator#render_footer (method)">#render_footer</a></span>, <span class='object_link'><a href="VectorGenerator.html#render_header-instance_method" title="Origen::Tester::VectorGenerator#render_header (method)">#render_header</a></span>, <span class='object_link'><a href="VectorGenerator.html#render_template-instance_method" title="Origen::Tester::VectorGenerator#render_template (method)">#render_template</a></span>, <span class='object_link'><a href="VectorGenerator.html#reset_cycle_count-instance_method" title="Origen::Tester::VectorGenerator#reset_cycle_count (method)">#reset_cycle_count</a></span>, <span class='object_link'><a href="VectorGenerator.html#stage-instance_method" title="Origen::Tester::VectorGenerator#stage (method)">#stage</a></span>, <span class='object_link'><a href="VectorGenerator.html#track_and_format_vector-instance_method" title="Origen::Tester::VectorGenerator#track_and_format_vector (method)">#track_and_format_vector</a></span>, <span class='object_link'><a href="VectorGenerator.html#update_pin_from_formatted_state-instance_method" title="Origen::Tester::VectorGenerator#update_pin_from_formatted_state (method)">#update_pin_from_formatted_state</a></span>, <span class='object_link'><a href="VectorGenerator.html#update_vector-instance_method" title="Origen::Tester::VectorGenerator#update_vector (method)">#update_vector</a></span>, <span class='object_link'><a href="VectorGenerator.html#update_vector_pin_val-instance_method" title="Origen::Tester::VectorGenerator#update_vector_pin_val (method)">#update_vector_pin_val</a></span>, <span class='object_link'><a href="VectorGenerator.html#vec_count-instance_method" title="Origen::Tester::VectorGenerator#vec_count (method)">#vec_count</a></span>, <span class='object_link'><a href="VectorGenerator.html#vector_group_size-instance_method" title="Origen::Tester::VectorGenerator#vector_group_size (method)">#vector_group_size</a></span>, <span class='object_link'><a href="VectorGenerator.html#vector_group_size%3D-instance_method" title="Origen::Tester::VectorGenerator#vector_group_size= (method)">#vector_group_size=</a></span>, <span class='object_link'><a href="VectorGenerator.html#with_vector_group_size-instance_method" title="Origen::Tester::VectorGenerator#with_vector_group_size (method)">#with_vector_group_size</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Origen::Tester::J750 (class)">J750</a></span></tt>) <strong>initialize</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new J750 instance, normally there would only ever be one of these
assigned to the global variable such as $tester by your target:</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span> <span class='op'>=</span> <span class='const'>J750</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 43</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@unique_counter</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@max_repeat_loop</span> <span class='op'>=</span> <span class='int'>65_535</span>
  <span class='ivar'>@min_repeat_loop</span> <span class='op'>=</span> <span class='int'>2</span>
  <span class='ivar'>@pat_extension</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>atp</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@active_loads</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@pipeline_depth</span> <span class='op'>=</span> <span class='int'>34</span>  <span class='comment'># for extended mode is vectors, for normal mode is vector pairs (54 for J750Ex)
</span>  <span class='ivar'>@use_hv_pin</span> <span class='op'>=</span> <span class='kw'>false</span>   <span class='comment'># allows to use high voltage for a pin for all patterns
</span>  <span class='ivar'>@software_version</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.50.40</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@compress</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@support_repeat_previous</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@match_entries</span> <span class='op'>=</span> <span class='int'>10</span>
  <span class='ivar'>@name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>j750</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@program_comment_char</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>logprint</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='cvar'>@@hpt_mode</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="software_version=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="software_version-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>software_version</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute software_version</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_software_version'>software_version</span>
  <span class='ivar'>@software_version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="use_hv_pin=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="use_hv_pin-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>use_hv_pin</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute use_hv_pin</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 30</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_hv_pin'>use_hv_pin</span>
  <span class='ivar'>@use_hv_pin</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="hpt_mode-class_method">
  
    + (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>hpt_mode</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 33</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hpt_mode'>hpt_mode</span>
  <span class='cvar'>@@hpt_mode</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hpt_mode?-class_method">
  
    + (<tt>Boolean</tt>) <strong>hpt_mode?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 36</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hpt_mode?'>hpt_mode?</span>
  <span class='cvar'>@@hpt_mode</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="branch_to-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>branch_to</strong>(label) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='branch-instance_method'>branch</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Branch execution to the given point.</p>

<p>This generates a new vector with a jump instruction to a given label. This
method will generate an additional vector.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_branch_to'>branch_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>something_significant</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


669
670
671</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 669</span>

<span class='kw'>def</span> <span class='id identifier rubyid_branch_to'>branch_to</span><span class='lparen'>(</span><span class='id identifier rubyid_label'>label</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_label'>label</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_match-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>call_match</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Call a match loop.</p>

<p>Normally you would put your match loop in a global subs pattern, then you
can call it via this method. This method automatically syncs match loop
naming with the match generation flow, no arguments required.</p>

<p>This is a J750 specific API.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_call_match'>call_match</span>  <span class='comment'># Calls the match loop, or the first entry point if you have multiple
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_call_match'>call_match</span>  <span class='comment'># Calls the match loop, or the second entry point if you have multiple</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


628
629
630
631
632</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 628</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call_match'>call_match</span>
  <span class='ivar'>@match_counter</span> <span class='op'>=</span> <span class='ivar'>@match_counter</span> <span class='op'>||</span> <span class='int'>0</span>
  <span class='id identifier rubyid_call_subroutine'>call_subroutine</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>match_done_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@match_counter</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@match_counter</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>unless</span> <span class='ivar'>@match_counter</span> <span class='op'>==</span> <span class='lparen'>(</span><span class='ivar'>@match_entries</span> <span class='op'>||</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_subroutine-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>call_subroutine</strong>(name, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Call a subroutine.</p>

<p>This method applies a call subroutine opcode to the previous vector, it
does not generate a new vector.</p>

<p>Subroutines should always be called through this method as it ensures a
running log of called subroutines is maintained and which then gets output
in the pattern header to import the right dependencies.</p>

<p>An offset option is available to make the call on earlier vectors.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_call_subroutine'>call_subroutine</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mysub</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_call_subroutine'>call_subroutine</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_other_sub</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:offset</span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call_subroutine'>call_subroutine</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>offset:</span> <span class='int'>0</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_called_subroutines'>called_subroutines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='kw'>unless</span> <span class='id identifier rubyid_called_subroutines'>called_subroutines</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@inhibit_vectors</span>
  <span class='id identifier rubyid_update_vector'>update_vector</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>call </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="called_subroutines-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>called_subroutines</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of subroutines called while generating the current pattern</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


782
783
784</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 782</span>

<span class='kw'>def</span> <span class='id identifier rubyid_called_subroutines'>called_subroutines</span>
  <span class='ivar'>@called_subroutines</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enable_flag-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>enable_flag</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <ul><li>
<p>J750 Specific *</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_enable_flag'>enable_flag</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>flagnum:</span> <span class='int'>4</span><span class='comma'>,</span>      <span class='comment'># which flag to enable for later checking
</span>          <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:flagnum</span><span class='rbracket'>]</span>
    <span class='kw'>when</span> <span class='int'>1</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuA</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='int'>2</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuB</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='int'>3</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuC</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='int'>4</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuD</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_abort'>abort</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ERROR! Invalid flag name passed to &#39;enable_flag&#39; method!\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_update_vector'>update_vector</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>enable(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_flagname'>flagname</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="end_subroutine-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>end_subroutine</strong>(cond = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>End a subroutine.</p>

<p>Generates a return opcode on the last vector.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby">$tester.start_subroutine(&quot;wait_for_done&quot;)
&lt; generate your subroutine vectors here &gt;
$tester.end_subroutine</code></pre>

<p>cond: whether return is conditional on a flag (to permit to mix subrs
together)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215
216
217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 213</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_subroutine'>end_subroutine</span><span class='lparen'>(</span><span class='id identifier rubyid_cond'>cond</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_cond'>cond</span>
    <span class='id identifier rubyid_update_vector'>update_vector</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>if (flag) return</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_update_vector'>update_vector</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>return</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flows-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>flows</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_flows'>flows</span>
  <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_flows'>flows</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_vector-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>format_vector</strong>(vec) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This is an internal method use by Origen which returns a fully formatted
vector You can override this if you wish to change the output formatting at
vector level</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


793
794
795
796
797
798
799
800
801
802
803
804
805
806
807</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 793</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_vector'>format_vector</span><span class='lparen'>(</span><span class='id identifier rubyid_vec'>vec</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_timeset'>timeset</span> <span class='op'>=</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_pin_vals'>pin_vals</span> <span class='op'>=</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_pin_vals'>pin_vals</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_pin_vals'>pin_vals</span><span class='embexpr_end'>}</span><span class='tstring_content'> ;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repeat </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='op'>=</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_microcode'>microcode</span> <span class='op'>?</span> <span class='id identifier rubyid_vec'>vec</span><span class='period'>.</span><span class='id identifier rubyid_microcode'>microcode</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='comment'># if vec.pin_vals &amp;&amp; vec.number &amp;&amp; vec.cycle_number
</span>  <span class='comment'>#  comment = &quot; // Vector #{@pattern_vectors}, Cycle #{@pattern_cycles}&quot;
</span>  <span class='comment'># else
</span>  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='comment'># end
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_microcode'>microcode</span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='int'>65</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='int'>31</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin_vals'>pin_vals</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_comment'>comment</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="freq_count-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>freq_count</strong>(pin, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Do a frequency measure.</p>

<p>Write the necessary micro code to do a frequency measure on the given pin,
optionally supply a read code to pass information to the tester.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby">$tester.freq_count($top.pin(:d_out))                 # Freq measure on pin &quot;d_out&quot;
$tester.freq_count($top.pin(:d_out):readcode =&gt; 10)
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 257</span>

<span class='kw'>def</span> <span class='id identifier rubyid_freq_count'>freq_count</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>readcode:</span> <span class='kw'>false</span>
            <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set_code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:readcode</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:readcode</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_cpu (cpuA)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_cpu (cpuA)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_cpu (cpuB)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_cpu (cpuC)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>freq_loop_1:</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>if (cpuA) jump freq_loop_1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_drive_lo'>drive_lo</span>
  <span class='id identifier rubyid_delay'>delay</span><span class='lparen'>(</span><span class='int'>2000</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>freq_loop_2: enable (cpuB)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>if (flag) jump freq_loop_2</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>enable (cpuC)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>if (flag) jump freq_loop_1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handshake-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>handshake</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handshake with the tester.</p>

<p>Will set a cpu flag (A) and wait for it to be cleared by the tester,
optionally pass in a read code to pass information to the tester.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_handshake'>handshake</span>                   <span class='comment'># Pass control to the tester for a measurement
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_handshake'>handshake</span><span class='lparen'>(</span><span class='symbol'>:readcode</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='rparen'>)</span>  <span class='comment'># Trigger a specific action by the tester
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 229</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handshake'>handshake</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>readcode:</span>    <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>manual_stop:</span> <span class='kw'>false</span><span class='comma'>,</span>    <span class='comment'># set a 2nd CPU flag in case 1st flag is automatically cleared
</span>  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:readcode</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set_code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:readcode</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:manual_stop</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>enable (cpuB)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_cpu (cpuA cpuB)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loop_here_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>: if (flag) jump loop_here_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_cpu (cpuA)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loop_here_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>: if (cpuA) jump loop_here_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@unique_counter</span> <span class='op'>+=</span> <span class='int'>1</span>  <span class='comment'># Increment so a different label will be applied if another
</span>  <span class='comment'># handshake is called in the same pattern
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ignore_fails-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ignore_fails</strong>(*pins) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


834
835
836
837
838</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 834</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ignore_fails'>ignore_fails</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_pins'>pins</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:suspend</span><span class='rparen'>)</span>
  <span class='kw'>yield</span>
  <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:resume</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="j750?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>j750?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


840
841
842</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 840</span>

<span class='kw'>def</span> <span class='id identifier rubyid_j750?'>j750?</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="label-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>label</strong>(name, global = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Apply a label to the pattern.</p>

<p>No additional vector is generated. Arguments:</p>

<pre class="code ruby"><code class="ruby">  name : label name
global : (optional) whether to apply global label, default=false</code></pre>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>something_significant</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>something_significant</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># apply global label</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


644
645
646
647</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 644</span>

<span class='kw'>def</span> <span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_global'>global</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_global_opt'>global_opt</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_global'>global</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>global </span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='id identifier rubyid_global_opt'>global_opt</span> <span class='op'>+</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="local_subroutines-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>local_subroutines</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of subroutines created by the current pattern</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


787
788
789</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 787</span>

<span class='kw'>def</span> <span class='id identifier rubyid_local_subroutines'>local_subroutines</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@local_subroutines</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="loop_vectors-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>loop_vectors</strong>(name, number_of_loops, global = false, label_first = false) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='loop_vector-instance_method'>loop_vector</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add loop to the pattern.</p>

<p>Pass in a name for the loop and the number of times to execute it, all
vectors generated by the given block will be captured in the loop.</p>

<p>Optional arguments: global - whether to apply global label (default=false)</p>

<pre class="code ruby"><code class="ruby">label_first - whether to apply loop label before loop vector or not</code></pre>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_loop_vectors'>loop_vectors</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pulse_loop</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='kw'>do</span>   <span class='comment'># Do this 3 times...
</span>    <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
    <span class='id identifier rubyid_some_other_method_to_generate_vectors'>some_other_method_to_generate_vectors</span>
<span class='kw'>end</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 687</span>

<span class='kw'>def</span> <span class='id identifier rubyid_loop_vectors'>loop_vectors</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span><span class='comma'>,</span> <span class='id identifier rubyid_global'>global</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_label_first'>label_first</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_number_of_loops'>number_of_loops</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='ivar'>@loop_counters</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='kw'>if</span> <span class='ivar'>@loop_counters</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
      <span class='ivar'>@loop_counters</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>else</span>
      <span class='ivar'>@loop_counters</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_loop_name'>loop_name</span> <span class='op'>=</span> <span class='ivar'>@loop_counters</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@loop_counters</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_label_first'>label_first</span>
      <span class='id identifier rubyid_global_opt'>global_opt</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_global'>global</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>global </span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_global_opt'>global_opt</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_loop_name'>loop_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loopA </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_number_of_loops'>number_of_loops</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_label_first'>label_first</span>
      <span class='id identifier rubyid_global_opt'>global_opt</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_global'>global</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>global </span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_global_opt'>global_opt</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_loop_name'>loop_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>yield</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end_loopA </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_loop_name'>loop_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match</strong>(pin, state, timeout, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates a match loop on up to two pins.</p>

<p>This method is not really intended to be called directly, rather you should
call via Tester#wait e.g. $tester.wait(:match =&gt; true).</p>

<p>The timeout should be provided in cycles, however when called via the wait
method the time-based helpers (time_in_us, etc) will be converted to cycles
for you. The following options are available to tailor the match loop
behavior, defaults in parenthesis:</p>
<ul><li>
<p>:pin - The pin object to match on (<strong>required</strong>)</p>
</li><li>
<p>:state - The pin state to match on, :low or :high
(<strong>required</strong>)</p>
</li><li>
<p>:pin2 (nil) - Optionally supply a second pin to match on</p>
</li><li>
<p>:state2 (nil) - State for the second pin (required if :pin2 is supplied)</p>
</li><li>
<p>:check_for_fails (false) - Flushes the pipeline and handshakes with the
tester (passing readcode 100) prior to the match (to allow binout of fails
encountered before the match)</p>
</li><li>
<p>:force_fail_on_timeout (true) - Force a vector mis-compare if the match
loop times out</p>
</li><li>
<p>:on_timeout_goto () - Optionally supply a label to branch to on timeout,
by default will continue from the end of the match loop</p>
</li><li>
<p>:on_pin_match_goto () - Optionally supply a label to branch to when pin 1
matches, by default will continue from the end of the match loop</p>
</li><li>
<p>:on_pin2_match_goto () - Optionally supply a label to branch to when pin
2 matches, by default will continue from the end of the match loop</p>
</li><li>
<p>:multiple_entries (false) - Supply an integer to generate multiple entries
into the match (each with a unique readcode), this can be useful when
debugging patterns with multiple matches</p>
</li><li>
<p>:force_fail_on_timeout (true) - force pattern to fail if timeout occurs</p>
</li><li>
<p>:global_loops (false) - whether match loop loops should use global labels</p>
</li><li>
<p>:manual_stop (false) - whether to use extra cpuB flag to resolve IG-XL
v.3.50.xx bug where VBT clears cpuA immediately</p>

<pre class="code ruby"><code class="ruby">at start of PatFlagFunc instead of at end.  Use will have to manually clear cpuB to resume this pattern.</code></pre>
</li></ul>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='symbol'>:match</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:time_in_us</span> <span class='op'>=&gt;</span> <span class='int'>5000</span><span class='comma'>,</span> <span class='symbol'>:pin</span> <span class='op'>=&gt;</span> <span class='gvar'>$top</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:done</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:state</span> <span class='op'>=&gt;</span> <span class='symbol'>:high</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 381</span>

<span class='kw'>def</span> <span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_pin'>pin</span><span class='comma'>,</span> <span class='id identifier rubyid_state'>state</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout'>timeout</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>check_for_fails:</span>       <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>on_timeout_goto:</span>       <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>pin2:</span>                  <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>state2:</span>                <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>on_pin_match_goto:</span>     <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>on_pin2_match_goto:</span>    <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>multiple_entries:</span>      <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>force_fail_on_timeout:</span> <span class='kw'>true</span><span class='comma'>,</span>
    <span class='label'>global_loops:</span>          <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>manual_stop:</span>           <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>clr_fail_post_match:</span>   <span class='kw'>false</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='comment'># Flush the pipeline first and then pass control to the program to bin out any failures
</span>  <span class='comment'># prior to entering the match loop
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:check_for_fails</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:multiple_entries</span><span class='rbracket'>]</span>
      <span class='ivar'>@match_entries</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>global subr match_done_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set_code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>100</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>jump call_tester</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='ivar'>@match_entries</span> <span class='op'>-</span> <span class='int'>1</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>call_tester:</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_code 100</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Wait for any prior failures to propagate through the pipeline</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pipe_minus 1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Now handshake with the tester to bin out and parts that have failed before they got here</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_handshake'>handshake</span><span class='lparen'>(</span><span class='label'>manual_stop:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:manual_stop</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Now do the main match loop
</span>  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Start the match loop</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># Calculate the loop counts for the 2 loops to appropriately hit the timeout requested
</span>  <span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@pipeline_depth</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>4</span>  <span class='comment'># num vectors in inner loop
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>&lt;</span> <span class='ivar'>@max_repeat_loop</span> <span class='op'>*</span> <span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span> <span class='op'>*</span> <span class='ivar'>@min_repeat_loop</span>
    <span class='comment'># Handle case for smaller timeouts (that would force small outer loop count)
</span>    <span class='id identifier rubyid_inner_loop_count'>inner_loop_count</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span> <span class='op'>*</span> <span class='ivar'>@min_repeat_loop</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>
    <span class='id identifier rubyid_outer_loop_count'>outer_loop_count</span> <span class='op'>=</span> <span class='ivar'>@min_repeat_loop</span>
  <span class='kw'>else</span>
    <span class='comment'># Handle longer delays
</span>    <span class='id identifier rubyid_inner_loop_count'>inner_loop_count</span> <span class='op'>=</span> <span class='ivar'>@max_repeat_loop</span>
    <span class='id identifier rubyid_outer_loop_count'>outer_loop_count</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='ivar'>@max_repeat_loop</span> <span class='op'>*</span> <span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>  <span class='comment'># Will do a minimum of 1 * max_repeat_loop * (pipeline_depth-1)
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_global_opt'>global_opt</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:global_loops</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>global </span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_global_opt'>global_opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>match_outer_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loopB </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_outer_loop_count'>outer_loop_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> ign ifc icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_global_opt'>global_opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>match_inner_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Check if </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>low</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>high</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'> yet</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loopA </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inner_loop_count'>inner_loop_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> ign ifc icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> Wait for the result to propagate through the pipeline</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pipe_minus 1 ign ifc icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Branch if </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> was </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>low</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>high</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>if (pass) jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_matched_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc ifc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_flag (fail) icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Check if </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:state2</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>low</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>high</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'> yet</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:state2</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
    <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span> <span class='op'>:</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span>   <span class='comment'># Give priority to pin 1, don&#39;t match pin 2 on this cycle
</span>    <span class='comment'># if it is really a pin 1 match
</span>    <span class='id identifier rubyid_cycle'>cycle</span>  <span class='comment'># Read for pin 2 and !pin 1
</span>    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Again wait for the result to propagate through the pipeline</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pipe_minus 1 ign ifc icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Branch if </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> was </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:state2</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>low</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>high</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>if (pass) jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_matched_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc ifc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_flag (fail) icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Loop back around if time remaining</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end_loopA match_inner_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end_loopB match_outer_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:force_fail_on_timeout</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>To get here something has gone wrong, strobe again to force a pattern failure</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:state2</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:low</span> <span class='op'>?</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_lo'>expect_lo</span> <span class='op'>:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_hi'>expect_hi</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span>
    <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dont_care'>dont_care</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_timeout_goto</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_timeout_goto</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump match_loop_end_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='comment'># cycle(:microcode =&gt; &#39;halt&#39;)
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_matched_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop_loop icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:clr_fail_post_match</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_fail</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_pin_match_goto</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_pin_match_goto</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_matched_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop_loop icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_fail</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_pin2_match_goto</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_pin2_match_goto</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>match_loop_end_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:clr_fail_post_match</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_fail</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@unique_counter</span> <span class='op'>+=</span> <span class='int'>1</span>  <span class='comment'># Increment so a different label will be applied if another
</span>  <span class='comment'># handshake is called in the same pattern
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match_block-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match_block</strong>(timeout, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates a match loop based on vector condition passed in via block</p>

<p>This method is not really intended to be called directly, rather you should
call via Tester#wait:</p>

<pre class="code ruby"><code class="ruby">e.g. $tester.wait(:match =&gt; true) do
       reg(:status_reg).bit(:done).read(1)!  # vector condition that you want to match
     end
</code></pre>

<p>The timeout should be provided in cycles, however when called via the wait
method the time-based helpers (time_in_us, etc) will be converted to cycles
for you.</p>

<p>The following options are available to tailor the match loop behavior,
defaults in parenthesis:</p>
<ul><li>
<p>:check_for_fails (false) - Flushes the pipeline and handshakes with the
tester (passing readcode 100) prior to the match (to allow binout of fails
encountered before the match)</p>
</li><li>
<p>:force_fail_on_timeout (true) - Force a vector mis-compare if the match
loop times out</p>
</li><li>
<p>:on_timeout_goto () - Optionally supply a label to branch to on timeout,
by default will continue from the end of the match loop</p>
</li><li>
<p>:on_block_match_goto () - Optionally supply a label to branch to when
block condition is met, by default will continue from the end of the match
loop</p>
</li><li>
<p>:multiple_entries (false) - Supply an integer to generate multiple entries
into the match (each with a unique readcode), this can be useful when
debugging patterns with multiple matches</p>
</li><li>
<p>:force_fail_on_timeout (true) - force pattern to fail if timeout occurs</p>
</li><li>
<p>:global_loops (false) - whether match loop loops should use global labels</p>
</li><li>
<p>:manual_stop (false) - whether to use extra cpuB flag to resolve IG-XL
v.3.50.xx bug where VBT clears cpuA immediately</p>

<pre class="code ruby"><code class="ruby">at start of PatFlagFunc instead of at end.  Use will have to manually clear cpuB to resume this pattern.</code></pre>
</li></ul>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='symbol'>:match</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:time_in_us</span> <span class='op'>=&gt;</span> <span class='int'>5000</span><span class='comma'>,</span> <span class='symbol'>:pin</span> <span class='op'>=&gt;</span> <span class='gvar'>$top</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:done</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:state</span> <span class='op'>=&gt;</span> <span class='symbol'>:high</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 523</span>

<span class='kw'>def</span> <span class='id identifier rubyid_match_block'>match_block</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>check_for_fails:</span>       <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>on_timeout_goto:</span>       <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>on_block_match_goto:</span>   <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>multiple_entries:</span>      <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>force_fail_on_timeout:</span> <span class='kw'>true</span><span class='comma'>,</span>
    <span class='label'>global_loops:</span>          <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>manual_stop:</span>           <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>clr_fail_post_match:</span>   <span class='kw'>false</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ERROR: block not passed to match_block!</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Flush the pipeline first and then pass control to the program to bin out any failures
</span>  <span class='comment'># prior to entering the match loop
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:check_for_fails</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:multiple_entries</span><span class='rbracket'>]</span>
      <span class='ivar'>@match_entries</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>global subr match_done_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set_code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>100</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>jump call_tester</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='ivar'>@match_entries</span> <span class='op'>-</span> <span class='int'>1</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>call_tester:</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>set_code 100</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Wait for any prior failures to propagate through the pipeline</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pipe_minus 1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Now handshake with the tester to bin out and parts that have failed before they got here</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_handshake'>handshake</span><span class='lparen'>(</span><span class='label'>manual_stop:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:manual_stop</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Now do the main match loop
</span>  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Start the match loop</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># Calculate the loop counts for the 2 loops to appropriately hit the timeout requested
</span>  <span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@pipeline_depth</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>4</span>  <span class='comment'># num vectors in inner loop
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>&lt;</span> <span class='ivar'>@max_repeat_loop</span> <span class='op'>*</span> <span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span> <span class='op'>*</span> <span class='ivar'>@min_repeat_loop</span>
    <span class='comment'># Handle case for smaller timeouts (that would force small outer loop count)
</span>    <span class='id identifier rubyid_inner_loop_count'>inner_loop_count</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span> <span class='op'>*</span> <span class='ivar'>@min_repeat_loop</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>
    <span class='id identifier rubyid_outer_loop_count'>outer_loop_count</span> <span class='op'>=</span> <span class='ivar'>@min_repeat_loop</span>
  <span class='kw'>else</span>
    <span class='comment'># Handle longer delays
</span>    <span class='id identifier rubyid_inner_loop_count'>inner_loop_count</span> <span class='op'>=</span> <span class='ivar'>@max_repeat_loop</span>
    <span class='id identifier rubyid_outer_loop_count'>outer_loop_count</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='ivar'>@max_repeat_loop</span> <span class='op'>*</span> <span class='id identifier rubyid_inner_loop_vectors'>inner_loop_vectors</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>  <span class='comment'># Will do a minimum of 1 * max_repeat_loop * (pipeline_depth-1)
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_global_opt'>global_opt</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:global_loops</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>global </span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_global_opt'>global_opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>match_outer_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loopB </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_outer_loop_count'>outer_loop_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> ign ifc icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_global_opt'>global_opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>match_inner_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loopA </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inner_loop_count'>inner_loop_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> ign ifc icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Check if block condition met</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>yield</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> Wait for the result to propagate through the pipeline</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pipe_minus 1 ign ifc icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Branch if block condition met</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>if (pass) jump block_matched_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc ifc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_flag (fail) icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Loop back around if time remaining</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end_loopA match_inner_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end_loopB match_outer_loop_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:force_fail_on_timeout</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>To get here something has gone wrong, check block again to force a pattern failure</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_timeout_goto</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_timeout_goto</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump match_loop_end_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'> icc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='comment'># cycle(:microcode =&gt; &#39;halt&#39;)
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>block_matched_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop_loop icc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:clr_fail_post_match</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_fail</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_block_match_goto</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:on_block_match_goto</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>match_loop_end_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@unique_counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:clr_fail_post_match</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clr_fail</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@unique_counter</span> <span class='op'>+=</span> <span class='int'>1</span>  <span class='comment'># Increment so a different label will be applied if another
</span>  <span class='comment'># handshake is called in the same pattern
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="memory_test-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>memory_test</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <ul><li>
<p>J750 Specific *</p>
</li></ul>

<p>Generates a single MTO opcode line for J750</p>

<p>Codes implemented: xa load_preset, xa inc, ya load_preset, ya inc, stv_m0,
stv_m1, stv_c<br></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 282</span>

<span class='kw'>def</span> <span class='id identifier rubyid_memory_test'>memory_test</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>gen_vector:</span>          <span class='kw'>true</span><span class='comma'>,</span>                 <span class='comment'># Default generate vector not just MTO opcode
</span>    <span class='label'>init_counter_x:</span>      <span class='kw'>false</span><span class='comma'>,</span>            <span class='comment'># initialize counter X
</span>    <span class='label'>inc_counter_x:</span>       <span class='kw'>false</span><span class='comma'>,</span>             <span class='comment'># increment counter X
</span>    <span class='label'>init_counter_y:</span>      <span class='kw'>false</span><span class='comma'>,</span>            <span class='comment'># initialize counter X
</span>    <span class='label'>inc_counter_y:</span>       <span class='kw'>false</span><span class='comma'>,</span>             <span class='comment'># increment counter X
</span>    <span class='label'>capture_vector:</span>      <span class='kw'>false</span><span class='comma'>,</span>            <span class='comment'># capture vector to memory using all mem types
</span>    <span class='label'>capture_vector_mem0:</span> <span class='kw'>false</span><span class='comma'>,</span>       <span class='comment'># capture vector to memory type 0, here for J750 will be stv_m0
</span>    <span class='label'>capture_vector_mem1:</span> <span class='kw'>false</span><span class='comma'>,</span>       <span class='comment'># capture vector to memory type 1, here for J750 will be stv_m1
</span>    <span class='label'>capture_vector_mem2:</span> <span class='kw'>false</span><span class='comma'>,</span>       <span class='comment'># capture vector to memory type 2, here for J750 will be stv_c
</span>    <span class='label'>pin:</span>                 <span class='kw'>false</span><span class='comma'>,</span>                       <span class='comment'># pin on which to drive or expect data, pass pin object here!
</span>    <span class='label'>pin_data:</span>            <span class='kw'>false</span><span class='comma'>,</span>                  <span class='comment'># pin data (:none, :drive, :expect)
</span>  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:init_counter_x</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> xa load_preset</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:inc_counter_x</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> xa inc</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:init_counter_y</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> ya load_preset</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:inc_counter_y</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> ya inc</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:capture_vector</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> stv_m0 stv_m1 stv_c</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:capture_vector_mem0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> stv_m0</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:capture_vector_mem1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> stv_m1</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:capture_vector_mem2</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> stv_c</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_mto_opcode'>mto_opcode</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(mto:</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_mto_opcode'>mto_opcode</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:gen_vector</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin_data</span><span class='rbracket'>]</span>
        <span class='kw'>when</span> <span class='symbol'>:drive</span>
          <span class='comment'># store current pin state
</span>          <span class='id identifier rubyid_cur_pin_state'>cur_pin_state</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
          <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_drive_mem'>drive_mem</span>
        <span class='kw'>when</span> <span class='symbol'>:expect</span>
          <span class='comment'># store current pin state
</span>          <span class='id identifier rubyid_cur_pin_state'>cur_pin_state</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
          <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_expect_mem'>expect_mem</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mto_opcode'>mto_opcode</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span>
      <span class='comment'># restore previous pin state
</span>      <span class='kw'>case</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin_data</span><span class='rbracket'>]</span>
        <span class='kw'>when</span> <span class='symbol'>:drive</span>
          <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='id identifier rubyid_cur_pin_state'>cur_pin_state</span>
        <span class='kw'>when</span> <span class='symbol'>:expect</span>
          <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pin</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='id identifier rubyid_cur_pin_state'>cur_pin_state</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mto_opcode'>mto_opcode</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>parser</strong>(prog_dir = Origen.config.test_program_output_directory) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Main accessor to all content parsed from existing test program sheets found
in the supplied directory or in Origen.config.test_program_output_directory</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70
71
72
73
74
75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser'>parser</span><span class='lparen'>(</span><span class='id identifier rubyid_prog_dir'>prog_dir</span> <span class='op'>=</span> <span class='const'>Origen</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_test_program_output_directory'>test_program_output_directory</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_prog_dir'>prog_dir</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You must supply the directory containing the test program sheets, or define it via Origen.config.test_program_output_directory</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='ivar'>@parser</span> <span class='op'>||=</span> <span class='const'>J750</span><span class='op'>::</span><span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@parsed_dir</span> <span class='op'>||=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='ivar'>@parsed_dir</span> <span class='op'>!=</span> <span class='id identifier rubyid_prog_dir'>prog_dir</span>
    <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_prog_dir'>prog_dir</span><span class='rparen'>)</span>
    <span class='ivar'>@parsed_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_prog_dir'>prog_dir</span>
  <span class='kw'>end</span>
  <span class='ivar'>@parser</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pattern_footer-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>pattern_footer</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An internal method called by Origen to generate the pattern footer</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 762</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pattern_footer'>pattern_footer</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>subroutine_pat:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>end_in_ka:</span>      <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>end_with_halt:</span>  <span class='kw'>false</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='comment'># cycle(:microcode =&gt; &quot;#{$soc.end_of_pattern_label}:&quot;) if $soc.end_of_pattern_label
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:end_in_ka</span><span class='rbracket'>]</span>
    <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>keep_alive</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:end_with_halt</span><span class='rbracket'>]</span>
      <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>halt</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>end_module</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:subroutine_pat</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>}</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pattern_header-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>pattern_header</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An internal method called by Origen to create the pattern header</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 714</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pattern_header'>pattern_header</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>subroutine_pat:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>group:</span>          <span class='kw'>false</span><span class='comma'>,</span>            <span class='comment'># If true the end pattern is intended to run within a pattern group
</span>    <span class='label'>high_voltage:</span>   <span class='kw'>false</span><span class='comma'>,</span>     <span class='comment'># Supply a pin name here to declare it as an HV instrument
</span>    <span class='label'>freq_counter:</span>   <span class='kw'>false</span><span class='comma'>,</span>     <span class='comment'># Supply a pin name here to declare it as a frequency counter
</span>    <span class='label'>memory_test:</span>    <span class='kw'>false</span><span class='comma'>,</span>      <span class='comment'># If true, define 2-bit MTO DGEN as instrument
</span>  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_called_timesets'>called_timesets</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_timeset'>timeset</span><span class='op'>|</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>import tset </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_timeset'>timeset</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:group</span><span class='rbracket'>]</span>    <span class='comment'># Withhold imports for pattern groups, is this correct?
</span>    <span class='id identifier rubyid_called_subroutines'>called_subroutines</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sub_name'>sub_name</span><span class='op'>|</span>
      <span class='comment'># Don&#39;t import any called subroutines that are declared in the current pattern
</span>      <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>import svm_subr </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sub_name'>sub_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_local_subroutines'>local_subroutines</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_sub_name'>sub_name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># Should implement this more like @instruments.each...
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:memory_test</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>instruments = {</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>               mto:dgen_2bit;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>}</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>svm_only_file = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:subroutine_pat</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>yes</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>opcode_mode = extended;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>compressed = yes;</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># if $soc.gzip_patterns
</span>  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:high_voltage</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@use_hv_pin</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pin_setup = {</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:high_voltage</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> high_voltage;}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:high_voltage</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pin_setup = {</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:freq_counter</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> freq_count;}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:freq_counter</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_pin_list'>pin_list</span> <span class='op'>=</span> <span class='id identifier rubyid_ordered_pins'>ordered_pins</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='const'>Origen</span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_pin_pattern_order'>pin_pattern_order</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='comment'># specified name overrides pin name
</span>    <span class='kw'>else</span>
      <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vector ($tset, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pin_list'>pin_list</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:subroutine_pat</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>start_label pattern_st:</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push_microcode-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>push_microcode</strong>(code) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='microcode-instance_method'>microcode</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Override this to force the formatting to match the v1 J750 model (easier
diffs)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


810
811
812</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 810</span>

<span class='kw'>def</span> <span class='id identifier rubyid_push_microcode'>push_microcode</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_stage'>stage</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='int'>65</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='int'>31</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="repeat_previous-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>repeat_previous</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>All vectors generated with the supplied block will have all pins set to the
repeat previous state. Any pins that are changed state within the block
will still update to the supplied value.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'># All pins except invoke will be assigned the repeat previous code
</span><span class='comment'># in the generated vector. On completion of the block they will
</span><span class='comment'># return to their previous state, except for invoke which will
</span><span class='comment'># retain the value assigned within the block.
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous'>repeat_previous</span> <span class='kw'>do</span>
    <span class='gvar'>$top</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span><span class='lparen'>(</span><span class='symbol'>:invoke</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_drive'>drive</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='kw'>end</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


827
828
829
830
831
832</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 827</span>

<span class='kw'>def</span> <span class='id identifier rubyid_repeat_previous'>repeat_previous</span>
  <span class='id identifier rubyid_pinmap'>pinmap</span> <span class='op'>=</span> <span class='const'>Origen</span><span class='period'>.</span><span class='id identifier rubyid_pin_bank'>pin_bank</span><span class='period'>.</span><span class='id identifier rubyid_pins'>pins</span>
  <span class='id identifier rubyid_pinmap'>pinmap</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__id'>_id</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous'>repeat_previous</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='rbrace'>}</span>
  <span class='kw'>yield</span>
  <span class='id identifier rubyid_pinmap'>pinmap</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__id'>_id</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='op'>|</span> <span class='id identifier rubyid_pin'>pin</span><span class='period'>.</span><span class='id identifier rubyid_repeat_previous'>repeat_previous</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_code-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>set_code</strong>(code) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <ul><li>
<p>J750 Specific *</p>
</li></ul>

<p>Set a readcode.</p>

<p>Use the set an explicit readcode for communicating with the tester. This
method will generate an additional vector.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_set_code'>set_code</span><span class='lparen'>(</span><span class='int'>55</span><span class='rparen'>)</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


658
659
660</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 658</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_code'>set_code</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set_code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_flag-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>set_flag</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <ul><li>
<p>J750 Specific *</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 185</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_flag'>set_flag</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>flagnum:</span> <span class='int'>4</span><span class='comma'>,</span>      <span class='comment'># which flag to set
</span>          <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:flagnum</span><span class='rbracket'>]</span>
    <span class='kw'>when</span> <span class='int'>1</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuA</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='int'>2</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuB</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='int'>3</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuC</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='int'>4</span>
      <span class='id identifier rubyid_flagname'>flagname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cpuD</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_abort'>abort</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ERROR! Invalid flag name passed to &#39;set_flag&#39; method!\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_update_vector'>update_vector</span><span class='lparen'>(</span><span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set_cpu(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_flagname'>flagname</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_subroutine-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>start_subroutine</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Start a subroutine.</p>

<p>Generates a global subroutine label. Global is used to adhere to the best
practice of containing all subroutines in dedicated patterns, e.g.
global_subs.atp</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby">$tester.start_subroutine(&quot;wait_for_done&quot;)
&lt; generate your subroutine vectors here &gt;
$tester.end_subroutine</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_subroutine'>start_subroutine</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_local_subroutines'>local_subroutines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='kw'>unless</span> <span class='id identifier rubyid_local_subroutines'>local_subroutines</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@inhibit_vectors</span>
  <span class='id identifier rubyid_microcode'>microcode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>global subr </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="store-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>store</strong>(*pins) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='to_hram-instance_method'>to_hram</span>, <span id='capture-instance_method'>capture</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Capture a vector to the tester HRAM.</p>

<p>This method applys a store vector (stv) opcode to the previous vector, note
that is does not actually generate a new vector.</p>

<p>Sometimes when generating vectors within a loop you may want to apply a stv
opcode retrospectively to a previous vector, passing in an offset option
will allow you to do this.</p>

<p>On J750 the pins argument is ignored since the tester only supports whole
vector capture.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>                <span class='comment'># This is the vector you want to capture
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span>                <span class='comment'># This applys the STV opcode
</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>                <span class='comment'># This one gets stored
</span><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='symbol'>:offset</span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'># Just realized I need to capture that earlier vector</span></code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 98</span>

<span class='kw'>def</span> <span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_pins'>pins</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>offset:</span> <span class='int'>0</span>
            <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_update_vector'>update_vector</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stv</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:offset</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="store_next_cycle-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>store_next_cycle</strong>(*pins) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Capture the next vector generated to HRAM</p>

<p>This method applys a store vector (stv) opcode to the next vector to be
generated, note that is does not actually generate a new vector.</p>

<p>On J750 the pins argument is ignored since the tester only supports whole
vector capture.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_store_next_cycle'>store_next_cycle</span>
<span class='gvar'>$tester</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span>                <span class='comment'># This is the vector that will be captured</span></code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/tester/j750/j750.rb', line 117</span>

<span class='kw'>def</span> <span class='id identifier rubyid_store_next_cycle'>store_next_cycle</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_pins'>pins</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_pins'>pins</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_preset_next_vector'>preset_next_vector</span> <span class='label'>microcode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stv</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Jun 26 03:11:37 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.5).
</div>

  </body>
</html>
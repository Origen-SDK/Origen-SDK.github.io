<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Origen::CodeGenerators::Block
  
    &mdash; Origen Core 0.53.1
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Origen::CodeGenerators::Block";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (B)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../CodeGenerators.html" title="Origen::CodeGenerators (module)">CodeGenerators</a></span></span>
     &raquo; 
    <span class="title">Block</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Origen::CodeGenerators::Block
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Base.html" title="Origen::CodeGenerators::Base (class)">Base</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Thor::Group</li>
          
            <li class="next"><span class='object_link'><a href="Base.html" title="Origen::CodeGenerators::Base (class)">Base</a></span></li>
          
            <li class="next">Origen::CodeGenerators::Block</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="BlockCommon.html" title="Origen::CodeGenerators::BlockCommon (module)">BlockCommon</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/origen/code_generators/block.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#banner-class_method" title="banner (class method)">.<strong>banner</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>class_option :duts, type: :boolean, desc: &#39;Instantiate the new
sub-block in all DUT models&#39;, default: true class_option :instance,
desc: &#39;The main NAME argument will be the name given to the model and
the instantiated sub-block, optionally provide a different name for the
instance&#39;.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completed-instance_method" title="#completed (instance method)">#<strong>completed</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instantiate_sub_block-instance_method" title="#instantiate_sub_block (instance method)">#<strong>instantiate_sub_block</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup-instance_method" title="#setup (instance method)">#<strong>setup</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_args-instance_method" title="#validate_args (instance method)">#<strong>validate_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="BlockCommon.html" title="Origen::CodeGenerators::BlockCommon (module)">BlockCommon</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="BlockCommon.html#class_name-instance_method" title="Origen::CodeGenerators::BlockCommon#class_name (method)">#class_name</a></span>, <span class='object_link'><a href="BlockCommon.html#create_files-instance_method" title="Origen::CodeGenerators::BlockCommon#create_files (method)">#create_files</a></span>, <span class='object_link'><a href="BlockCommon.html#extract_model_name-instance_method" title="Origen::CodeGenerators::BlockCommon#extract_model_name (method)">#extract_model_name</a></span>, <span class='object_link'><a href="BlockCommon.html#validate_args_common-instance_method" title="Origen::CodeGenerators::BlockCommon#validate_args_common (method)">#validate_args_common</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Base.html" title="Origen::CodeGenerators::Base (class)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#inherited-class_method" title="Origen::CodeGenerators::Base.inherited (method)">inherited</a></span>, <span class='object_link'><a href="Base.html#name-class_method" title="Origen::CodeGenerators::Base.name (method)">name</a></span>, <span class='object_link'><a href="Base.html#namespace-class_method" title="Origen::CodeGenerators::Base.namespace (method)">namespace</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Actions.html" title="Origen::CodeGenerators::Actions (module)">Actions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actions.html#add_acronyms-instance_method" title="Origen::CodeGenerators::Actions#add_acronyms (method)">#add_acronyms</a></span>, <span class='object_link'><a href="Actions.html#add_autoload-instance_method" title="Origen::CodeGenerators::Actions#add_autoload (method)">#add_autoload</a></span>, <span class='object_link'><a href="Actions.html#add_config-instance_method" title="Origen::CodeGenerators::Actions#add_config (method)">#add_config</a></span>, <span class='object_link'><a href="Actions.html#add_source-instance_method" title="Origen::CodeGenerators::Actions#add_source (method)">#add_source</a></span>, <span class='object_link'><a href="Actions.html#camelcase-instance_method" title="Origen::CodeGenerators::Actions#camelcase (method)">#camelcase</a></span>, <span class='object_link'><a href="Actions.html#comment_config-instance_method" title="Origen::CodeGenerators::Actions#comment_config (method)">#comment_config</a></span>, <span class='object_link'><a href="Actions.html#config-instance_method" title="Origen::CodeGenerators::Actions#config (method)">#config</a></span>, <span class='object_link'><a href="Actions.html#environment-instance_method" title="Origen::CodeGenerators::Actions#environment (method)">#environment</a></span>, <span class='object_link'><a href="Actions.html#gem-instance_method" title="Origen::CodeGenerators::Actions#gem (method)">#gem</a></span>, <span class='object_link'><a href="Actions.html#gem_group-instance_method" title="Origen::CodeGenerators::Actions#gem_group (method)">#gem_group</a></span>, <span class='object_link'><a href="Actions.html#generate-instance_method" title="Origen::CodeGenerators::Actions#generate (method)">#generate</a></span>, <span class='object_link'><a href="Actions.html#git-instance_method" title="Origen::CodeGenerators::Actions#git (method)">#git</a></span>, <span class='object_link'><a href="Actions.html#initialize-instance_method" title="Origen::CodeGenerators::Actions#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="Actions.html#lib-instance_method" title="Origen::CodeGenerators::Actions#lib (method)">#lib</a></span>, <span class='object_link'><a href="Actions.html#rakefile-instance_method" title="Origen::CodeGenerators::Actions#rakefile (method)">#rakefile</a></span>, <span class='object_link'><a href="Actions.html#readme-instance_method" title="Origen::CodeGenerators::Actions#readme (method)">#readme</a></span>, <span class='object_link'><a href="Actions.html#underscored_app_namespace-instance_method" title="Origen::CodeGenerators::Actions#underscored_app_namespace (method)">#underscored_app_namespace</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Actions/Helpers.html" title="Origen::CodeGenerators::Actions::Helpers (module)">Actions::Helpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actions/Helpers.html#add_type_to_namespaces-instance_method" title="Origen::CodeGenerators::Actions::Helpers#add_type_to_namespaces (method)">#add_type_to_namespaces</a></span>, <span class='object_link'><a href="Actions/Helpers.html#class_name_to_blocks_dir-instance_method" title="Origen::CodeGenerators::Actions::Helpers#class_name_to_blocks_dir (method)">#class_name_to_blocks_dir</a></span>, <span class='object_link'><a href="Actions/Helpers.html#class_name_to_lib_file-instance_method" title="Origen::CodeGenerators::Actions::Helpers#class_name_to_lib_file (method)">#class_name_to_lib_file</a></span>, <span class='object_link'><a href="Actions/Helpers.html#internal_depth-instance_method" title="Origen::CodeGenerators::Actions::Helpers#internal_depth (method)">#internal_depth</a></span>, <span class='object_link'><a href="Actions/Helpers.html#resource_path-instance_method" title="Origen::CodeGenerators::Actions::Helpers#resource_path (method)">#resource_path</a></span>, <span class='object_link'><a href="Actions/Helpers.html#resource_path_to_blocks_dir-instance_method" title="Origen::CodeGenerators::Actions::Helpers#resource_path_to_blocks_dir (method)">#resource_path_to_blocks_dir</a></span>, <span class='object_link'><a href="Actions/Helpers.html#resource_path_to_class-instance_method" title="Origen::CodeGenerators::Actions::Helpers#resource_path_to_class (method)">#resource_path_to_class</a></span>, <span class='object_link'><a href="Actions/Helpers.html#resource_path_to_lib_file-instance_method" title="Origen::CodeGenerators::Actions::Helpers#resource_path_to_lib_file (method)">#resource_path_to_lib_file</a></span>, <span class='object_link'><a href="Actions/Helpers.html#unless_has_method-instance_method" title="Origen::CodeGenerators::Actions::Helpers#unless_has_method (method)">#unless_has_method</a></span>, <span class='object_link'><a href="Actions/Helpers.html#unless_valid_underscored_identifier-instance_method" title="Origen::CodeGenerators::Actions::Helpers#unless_valid_underscored_identifier (method)">#unless_valid_underscored_identifier</a></span>, <span class='object_link'><a href="Actions/Helpers.html#validate_resource_path-instance_method" title="Origen::CodeGenerators::Actions::Helpers#validate_resource_path (method)">#validate_resource_path</a></span></p>

  
  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="banner-class_method">
  
    .<strong>banner</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>class_option :duts, type: :boolean, desc: &#39;Instantiate the new
sub-block in all DUT models&#39;, default: true class_option :instance,
desc: &#39;The main NAME argument will be the name given to the model and
the instantiated sub-block, optionally provide a different name for the
instance&#39;</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/code_generators/block.rb', line 9</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_banner'>banner</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>origen new block [TYPE/]DERIVATIVE [BLOCK]</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="completed-instance_method">
  
    #<strong>completed</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/code_generators/block.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_completed'>completed</span>
  <span class='id identifier rubyid_add_acronyms'>add_acronyms</span>
  <span class='id identifier rubyid_puts'>puts</span>
  <span class='kw'>if</span> <span class='ivar'>@nested</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>New sub-block created and instantiated.</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='ivar'>@sub_block_instantiated</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>New sub-block created and instantiated within your DUT(s) as:</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  dut.</span><span class='embexpr_beg'>#{</span><span class='ivar'>@final_namespaces</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>New sub-block created, you can instantiate it within your blocks like this:</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='ivar'>@line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instantiate_sub_block-instance_method">
  
    #<strong>instantiate_sub_block</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/code_generators/block.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instantiate_sub_block'>instantiate_sub_block</span>
  <span class='kw'>if</span> <span class='ivar'>@nested</span>
    <span class='comment'># First create the parent&#39;s sub_blocks.rb file if it doesn&#39;t exist
</span>    <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@dir</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
      <span class='ivar'>@nested</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_orig_fullname'>orig_fullname</span> <span class='op'>=</span> <span class='ivar'>@fullname</span>
      <span class='id identifier rubyid_orig_resouce_path'>orig_resouce_path</span> <span class='op'>=</span> <span class='ivar'>@resource_path</span>
      <span class='ivar'>@fullname</span> <span class='op'>=</span> <span class='ivar'>@fullname</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='ivar'>@fullname</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
      <span class='ivar'>@fullname</span> <span class='op'>=</span> <span class='ivar'>@fullname</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='ivar'>@resource_path</span> <span class='op'>=</span> <span class='ivar'>@resource_path</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='ivar'>@resource_path</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
      <span class='ivar'>@resource_path</span> <span class='op'>=</span> <span class='ivar'>@resource_path</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_template'>template</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>templates/code_generators/sub_blocks.rb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span>
      <span class='ivar'>@fullname</span> <span class='op'>=</span> <span class='id identifier rubyid_orig_fullname'>orig_fullname</span>
      <span class='ivar'>@resource_path</span> <span class='op'>=</span> <span class='id identifier rubyid_orig_resouce_path'>orig_resouce_path</span>
      <span class='ivar'>@nested</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sub_block :</span><span class='embexpr_beg'>#{</span><span class='ivar'>@final_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, class_name: &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@fullname</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;#, base_address: 0x4000_0000</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_append_to_file'>append_to_file</span> <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='ivar'>@line</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sub_block :</span><span class='embexpr_beg'>#{</span><span class='ivar'>@final_namespaces</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>, class_name: &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_class_name'>class_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;#, base_address: 0x4000_0000</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_duts'>duts</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='ivar'>@dut_index</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_duts'>duts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_children'>children</span><span class='op'>|</span>
        <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_print_dut'>print_dut</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> <span class='id identifier rubyid_children'>children</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DO YOU WANT TO INSTANTIATE THIS SUB-BLOCK IN YOUR DUT MODELS?</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>If so enter the number(s) of the DUT(s) you wish to add it to from the list above, separating multiple entries with a space</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(note that adding it to a parent DUT in the hierarchy will already be adding it to all of its children).</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_ask'>ask</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Enter the DUT number(s), or just press return to skip:</span><span class='tstring_end'>&#39;</span></span>

      <span class='id identifier rubyid_done'>done</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
        <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_index'>index</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
        <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='ivar'>@dut_index</span><span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_target'>target</span>
          <span class='comment'># Don&#39;t add the sub-block to children if we&#39;ve already added it to the parent, this will
</span>          <span class='comment'># cause an already defined sub-block error since it will be added by both instantiations
</span>          <span class='kw'>unless</span> <span class='id identifier rubyid_done'>done</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_target'>target</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_c'>c</span><span class='embexpr_end'>}</span><span class='tstring_content'>::</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span>
            <span class='id identifier rubyid_done'>done</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_target'>target</span>
            <span class='id identifier rubyid_sub_blocks'>sub_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_class_name_to_blocks_dir'>class_name_to_blocks_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sub_blocks.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
            <span class='kw'>unless</span> <span class='id identifier rubyid_sub_blocks'>sub_blocks</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
              <span class='id identifier rubyid_orig'>orig</span> <span class='op'>=</span> <span class='ivar'>@fullname</span>
              <span class='ivar'>@fullname</span> <span class='op'>=</span> <span class='id identifier rubyid_target'>target</span>
              <span class='id identifier rubyid_template'>template</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>templates/code_generators/sub_blocks.rb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_blocks'>sub_blocks</span>
              <span class='ivar'>@fullname</span> <span class='op'>=</span> <span class='id identifier rubyid_orig'>orig</span>
            <span class='kw'>end</span>
            <span class='ivar'>@sub_block_instantiated</span> <span class='op'>=</span> <span class='kw'>true</span>
            <span class='id identifier rubyid_append_to_file'>append_to_file</span> <span class='id identifier rubyid_sub_blocks'>sub_blocks</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='ivar'>@line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup-instance_method">
  
    #<strong>setup</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66
67
68
69
70
71
72
73
74
75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/code_generators/block.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup'>setup</span>
  <span class='ivar'>@generate_model</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@generate_pins</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@generate_timesets</span> <span class='op'>=</span> <span class='op'>!</span><span class='ivar'>@nested</span>
  <span class='ivar'>@generate_parameters</span> <span class='op'>=</span> <span class='op'>!</span><span class='ivar'>@nested</span>
  <span class='kw'>if</span> <span class='ivar'>@nested</span>
    <span class='ivar'>@final_name</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='ivar'>@fullname</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path_to_class'>resource_path_to_class</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
    <span class='ivar'>@dir</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path_to_blocks_dir'>resource_path_to_blocks_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sub_blocks</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='ivar'>@final_name</span><span class='rparen'>)</span>
    <span class='ivar'>@namespaces</span> <span class='op'>=</span> <span class='id identifier rubyid_add_type_to_namespaces'>add_type_to_namespaces</span><span class='lparen'>(</span><span class='ivar'>@fullname</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:underscore</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_extract_model_name'>extract_model_name</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_create_files'>create_files</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_args-instance_method">
  
    #<strong>validate_args</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/code_generators/block.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_args'>validate_args</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>At least one argument is</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No more than two arguments are</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> expected by the block generator, e.g. &#39;origen new block atd/atd16bit&#39;, &#39;origen new block sampler app/blocks/atd/derivatives/atd16bit</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_msg'>msg</span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>2</span>
    <span class='id identifier rubyid_validate_args_common'>validate_args_common</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_validate_args_common'>validate_args_common</span>
  <span class='kw'>end</span>

  <span class='ivar'>@nested</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>2</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@nested</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You must supply a leading type to the name of the block, e.g. &#39;origen new block atd/atd16bit&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_msg'>msg</span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@nested</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No leading type is allowed when generating a nested block, e.g. &#39;origen new block sampler app/blocks/atd/derivatives/atd16bit</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_msg'>msg</span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Sep 10 20:46:31 2019 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>
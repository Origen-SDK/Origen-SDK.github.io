<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Origen::Users::LDAP
  
    &mdash; Origen Core 0.40.0
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Origen::Users::LDAP";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (L)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Users.html" title="Origen::Users (module)">Users</a></span></span>
     &raquo; 
    <span class="title">LDAP</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Origen::Users::LDAP
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Origen::Users::LDAP</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/origen/users/ldap.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Interface to talk to a company&#39;s LDAP-based employee directory, an
instance of this class is available at Origen.ldap</p>

<p>This provides APIs to lookup public information about any user (email,
phone number, etc)</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="SERVICE_ACCOUNT-constant" class="">SERVICE_ACCOUNT =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_site_config'><span class='object_link'><a href="../../Origen.html#site_config-class_method" title="Origen.site_config (method)">site_config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ldap_username'>ldap_username</span></pre></dd>
      
        <dt id="SERVICE_PASS-constant" class="">SERVICE_PASS =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_site_config'><span class='object_link'><a href="../../Origen.html#site_config-class_method" title="Origen.site_config (method)">site_config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ldap_password'>ldap_password</span></pre></dd>
      
        <dt id="HOST-constant" class="">HOST =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_site_config'><span class='object_link'><a href="../../Origen.html#site_config-class_method" title="Origen.site_config (method)">site_config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ldap_host'>ldap_host</span></pre></dd>
      
        <dt id="PORT-constant" class="">PORT =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_site_config'><span class='object_link'><a href="../../Origen.html#site_config-class_method" title="Origen.site_config (method)">site_config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ldap_port'>ldap_port</span></pre></dd>
      
        <dt id="BASE_DN-constant" class="">BASE_DN =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_site_config'><span class='object_link'><a href="../../Origen.html#site_config-class_method" title="Origen.site_config (method)">site_config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ldap_base_dn'>ldap_base_dn</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#available%3F-instance_method" title="#available? (instance method)">#<strong>available?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#display-instance_method" title="#display (instance method)">#<strong>display</strong>(user_or_id = Origen.current_user)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prints out the information available for the given core, this is useful to
work out the name of the information that you want to pull from the object
returned from lookup.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup-instance_method" title="#lookup (instance method)">#<strong>lookup</strong>(user_or_id = Origen.current_user)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Lookup the given user in the core directory and return an object
representing the user&#39;s entry in the FSL application directory, run the
display method from the console to see the field names and what information
is available.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="available?-instance_method">
  
    #<strong>available?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/users/ldap.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_available?'>available?</span>
  <span class='op'>!</span><span class='op'>!</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#SERVICE_ACCOUNT-constant" title="Origen::Users::LDAP::SERVICE_ACCOUNT (constant)">SERVICE_ACCOUNT</a></span></span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="#SERVICE_PASS-constant" title="Origen::Users::LDAP::SERVICE_PASS (constant)">SERVICE_PASS</a></span></span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="#HOST-constant" title="Origen::Users::LDAP::HOST (constant)">HOST</a></span></span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="#PORT-constant" title="Origen::Users::LDAP::PORT (constant)">PORT</a></span></span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="#BASE_DN-constant" title="Origen::Users::LDAP::BASE_DN (constant)">BASE_DN</a></span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="display-instance_method">
  
    #<strong>display</strong>(user_or_id = Origen.current_user)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prints out the information available for the given core, this is useful to
work out the name of the information that you want to pull from the object
returned from lookup</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44
45
46
47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/users/ldap.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_display'>display</span><span class='lparen'>(</span><span class='id identifier rubyid_user_or_id'>user_or_id</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_user'><span class='object_link'><a href="../../Origen.html#current_user-class_method" title="Origen.current_user (method)">current_user</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_lookup'>lookup</span><span class='lparen'>(</span><span class='id identifier rubyid_user_or_id'>user_or_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attribute'>attribute</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attribute'>attribute</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>      ---&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup-instance_method">
  
    #<strong>lookup</strong>(user_or_id = Origen.current_user)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Lookup the given user in the core directory and return an object
representing the user&#39;s entry in the FSL application directory, run the
display method from the console to see the field names and what information
is available. The record for the given user will be cached the first time
it is generated, so this method can be repeatedly called from the same
thread without incurring a remote fetch each time.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_entry'>entry</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fsl'>fsl</span><span class='period'>.</span><span class='id identifier rubyid_lookup'>lookup</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r49409</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_entry'>entry</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span>   <span class='comment'># =&gt; stephen.mcginty@freescale.com
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33
34
35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/origen/users/ldap.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup'>lookup</span><span class='lparen'>(</span><span class='id identifier rubyid_user_or_id'>user_or_id</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_user'><span class='object_link'><a href="../../Origen.html#current_user-class_method" title="Origen.current_user (method)">current_user</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_id'>id</span> <span class='op'>=</span> <span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='id identifier rubyid_user_or_id'>user_or_id</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_instance_variable_defined?'>instance_variable_defined?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_record'>record</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='label'>base:</span> <span class='const'><span class='object_link'><a href="#BASE_DN-constant" title="Origen::Users::LDAP::BASE_DN (constant)">BASE_DN</a></span></span><span class='comma'>,</span> <span class='label'>filter:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Origen.html" title="Origen (module)">Origen</a></span></span><span class='period'>.</span><span class='id identifier rubyid_site_config'><span class='object_link'><a href="../../Origen.html#site_config-class_method" title="Origen.site_config (method)">site_config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ldap_user_id_attribute'>ldap_user_id_attribute</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_record'>record</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Dec 11 11:31:31 2018 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.16 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>